Notebook[{

Cell[CellGroupData[{
Cell["PacletTools", "CodeSection",
 Evaluatable->False,
 CellChangeTimes->{{3.702672355783531*^9, 3.7026723582683268`*^9}, {
  3.733697274779274*^9, 
  3.733697275369039*^9}},ExpressionUUID->"9569851e-f938-4fd3-9b22-\
92c52124399c"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Settings\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.728934701078095*^9, 
  3.728934702502795*^9}},ExpressionUUID->"183d2e89-3598-4c96-bb8f-\
b11dffbe194f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$PacletBuildRoot", "::", "usage"}], "=", 
   "\"\<The root directory for building paclets\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletBuildExtension", "::", "usage"}], "=", 
   "\"\<The directory extension for building paclets\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletBuildDirectory", "::", "usage"}], "=", 
   "\"\<Joins the root and extension\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletExtension", "::", "usage"}], "=", 
   "\"\<The default ServerExtension\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletServerBase", "::", "usage"}], "=", 
   "\"\<The default ServerBase\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletUseKeychain", "::", "usage"}], "=", 
   "\"\<Whether to use the Keychain or not\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$FormatPaclets", "::", "usage"}], "=", 
   "\"\<Specifies whether or not to use new paclet formatting\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.728934710777719*^9, 3.7289347965917587`*^9}, {
  3.728934915666375*^9, 3.728934996349224*^9}, {3.733697269817152*^9, 
  3.7336972698217583`*^9}},ExpressionUUID->"e577feb4-1a08-4dd4-bcfa-\
8c99566fa158"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$PacletUploadPatterns", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Possible forms for PacletUpload\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletRemovePatterns", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Possible forms for PacletRemove\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletFilePatterns", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Possible forms for a paclet file\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"$PacletUploadAccount", "::", "usage"}], "=", "\n", "\t", 
   "\"\<The account to which paclets get uploaded by default\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.705159860197504*^9, 3.705159877760755*^9}, {
   3.7127879501185904`*^9, 3.712787983337331*^9}, {3.7127880171236677`*^9, 
   3.712788022346922*^9}, {3.712792535723227*^9, 3.712792568433878*^9}, {
   3.712808056867674*^9, 3.712808064572109*^9}, {3.7289321256503468`*^9, 
   3.728932129382955*^9}, 3.728933881100258*^9, {3.7289346956730833`*^9, 
   3.728934696255025*^9}},ExpressionUUID->"1b7be0a9-afa7-4834-bcbc-\
28f60e9f75bf"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Paclets\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703445963282941*^9, 
  3.703445975538464*^9}},ExpressionUUID->"22c96926-9d9e-4276-b720-\
c11187279678"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfo", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Extracts the Paclet from a PacletInfo.m file\>\""}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.7027306251286077`*^9, 3.702730669012924*^9}, {
   3.702731233868539*^9, 3.702731281104533*^9}, {3.703445972479219*^9, 
   3.703445973311514*^9}, {3.7127881921409473`*^9, 3.712788203391788*^9}, {
   3.71279309386418*^9, 3.712793126498087*^9}, {3.713114928986142*^9, 
   3.7131149572046223`*^9}, {3.7205579379866962`*^9, 3.720557943198613*^9}, {
   3.727880007142709*^9, 3.727880066590423*^9}, 3.72789389250779*^9, 
   3.727894174683764*^9, {3.7289320844429703`*^9, 3.728932091206522*^9}, {
   3.728933064252613*^9, 
   3.728933067195928*^9}},ExpressionUUID->"35af87d7-57b6-4c89-b2be-\
f01de3eb90ac"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageScopeBlock", "[", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletInfoExpressionBundle", "::", "usage"}], "=", "\n", 
     "\t\t", "\"\<Bundles a PacletInfoExpression into a PacletInfo.m \
file\>\""}], ";"}], "\n", "\t", "]"}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.7027306251286077`*^9, 3.702730669012924*^9}, {
   3.702731233868539*^9, 3.702731281104533*^9}, {3.703445972479219*^9, 
   3.703445973311514*^9}, {3.7127881921409473`*^9, 3.712788203391788*^9}, {
   3.71279309386418*^9, 3.712793126498087*^9}, {3.713114928986142*^9, 
   3.7131149572046223`*^9}, {3.7205579379866962`*^9, 3.720557943198613*^9}, {
   3.727880007142709*^9, 3.727880066590423*^9}, 3.72789389250779*^9, 
   3.727894174683764*^9, {3.7289320844429703`*^9, 
   3.728932101021182*^9}},ExpressionUUID->"ea6689b5-6f88-406e-ae01-\
b44c256f8afb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoAssociation", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Converts a Paclet into an Association\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"PacletInfoExpression", "::", "usage"}], "=", "\n", "\t", 
    "\"\<Generates a Paclet expression for a directory\>\""}], ";"}], 
  "\t"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletBundle", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Bundles a paclet site from a directory in a standard build \
directory\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletFindBuiltFile", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Finds a built paclet file\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletAutoPaclet", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Autogenerates a paclet\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletLookup", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Applies Lookup to paclets\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoGenerate", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Generates a PacletInfo.m file from a directory\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletOpen", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Opens an installed paclet from its \\\"Location\\\"\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7027306251286077`*^9, 3.702730669012924*^9}, {
  3.702731233868539*^9, 3.702731281104533*^9}, {3.703445972479219*^9, 
  3.703445973311514*^9}, {3.7127881921409473`*^9, 3.712788203391788*^9}, {
  3.71279309386418*^9, 3.712793126498087*^9}, {3.713114928986142*^9, 
  3.7131149572046223`*^9}, {3.7205579379866962`*^9, 3.720557943198613*^9}, {
  3.727880007142709*^9, 3.727880073643139*^9}, {3.734138679411787*^9, 
  3.7341386799528313`*^9}},ExpressionUUID->"3ec74622-fe68-48f4-96f6-\
e2a12ff0ef3a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstalledQ", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Tests whether a paclet has been installed\>\""}], ";"}]], "CodeInput",
 
 CellChangeTimes->{{3.729728736168133*^9, 3.729728751770198*^9}, {
  3.7341386555557528`*^9, 
  3.734138673159644*^9}},ExpressionUUID->"e58d3f53-2291-442c-a231-\
df47dd2ca270"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Paclet Sites\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703445963282941*^9, 
  3.703445980754451*^9}},ExpressionUUID->"c5b3f299-a819-471f-9cc1-\
084a59ce0614"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteURL", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Provides the default URL for a paclet site\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInfo", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Extracts a PacletSite from a .paclet or PacletSite.mz file\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInfoDataset", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Formats a PacletSite into a Dataset\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteBundle", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Bundles a PacletSite.mz from a collection of PacletInfo specs\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702674262810955*^9, 3.702674447232442*^9}, {
   3.702676576244383*^9, 3.702676616276352*^9}, {3.702731948773188*^9, 
   3.702731951042912*^9}, {3.70273422404478*^9, 3.7027342341417837`*^9}, {
   3.702734392045323*^9, 3.702734392480304*^9}, 3.70273443322906*^9, 
   3.7028330759089193`*^9, 3.7036092827184134`*^9, {3.712793023808983*^9, 
   3.712793063461972*^9}, {3.727879944978608*^9, 
   3.7278799510492163`*^9}},ExpressionUUID->"04fea9c9-2368-4f48-80cb-\
1689744eb8ef"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Installers\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703445963282941*^9, 
  3.7034459913954153`*^9}},ExpressionUUID->"206ae428-8a5a-488f-95cf-\
cb04bc05f205"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PackageScopeBlock", "[", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"PacletInstallerURL", "::", "usage"}], "=", "\n", "\t", "\t", 
      "\"\<Provides the default URL for a paclet installer\>\""}], ";", "\n", 
     "\t", 
     RowBox[{
      RowBox[{"PacletUploadInstaller", "::", "usage"}], "=", "\n", "\t", 
      "\t", "\"\<Uploads the paclet installer script\>\""}], ";", "\n", "\t", 
     
     RowBox[{
      RowBox[{"PacletUninstallerURL", "::", "usage"}], "=", "\n", "\t", "\t", 
      "\"\<Provides the default URL for a paclet installer\>\""}], ";", "\n", 
     "\t", 
     RowBox[{
      RowBox[{"PacletUploadUninstaller", "::", "usage"}], "=", "\n", "\t", 
      "\t", "\"\<Uploads the paclet installer script\>\""}], ";", "\n", "\t", 
     
     RowBox[{
      RowBox[{"PacletSiteInstall", "::", "usage"}], "=", "\n", "\t", "\t", 
      "\"\<Installs from the Installer.m file if possible\>\""}], ";", "\n", 
     "\t", 
     RowBox[{
      RowBox[{"PacletSiteUninstall", "::", "usage"}], "=", "\n", "\t", "\t", 
      "\"\<Uninstalls from the Uninstaller.m file if possible\>\""}], ";"}], 
    ",", "\n", "\t", "\"\<Deprecated\>\""}], "\n", "\t", "]"}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.702674262810955*^9, 3.702674447232442*^9}, {
   3.702731954842675*^9, 3.702731956634345*^9}, {3.727879956028854*^9, 
   3.727879977614687*^9}, {3.727880099301352*^9, 3.727880100826694*^9}, 
   3.728933836243876*^9},ExpressionUUID->"d86ebded-284b-4b56-8f06-\
fb80522f32ab"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Uploads\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"c9fb1d01-30db-4555-9ff3-89c6e612d07e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUpload", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Uploads a PacletSite.mz file\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletAPIUpload", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Creates a paclet link via an API based upload\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.705159860197504*^9, 3.705159877760755*^9}, {
   3.7127879501185904`*^9, 3.712787983337331*^9}, {3.7127880171236677`*^9, 
   3.712788022346922*^9}, {3.712792535723227*^9, 3.712792568433878*^9}, {
   3.712808056867674*^9, 3.712808064572109*^9}, {3.7289321256503468`*^9, 
   3.728932129382955*^9}, 
   3.728933881100258*^9},ExpressionUUID->"8733392c-7ea9-463e-828f-\
d09a30df4ead"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletUpload", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Uploads a paclet to a server\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletRemove", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Removes a paclet from a server\>\""}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7026757519709053`*^9, 3.7026757666381893`*^9}, {
   3.702731957850417*^9, 3.702731958266399*^9}, {3.702770798831141*^9, 
   3.702770810354051*^9}, {3.70277252751966*^9, 3.702772535630275*^9}, {
   3.7044138860108433`*^9, 3.704413893608436*^9}, {3.705680401483224*^9, 
   3.705680419653572*^9}, 3.705684943611136*^9, {3.7064567194945393`*^9, 
   3.7064567342857513`*^9}, {3.712788027037187*^9, 
   3.712788027522703*^9}},ExpressionUUID->"c18e79b7-8a87-4079-9a7f-\
a868228d05bb"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Install\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7055899471645308`*^9, 
  3.7055899479096317`*^9}},ExpressionUUID->"f84c9e99-af53-464d-9253-\
46680aceea7f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "usage"}], "=", 
   "\"\<Downloads a paclet from a URL\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallPaclet", "::", "usage"}], "=", 
   "\"\<Installs a paclet from a URL\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"376fd91e-69de-4380-94e7-33311372e238"]\

}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Formatting\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.725672926771078*^9, 
  3.725672928999872*^9}},ExpressionUUID->"86e162cf-c2d1-47ef-9400-\
d16f409c1a9c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SetPacletFormatting", "::", "usage"}], "=", 
   "\"\<Sets new paclet formatting\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.725672930676004*^9, 3.72567294804149*^9}, {
  3.728932158912047*^9, 
  3.7289321784671183`*^9}},ExpressionUUID->"88a11171-2aa2-4195-8458-\
ca2c41aaddeb"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"fb38b502-392c-4587-9c66-\
4071951a2e3d"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Config\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7205729772798367`*^9, 
  3.720572977847118*^9}},ExpressionUUID->"94bdb5e7-0cfb-488d-805a-\
d1f37ad0f22c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$PacletBuildDirectory", ":=", "\n", "\t", 
   RowBox[{"FileNameJoin", "@", 
    RowBox[{"{", 
     RowBox[{"$PacletBuildRoot", ",", " ", "$PacletBuildExtension"}], 
     "}"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
    "PacletExecuteSettingsLookup", "[", "\"\<ClearBuildCacheOnLoad\>\"", 
     "]"}], ",", "\n", "\t", 
    RowBox[{
     RowBox[{"Quiet", "@", 
      RowBox[{"DeleteDirectory", "[", 
       RowBox[{"$PacletBuildDirectory", ",", " ", 
        RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], ";"}]}], 
   "\n", "\t", "]"}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.729715287774242*^9, 3.72971533145884*^9}, {
  3.7297286387381973`*^9, 
  3.729728639790661*^9}},ExpressionUUID->"e77ed41c-b05b-4ef1-b410-\
8eba11629c3b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$PacletBuildRoot", ":=", "\n", "\t", 
   RowBox[{"PacletExecuteSettingsLookup", "[", "\"\<BuildRoot\>\"", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"$PacletBuildExtension", ":=", "\n", "\t", 
   RowBox[{
   "PacletExecuteSettingsLookup", "[", "\"\<BuildExtension\>\"", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"$PacletUseKeychain", ":=", "\n", "\t", 
   RowBox[{"PacletExecuteSettingsLookup", "[", "\"\<UseKeychain\>\"", "]"}]}],
   ";"}]}], "CodeInput",
 CellChangeTimes->{{3.728935183469739*^9, 3.728935212871541*^9}, {
  3.728935542265944*^9, 3.7289355709688253`*^9}, {3.73369726983092*^9, 
  3.7336972698352547`*^9}},ExpressionUUID->"a21b2a38-fe42-48f8-a54a-\
a494a59feb30"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$FormatPaclets", ":=", "\n", "\t", 
   RowBox[{
   "PacletExecuteSettingsLookup", "[", "\"\<FormatPaclets\>\"", "]"}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.728935581647071*^9, 
  3.728935589894648*^9}},ExpressionUUID->"31f22c40-e436-456d-9582-\
fb6eeb5f5495"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$PacletFilePatterns", ":=", "\n", "\t", 
   RowBox[{"PacletExecuteSettingsLookup", "[", "\n", "\t\t", 
    RowBox[{"\"\<FilePattern\>\"", ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "_String", "|", "_URL", "|", "_File", "|", "_PacletManager`Paclet"}], 
       ")"}], "|", "\n", "\t", "\t", 
      RowBox[{"(", "\n", "\t", "\t\t", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"_String", "|", "_PacletManager`Paclet"}], ")"}], "->", "\n",
         "\t", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{
         "_String", "|", "_URL", "|", "_File", "|", "_PacletManager`Paclet"}],
          ")"}]}], "\n", "\t\t\t", ")"}]}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"beca6c11-3282-417e-8ef2-ce161a85f15f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$PacletSpecPattern", ":=", "\n", "\t", 
   RowBox[{"PacletExecuteSettingsLookup", "[", "\n", "\t\t", 
    RowBox[{"\"\<UploadPattern\>\"", ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_URL", "|", "_File", "|", 
        RowBox[{"{", 
         RowBox[{"_String", ",", "_String"}], "}"}], "|", 
        "_PacletManager`Paclet"}], ")"}], "|", "\n", "\t", "\t\t", 
      RowBox[{"Rule", "[", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"_String", "|", "_PacletManager`Paclet"}], ",", "\n", "\t", 
        "\t\t\t", 
        RowBox[{"(", 
         RowBox[{"_String", "|", "_URL", "|", "_File", "|", 
          RowBox[{"{", 
           RowBox[{"_String", ",", "_String"}], "}"}], "|", 
          "_PacletManager`Paclet"}], ")"}]}], "\n", "\t\t\t\t", "]"}]}]}], 
    "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{"$PacletUploadPatterns", ":=", "\n", "\t", 
  RowBox[{"$PacletSpecPattern", "|", 
   RowBox[{"{", 
    RowBox[{"$PacletSpecPattern", ".."}], 
    "}"}]}]}]}], \
"CodeInput",ExpressionUUID->"579b6d59-f672-4770-8043-69f894bbcdaa"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Paclets\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703751907459077*^9, 
  3.703751914017556*^9}},ExpressionUUID->"8bc7952f-fac7-4ba9-8111-\
486d554f2140"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInfoAssociation\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.731003898608549*^9},ExpressionUUID->"6a0e7d44-1bc2-4ee6-a879-\
195523e2680e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$validPacletFields", ":=", "\n", "\t", 
   RowBox[{"$validPacletFields", "=", "\n", "\t\t", 
    RowBox[{"Keys", "@", 
     RowBox[{"Options", "[", "PacletInfoExpression", "]"}]}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"$pacletFieldMap", "=", "\n", "\t", 
   RowBox[{"AssociationThread", "[", "\n", "\t\t", 
    RowBox[{"$validPacletFields", ",", "\n", "\t\t", 
     RowBox[{"Range", "[", 
      RowBox[{"Length", "[", "$validPacletFields", "]"}], "]"}]}], "\n", 
    "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"c2972ac2-60ed-4d3b-a728-63e4fede0c41"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"makePacletInfoAssociation", "[", 
    RowBox[{"PacletManager`Paclet", "[", "k__", "]"}], "]"}], ":=", "\n", 
   "\t", 
   RowBox[{
    RowBox[{"KeySortBy", "[", "$pacletFieldMap", "]"}], "@", "\n", "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"base", "=", "\n", "\t", "\t\t", 
        RowBox[{"KeyMap", "[", 
         RowBox[{
          RowBox[{"Replace", "[", 
           RowBox[{"s_Symbol", ":>", 
            RowBox[{"SymbolName", "[", "s", "]"}]}], "]"}], ",", 
          RowBox[{"<|", "k", "|>"}]}], "]"}]}], "\n", "\t", "\t\t", "}"}], 
      ",", "\n", "\t", "\t\t", 
      RowBox[{"ReplacePart", "[", 
       RowBox[{"base", ",", "\n", "\t", "\t\t\t", 
        RowBox[{"\"\<Extensions\>\"", "->", "\n", "\t", "\t\t\t\t", 
         RowBox[{"AssociationThread", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"First", "/@", 
            RowBox[{"Lookup", "[", 
             RowBox[{"base", ",", "\"\<Extensions\>\"", ",", 
              RowBox[{"{", "}"}]}], "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Association", "@*", "Rest"}], "/@", 
            RowBox[{"Lookup", "[", 
             RowBox[{"base", ",", "\"\<Extensions\>\"", ",", 
              RowBox[{"{", "}"}]}], "]"}]}]}], "\n", "\t\t\t\t\t\t", 
          "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.699937576561064*^9, 3.699937842671096*^9}, {
   3.699937980781375*^9, 3.699937981170021*^9}, {3.6999380430549593`*^9, 
   3.699938109137146*^9}, {3.6999409404964237`*^9, 3.699940944162681*^9}, {
   3.700356113008729*^9, 3.700356161020547*^9}, {3.7003563778199*^9, 
   3.700356384326764*^9}, {3.700363907511817*^9, 3.7003639180829287`*^9}, {
   3.702730389132752*^9, 3.7027304608831263`*^9}, {3.7027305189399643`*^9, 
   3.702730618184128*^9}, {3.7027308647499313`*^9, 3.702730882483536*^9}, {
   3.702731451855854*^9, 3.702731492829652*^9}, {3.7027704241645308`*^9, 
   3.702770469507577*^9}, {3.7027707198433657`*^9, 3.702770722958209*^9}, {
   3.7034688435426683`*^9, 3.703468856670109*^9}, {3.703469462143456*^9, 
   3.70346946912667*^9}, {3.7034695247867603`*^9, 3.703469589138899*^9}, {
   3.703606453538665*^9, 3.703606480277062*^9}, {3.704668580351658*^9, 
   3.704668665624916*^9}, {3.7046688430998783`*^9, 3.704668928474918*^9}, {
   3.704668990805851*^9, 3.704669023592943*^9}, {3.704669060430234*^9, 
   3.704669152129554*^9}, {3.704669222280706*^9, 3.704669275481935*^9}, {
   3.704669379542976*^9, 3.704669429734663*^9}, {3.704669461072893*^9, 
   3.704669467181246*^9}, {3.705596578340554*^9, 3.705596608442875*^9}, {
   3.705596644860507*^9, 3.705596728735456*^9}, {3.7064846183859*^9, 
   3.706484639088489*^9}, {3.706866900095811*^9, 3.706867067121668*^9}, {
   3.706867129766983*^9, 3.706867163604488*^9}, 3.712877841515777*^9, {
   3.712878127686676*^9, 3.712878129813964*^9}, {3.7128782031791153`*^9, 
   3.712878252808277*^9}, 3.71287829286764*^9, {3.7128798686814537`*^9, 
   3.712879871711749*^9}, {3.7145923963801403`*^9, 3.71459240840546*^9}, {
   3.7178682969012423`*^9, 3.71786834694788*^9}, {3.717868420166692*^9, 
   3.717868420515749*^9}, {3.72514465663905*^9, 3.72514465757843*^9}, 
   3.727880044637155*^9, {3.728711412720866*^9, 3.728711527672584*^9}, {
   3.728883265287489*^9, 3.728883310973311*^9}, {3.728966219132807*^9, 
   3.7289662228091087`*^9}, {3.728966545203075*^9, 3.72896654822366*^9}, {
   3.7289666273087387`*^9, 3.7289666285283327`*^9}, {3.729729724866325*^9, 
   3.7297297283936167`*^9}, {3.729729797188793*^9, 3.7297298002199574`*^9}, {
   3.729729888821809*^9, 
   3.72972991854428*^9}},ExpressionUUID->"e75c2312-c140-40da-8640-\
dbcba6fb619d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "validatePacletAssociationField", "]"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletAssociationField", "[", 
    RowBox[{"\"\<Location\>\"", ",", " ", 
     RowBox[{"Except", "[", 
      RowBox[{"_String", "?", "DirectoryQ"}], "]"}]}], "]"}], ":=", "\n", 
   "\t", "Nothing"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletAssociationField", "[", 
    RowBox[{"_", ",", " ", "\"\<\>\""}], "]"}], ":=", "\n", "\t", "Nothing"}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletAssociationField", "[", 
    RowBox[{"k_", ",", " ", "f_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"k", "\[Rule]", "f"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7289666294571123`*^9, 3.728966684133122*^9}, {
  3.729728782302659*^9, 
  3.7297287867623987`*^9}},ExpressionUUID->"8b6b4e70-3717-4af5-8e3f-\
255b8d6e0cde"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"iPacletInfoAssociation", "[", 
    RowBox[{"p", ":", 
     RowBox[{"PacletManager`Paclet", "[", "k__", "]"}]}], "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"Association", "@", "\n", "\t\t", 
    RowBox[{"KeyValueMap", "[", "\n", "\t\t\t", 
     RowBox[{"validatePacletAssociationField", ",", "\n", "\t\t\t", 
      RowBox[{"makePacletInfoAssociation", "[", "p", "]"}]}], "\n", "\t\t\t", 
     "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"iPacletInfoAssociation", "[", 
   RowBox[{"PacletManager`Paclet", "[", "]"}], "]"}], ":=", 
  RowBox[{"<|", "|>"}]}]}], "CodeInput",
 CellChangeTimes->{{3.699937576561064*^9, 3.699937842671096*^9}, {
   3.699937980781375*^9, 3.699937981170021*^9}, {3.6999380430549593`*^9, 
   3.699938109137146*^9}, {3.6999409404964237`*^9, 3.699940944162681*^9}, {
   3.700356113008729*^9, 3.700356161020547*^9}, {3.7003563778199*^9, 
   3.700356384326764*^9}, {3.700363907511817*^9, 3.7003639180829287`*^9}, {
   3.702730389132752*^9, 3.7027304608831263`*^9}, {3.7027305189399643`*^9, 
   3.702730618184128*^9}, {3.7027308647499313`*^9, 3.702730882483536*^9}, {
   3.702731451855854*^9, 3.702731492829652*^9}, {3.7027704241645308`*^9, 
   3.702770469507577*^9}, {3.7027707198433657`*^9, 3.702770722958209*^9}, {
   3.7034688435426683`*^9, 3.703468856670109*^9}, {3.703469462143456*^9, 
   3.70346946912667*^9}, {3.7034695247867603`*^9, 3.703469589138899*^9}, {
   3.703606453538665*^9, 3.703606480277062*^9}, {3.704668580351658*^9, 
   3.704668665624916*^9}, {3.7046688430998783`*^9, 3.704668928474918*^9}, {
   3.704668990805851*^9, 3.704669023592943*^9}, {3.704669060430234*^9, 
   3.704669152129554*^9}, {3.704669222280706*^9, 3.704669275481935*^9}, {
   3.704669379542976*^9, 3.704669429734663*^9}, {3.704669461072893*^9, 
   3.704669467181246*^9}, {3.705596578340554*^9, 3.705596608442875*^9}, {
   3.705596644860507*^9, 3.705596728735456*^9}, {3.7064846183859*^9, 
   3.706484639088489*^9}, {3.706866900095811*^9, 3.706867067121668*^9}, {
   3.706867129766983*^9, 3.706867163604488*^9}, 3.712877841515777*^9, {
   3.712878127686676*^9, 3.712878129813964*^9}, {3.7128782031791153`*^9, 
   3.712878252808277*^9}, 3.71287829286764*^9, {3.7128798686814537`*^9, 
   3.712879871711749*^9}, {3.7145923963801403`*^9, 3.71459240840546*^9}, {
   3.7178682969012423`*^9, 3.71786834694788*^9}, {3.717868420166692*^9, 
   3.717868420515749*^9}, {3.72514465663905*^9, 3.72514465757843*^9}, 
   3.727880044637155*^9, {3.728711412720866*^9, 3.728711527672584*^9}, {
   3.728883265287489*^9, 3.728883310973311*^9}, {3.728966219132807*^9, 
   3.7289662228091087`*^9}, {3.728966545203075*^9, 3.72896654822366*^9}, {
   3.7289666273087387`*^9, 3.7289666285283327`*^9}, {3.728966689105554*^9, 
   3.728966703906736*^9}, {3.7297297363617153`*^9, 3.729729819232525*^9}, {
   3.729729956873076*^9, 3.72972995978543*^9}, {3.7297306333738937`*^9, 
   3.7297306597329073`*^9}, 3.729730696109366*^9, {3.733695241435301*^9, 
   3.7336952473057404`*^9}},ExpressionUUID->"d4b177f5-aa60-4784-8000-\
3331558f59e1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$pacletInfoSpec", "=", "\n", "\t", 
   RowBox[{"_String", "|", "\n", "\t", 
    RowBox[{"{", 
     RowBox[{"_String", ",", " ", 
      RowBox[{"_String", "?", 
       RowBox[{"(", 
        RowBox[{"StringEndsQ", "[", "NumberString", "]"}], ")"}]}]}], "}"}], 
    "|", "\n", "\t", 
    RowBox[{"_File", "?", "FileExistsQ"}], "|", "\n", "\t", 
    "_PacletManager`Paclet"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.7297308887644663`*^9, 
  3.729730965023082*^9}},ExpressionUUID->"9150e576-dd77-46f5-b6a0-\
218dde5871ff"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoAssociation", "[", 
    RowBox[{"infoFile", ":", "$pacletInfoSpec"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"PacletInfo", "[", "infoFile", "]"}], ",", "\n", "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"p", ":", "_PacletManager`Paclet"}], ":>", "\n", "\t\t\t\t", 
        RowBox[{"iPacletInfoAssociation", "@", "p"}]}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"p", ":", 
         RowBox[{"{", "__PacletManager`Paclet", "}"}]}], ":>", "\n", 
        "\t\t\t\t", 
        RowBox[{"iPacletInfoAssociation", "/@", "p"}]}], ",", "\n", "\t\t\t", 
       
       RowBox[{"_", "\[Rule]", 
        RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "}"}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoAssociation", "[", 
    RowBox[{"l", ":", 
     RowBox[{"{", 
      RowBox[{"$pacletInfoSpec", ".."}], "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletInfoAssociation", "/@", "l"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.699937576561064*^9, 3.699937842671096*^9}, {
   3.699937980781375*^9, 3.699937981170021*^9}, {3.6999380430549593`*^9, 
   3.699938109137146*^9}, {3.6999409404964237`*^9, 3.699940944162681*^9}, {
   3.700356113008729*^9, 3.700356161020547*^9}, {3.7003563778199*^9, 
   3.700356384326764*^9}, {3.700363907511817*^9, 3.7003639180829287`*^9}, {
   3.702730389132752*^9, 3.7027304608831263`*^9}, {3.7027305189399643`*^9, 
   3.702730618184128*^9}, {3.7027308647499313`*^9, 3.702730882483536*^9}, {
   3.702731451855854*^9, 3.702731492829652*^9}, {3.7027704241645308`*^9, 
   3.702770469507577*^9}, {3.7027707198433657`*^9, 3.702770722958209*^9}, {
   3.7034688435426683`*^9, 3.703468856670109*^9}, {3.703469462143456*^9, 
   3.70346946912667*^9}, {3.7034695247867603`*^9, 3.703469589138899*^9}, {
   3.703606453538665*^9, 3.703606480277062*^9}, {3.704668580351658*^9, 
   3.704668665624916*^9}, {3.7046688430998783`*^9, 3.704668928474918*^9}, {
   3.704668990805851*^9, 3.704669023592943*^9}, {3.704669060430234*^9, 
   3.704669152129554*^9}, {3.704669222280706*^9, 3.704669275481935*^9}, {
   3.704669379542976*^9, 3.704669429734663*^9}, {3.704669461072893*^9, 
   3.704669467181246*^9}, {3.705596578340554*^9, 3.705596608442875*^9}, {
   3.705596644860507*^9, 3.705596728735456*^9}, {3.7064846183859*^9, 
   3.706484639088489*^9}, {3.706866900095811*^9, 3.706867067121668*^9}, {
   3.706867129766983*^9, 3.706867163604488*^9}, 3.712877841515777*^9, {
   3.712878127686676*^9, 3.712878129813964*^9}, {3.7128782031791153`*^9, 
   3.712878252808277*^9}, 3.71287829286764*^9, {3.7128798686814537`*^9, 
   3.712879871711749*^9}, {3.7145923963801403`*^9, 3.71459240840546*^9}, {
   3.7178682969012423`*^9, 3.71786834694788*^9}, {3.717868420166692*^9, 
   3.717868420515749*^9}, {3.72514465663905*^9, 3.72514465757843*^9}, 
   3.727880044637155*^9, {3.728711412720866*^9, 3.728711527672584*^9}, {
   3.728883265287489*^9, 3.728883310973311*^9}, {3.728966219132807*^9, 
   3.7289662228091087`*^9}, {3.728966545203075*^9, 3.72896654822366*^9}, {
   3.7289666273087387`*^9, 3.7289666285283327`*^9}, {3.728966689105554*^9, 
   3.728966703906736*^9}, {3.7297297363617153`*^9, 3.729729819232525*^9}, {
   3.729729956873076*^9, 3.729729960946664*^9}, {3.7297303575229073`*^9, 
   3.729730362433567*^9}, {3.729730550051529*^9, 3.729730553778344*^9}, {
   3.7297308409009743`*^9, 3.729730879536009*^9}, {3.7297309689691277`*^9, 
   3.729731021584388*^9}, {3.731004233953917*^9, 
   3.731004276496203*^9}},ExpressionUUID->"ca3af5cb-2248-4467-a704-\
9de97960ca3f"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInfo\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.699937572999563*^9, 3.699937574968251*^9}, 
   3.7027305115789537`*^9},ExpressionUUID->"ff28c3b7-2ff7-4248-a706-\
6da773775ba4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInfo", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "PacletManager`PacletFind", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfo", "[", 
    RowBox[{
     RowBox[{"infoFile", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "$tmpdir", "}"}], ",", "\n", "\t", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"pacletInfo", "=", "\n", "\t", "\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{"infoFile", ",", "\n", "\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"d", ":", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"_String", "|", "_File"}], ")"}], "?", 
                "DirectoryQ"}]}], ":>", "\n", "\t", "\t", "\t\t\t\t", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"d", ",", " ", "\"\<PacletInfo.m\>\""}], "}"}]}]}], 
             ",", "\n", "\t", "\t", "\t\t\t", 
             RowBox[{
              RowBox[{"f", ":", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"_String", "|", "_File"}], ")"}], "?", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"FileExtension", "[", "#", "]"}], "\[Equal]", 
                    "\"\<paclet\>\""}], "&&", 
                   RowBox[{"FileExistsQ", "[", "#", "]"}]}], "&"}], ")"}]}]}],
               ":>", "\n", "\t", "\t", "\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"rd", "=", 
                  RowBox[{"$tmpdir", "=", 
                   RowBox[{"CreateDirectory", "[", "]"}]}]}], "}"}], ",", 
                "\n", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{"First", "@", 
                 RowBox[{"ExtractArchive", "[", 
                  RowBox[{"f", ",", "rd", ",", "\"\<*PacletInfo.m\>\""}], 
                  "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
            "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
        "}"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"(", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"StringQ", "[", "$tmpdir", "]"}], ",", " ", 
             RowBox[{"DeleteDirectory", "[", 
              RowBox[{"$tmpdir", ",", " ", 
               RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], 
            "]"}], ";", "\n", "\t\t\t\t", "#"}], "\n", "\t\t\t\t", ")"}], 
         "&"}], "@", "\n", "\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"FileExistsQ", "@", "pacletInfo"}], ",", "\n", "\t", 
          "\t\t\t", 
          RowBox[{"PacletManager`CreatePaclet", "[", "pacletInfo", "]"}], ",",
           "\n", "\t", "\t\t\t", 
          RowBox[{"PacletManager`Paclet", "[", "]"}]}], "\n", "\t\t\t\t", 
         "]"}]}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"PacletInfo", "[", 
     RowBox[{"pac_PacletManager`Paclet", ",", " ", 
      RowBox[{"ops", ":", 
       RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
    "pac"}], ";"}], 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"pf", "=", 
        RowBox[{"pac", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",", "\n", 
      "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringQ", "@", "pf"}], "&&", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"pf", ",", " ", "\"\<PacletInfo.m\>\""}], "}"}]}]}]}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"PacletInfo", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"pf", ",", " ", "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", 
        "\n", "\t\t\t", "pac"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}],
     ";"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfo", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"p", ":", 
      RowBox[{"_String", "|", 
       RowBox[{"{", 
        RowBox[{"_String", ",", " ", 
         RowBox[{"_String", "?", 
          RowBox[{"(", 
           RowBox[{"StringEndsQ", "[", "NumberString", "]"}], ")"}]}]}], 
        "}"}]}]}], ",", " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"(*", 
    RowBox[{"PacletInfo", "@"}], "*)"}], 
   RowBox[{"PacletManager`PacletFind", "[", 
    RowBox[{"p", ",", " ", "ops"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfo", "[", 
    RowBox[{
     RowBox[{"l", ":", 
      RowBox[{"{", 
       RowBox[{"$pacletInfoSpec", ".."}], "}"}]}], ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletInfo", "[", 
      RowBox[{"#", ",", " ", "ops"}], "]"}], "&"}], "/@", "l"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"20a6dee5-1cf6-44c6-aca2-37038f17ee42"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletDocsInfo\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702731329446846*^9, 
  3.7027313313654203`*^9}},ExpressionUUID->"99cbc700-c5d4-48c1-985e-\
3e09547f2d94"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletDocsInfo", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<Language\>\"", "\[Rule]", "\"\<English\>\""}], ",", "\n", 
     "\t", 
     RowBox[{"\"\<Root\>\"", "\[Rule]", "None"}], ",", "\n", "\t", 
     RowBox[{"\"\<LinkBase\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"\"\<MainPage\>\"", "\[Rule]", "None"}]}], 
    RowBox[{"(*", 
     RowBox[{",", "\n", "\t", 
      RowBox[{"\"\<Resources\>\"", "\[Rule]", "None"}]}], "*)"}], "\n", "\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDocsInfo", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"SortBy", "[", 
    RowBox[{
     RowBox[{"DeleteCases", "[", 
      RowBox[{
       RowBox[{"DeleteDuplicatesBy", "[", 
        RowBox[{
         RowBox[{"{", "ops", "}"}], ",", "First"}], "]"}], ",", 
       RowBox[{"_", "\[Rule]", "None"}]}], "]"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{"o", "=", "\n", "\t\t\t\t\t", 
         RowBox[{"Association", "@", 
          RowBox[{"MapIndexed", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "\[Rule]", 
              RowBox[{"#2", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "&"}], ",", " ", 
            RowBox[{"Keys", "@", 
             RowBox[{"Options", "@", "PacletDocsInfo"}]}]}], "]"}]}]}], "\n", 
        "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"o", ",", 
          RowBox[{"First", "@", "#"}], ",", " ", 
          RowBox[{
           RowBox[{"Length", "@", "o"}], "+", "1"}]}], "]"}], "&"}]}], 
      "]"}]}], "\n", "\t\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDocsInfo", "[", 
    RowBox[{
     RowBox[{"dest_String", "?", "DirectoryQ"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"lang", "=", "\n", "\t\t", 
       RowBox[{"FileBaseName", "@", "\n", "\t\t\t", 
        RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dest", ",", "\"\<Documentation\>\""}], "}"}]}]}], 
           "]"}], ",", "\n", "\t\t\t\t", "DirectoryQ"}], "]"}]}]}], "}"}], 
     ",", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"MissingQ", "@", "lang"}], ",", "\n", "\t\t\t", 
       RowBox[{"{", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"PacletDocsInfo", "[", 
        RowBox[{"ops", ",", "\n", "\t", "\t\t\t", 
         RowBox[{"\"\<Language\>\"", "\[Rule]", "\n", "\t\t\t\t\t", "lang"}], 
         ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"OptionValue", "[", "\"\<LinkBase\>\"", "]"}], "===", 
             "Automatic"}], "&&", "\n", "\t\t\t\t\t", 
            RowBox[{"StringMatchQ", "[", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dest", "]"}], ",", " ", 
              "\"\<Documentation_*\>\""}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"\"\<LinkBase\>\"", "\[Rule]", 
            RowBox[{
             RowBox[{"StringSplit", "[", 
              RowBox[{
               RowBox[{"FileBaseName", "[", "dest", "]"}], ",", " ", 
               "\"\<_\>\""}], "]"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Sequence", "@@", 
            RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"\"\<MainPage\>\"", "->", "\n", "\t", "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Map", "[", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"FileNameTake", "[", 
                RowBox[{"#", ",", 
                 RowBox[{"-", "2"}]}], "]"}], "&"}], ",", "\n", "\t", "\t", 
              "\t\t\t\t\t", 
              RowBox[{"Replace", "[", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"FileNames", "[", 
                 RowBox[{
                 "\"\<*.nb\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\"\<Documentation\>\"", ",", "lang", ",", 
                    "\"\<Guides\>\""}], "}"}]}]}], "]"}], ",", 
                RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "}"}], ":>", "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"FileNames", "[", 
                   RowBox[{
                   "\"\<*.nb\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\"\<Documentation\>\"", ",", "lang"}], 
                    "}"}]}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", "2"}], 
                   "]"}]}], "\n", "\t", "\t", "\t\t\t\t\t\t", "}"}]}], 
               "]"}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}], ",", 
            RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"{", "}"}], "\[Rule]", "None"}], ",", "\n", "\t", 
              "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"p", ":", 
                RowBox[{"{", "__", "}"}]}], ":>", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"MemberQ", "[", 
                  RowBox[{"p", ",", " ", "\"\<Guides/Overview.nb\>\""}], 
                  "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 "\"\<Guides/Overview.nb\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 
                 RowBox[{"First", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"SortBy", "[", 
                   RowBox[{
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"p", ",", " ", "\"\<.nb\>\""}], "]"}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"EditDistance", "[", 
                    RowBox[{
                    RowBox[{"FileBaseName", "@", "dest"}], ",", 
                    RowBox[{"FileBaseName", "@", "#"}]}], "]"}], "&"}]}], 
                   "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
             "\t\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], 
      "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702731029659607*^9, 3.702731111924505*^9}, {
   3.703469785443849*^9, 3.703469821543401*^9}, {3.7034706071369047`*^9, 
   3.7034706098812037`*^9}, 3.703470702999569*^9, {3.703470733925055*^9, 
   3.703470736892271*^9}, 3.70347117860063*^9, {3.728883502792647*^9, 
   3.728883529989396*^9}, 3.728883757322356*^9, {3.7306432459605207`*^9, 
   3.730643354993*^9}, {3.730654101864439*^9, 3.7306541679166613`*^9}, {
   3.730655447170596*^9, 
   3.73065545421684*^9}},ExpressionUUID->"47e8e143-0f4a-4099-b26c-\
fc33aef7cc21"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletExtensionData\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703450897443469*^9, 3.703450900273913*^9}, {
  3.730654184004548*^9, 
  3.730654184272793*^9}},ExpressionUUID->"580297df-b36b-458f-8a55-\
682e4f863e19"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Docs\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.730643078520897*^9, 3.7306431051747503`*^9}, {
  3.7306431848643007`*^9, 3.7306431854062233`*^9}, {3.7306541854366293`*^9, 
  3.730654186096768*^9}},ExpressionUUID->"224454d8-e15f-479a-8320-\
ae1b43f6b25c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionDocsInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{"FileNames", "[", 
            RowBox[{"\"\<*.nb\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dest", ",", " ", "\"\<Documentation\>\""}], "}"}]}], 
             ",", "\n", "\t\t\t\t\t\t\t\t", "\[Infinity]"}], "]"}]}], ">", 
          "0"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"\"\<Documentation\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"PacletDocsInfo", "[", "dest", "]"}]}], ",", "\n", "\t", 
         "\t\t\t\t", "Nothing"}], "\n", "\t", "\t\t\t\t", "]"}]}], ",", "\n", 
      "\t", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t", "\t\t\t", 
       RowBox[{"\"\<Documentation\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t", 
      RowBox[{"a_Association", ":>", "\n", "\t\t\t\t", 
       RowBox[{"\"\<Documentation\>\"", "\[Rule]", "a"}]}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t\t", "}"}]}], "\n", 
   "\t\t", "]"}]}]], \
"CodeInput",ExpressionUUID->"a955fd93-1046-45d7-889a-cd091dbebf82"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Kernel\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.730643078520897*^9, 3.7306431051747503`*^9}, {
  3.7306431808895807`*^9, 3.7306431814553537`*^9}, {3.734184560820918*^9, 
  3.734184561380077*^9}},ExpressionUUID->"8cf2904e-33a7-4a28-944c-\
55fbce85a9a1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionKernelInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"AnyTrue", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"Flatten", "@", 
               RowBox[{"{", 
                RowBox[{"dest", ",", "#"}], "}"}]}]}], "&"}], "/@", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"FileBaseName", "[", "dest", "]"}], "<>", 
               "\"\<.wl\>\""}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"FileBaseName", "[", "dest", "]"}], "<>", 
               "\"\<.m\>\""}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"{", 
               RowBox[{"\"\<Kernel\>\"", ",", "\"\<init.m\>\""}], "}"}]}], 
             "\n", "\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t", 
           "FileExistsQ"}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
         
         RowBox[{"\"\<Kernel\>\"", "->", "\n", "\t\t\t\t\t\t", 
          RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"\"\<Root\>\"", " ", "->", " ", "\"\<.\>\""}], ",", " ", 
            "\n", "\t", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<Context\>\"", " ", "->", " ", 
             RowBox[{
              RowBox[{"FileBaseName", "@", "dest"}], "<>", "\"\<`\>\""}]}]}], 
           "\n", "\t", "\t\t\t\t\t\t\t", "|>"}]}], ",", "\n", "\t\t\t\t", 
         "Nothing"}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<Kernel\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t", 
      RowBox[{"a_Association", ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<Kernel\>\"", "\[Rule]", "a"}]}], ",", "\n", "\t\t", 
      RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t", "}"}]}], 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.730643044276369*^9, 3.7306430621607656`*^9}, {
  3.730643603680191*^9, 3.730643607959565*^9}, {3.733361795362393*^9, 
  3.73336180707089*^9}, {3.7341847979835176`*^9, 
  3.734184807245864*^9}},ExpressionUUID->"80176c65-eae0-4e66-bd6e-\
77d1961a40b7"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]FrontEnd\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.730643078520897*^9, 
  3.7306431051747503`*^9}},ExpressionUUID->"721cfd74-8d75-471f-8112-\
ec543c708ad8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionFrontEndInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
       RowBox[{"With", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{"resources", "=", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"FileNames", "[", 
                 RowBox[{"\"\<*\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<FrontEnd\>\"", ",", "#"}], 
                    "}"}]}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  "\[Infinity]"}], "\n", "\t", "\t\t\t\t\t\t\t\t", "]"}], 
                "&"}], ",", 
               RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{
                "\"\<TextResources\>\"", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                 "\"\<SystemResources\>\"", ",", "\n", "\t", 
                 "\t\t\t\t\t\t\t", "\"\<StyleSheets\>\"", ",", "\n", "\t", 
                 "\t\t\t\t\t\t\t", "\"\<Palettes\>\""}], "\n", "\t", 
                "\t\t\t\t\t\t\t", "}"}]}], "]"}], "\n", "\t", "\t\t\t\t\t\t", 
             "}"}]}]}], "\n", "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "@", 
             RowBox[{
              RowBox[{"Select", "[", 
               RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", 
              "resources"}]}], ">", "0"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t", 
            RowBox[{"If", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"DirectoryQ", "@", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{
                  "dest", ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<FrontEnd\>\"",
                    ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   "\"\<TextResources\>\""}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "}"}]}]}], "||", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"DirectoryQ", "@", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{
                  "dest", ",", "\n", "\t\t\t\t\t\t\t\t\t", "\"\<FrontEnd\>\"",
                    ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   "\"\<SystemResources\>\""}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "}"}]}]}]}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"<|", 
               RowBox[{"Prepend", "\[Rule]", "True"}], "|>"}], ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", 
           "\n", "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}]}], "\n",
         "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t", 
      RowBox[{"a_Association", ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", "a"}]}], ",", "\n", "\t\t", 
      RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t", "}"}]}], 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.730643088655199*^9, 3.730643107562086*^9}, {
  3.730643616574235*^9, 3.7306436190441437`*^9}, {3.734184597853777*^9, 
  3.734184675429929*^9}, {3.7341852322381973`*^9, 
  3.734185264688408*^9}},ExpressionUUID->"95bf3008-f15d-45a5-ae87-\
2d37df21e401"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Resources\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.730643456943709*^9, 
  3.730643459255198*^9}},ExpressionUUID->"2645c34f-f81f-4f96-9b90-\
c85b3949435e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletResourceLists", "[", 
   RowBox[{"dest_", ",", " ", "tag_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"Replace", "[", 
     RowBox[{"#", ",", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"a_", ",", " ", "a_"}], "}"}], "\[RuleDelayed]", "a"}], ",", 
      " ", "1"}], "]"}], "&"}], "@", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Map", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"FileBaseName", "[", "#", "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameDrop", "[", 
          RowBox[{"#", ",", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"FileNameDepth", "[", "dest", "]"}], "+", "1"}]}], "\n", 
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "}"}], "&"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Select", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"DeleteDuplicates", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"FileNames", "[", 
            RowBox[{"\"\<*\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dest", ",", " ", "tag"}], "}"}]}]}], "\n", 
            "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNames", "[", 
            RowBox[{
             RowBox[{
             "\"\<*.png\>\"", "|", "\"\<*.m\>\"", "|", "\"\<*.nb\>\"", "|", 
              "\"\<*.wl\>\"", "|", "\"\<*.mx\>\"", "|", "\"\<*.wdx\>\""}], 
             ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dest", ",", " ", "\"\<Resources\>\""}], "}"}]}], ",", 
             "\n", "\t\t\t\t\t\t\t", "3"}], "\n", "\t\t\t\t\t\t\t", "]"}], 
           ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Select", "[", "DirectoryQ", "]"}], "@", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"FileNames", "[", 
             RowBox[{"\"\<*\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"dest", ",", " ", "tag"}], "}"}]}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", "3"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}]}], 
          "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Not", "@", 
          RowBox[{"StringMatchQ", "[", 
           RowBox[{
            RowBox[{"FileNameTake", "@", "#"}], ",", " ", 
            RowBox[{"\"\<.DS_Store\>\"", "|", "\"\<Thumbs.db\>\""}]}], 
           "]"}]}], "&"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
     "]"}]}]}]}]], \
"CodeInput",ExpressionUUID->"f621cc7f-9228-45b0-9afa-5490d5c190cc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionResourceInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", "\n", "\t", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
       RowBox[{"With", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"dataResources", "=", 
            RowBox[{"extractPacletResourceLists", "[", 
             RowBox[{"dest", ",", " ", "\"\<Data\>\""}], "]"}]}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"basicResources", "=", 
            RowBox[{"extractPacletResourceLists", "[", 
             RowBox[{"dest", ",", " ", "\"\<Resources\>\""}], "]"}]}]}], "\n",
           "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "@", 
             RowBox[{"Join", "[", 
              RowBox[{"dataResources", ",", " ", "basicResources"}], "]"}]}], 
            ">", "0"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"\"\<Resource\>\"", "->", "\n", "\t\t\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Length", "@", "dataResources"}], ">", "0"}], ",", 
                "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"\"\<Root\>\"", " ", "->", " ", "\"\<Data\>\""}], 
                  ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Resources\>\"", " ", "->", " ", "dataResources"}]}], 
                 "\n", "\t", "\t\t\t\t\t\t\t\t", "|>"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", 
               "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Length", "@", "basicResources"}], ">", "0"}], ",", 
                "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "\"\<Root\>\"", " ", "->", " ", "\"\<Resources\>\""}], ",", 
                  "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Resources\>\"", " ", "->", " ", "basicResources"}]}], 
                 "\n", "\t\t\t\t\t\t\t\t\t", "|>"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t", "}"}]}], ",", "\n", 
           "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<Resource\>\"", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"Association", "@", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "r", "}"}]}]}], "}"}]}]}], ",", "\n", "\t\t", 
      RowBox[{"a_Association", ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<Resource\>\"", "\[Rule]", 
        RowBox[{"{", "a", "}"}]}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"{", "__Association", "}"}]}], ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<Resource\>\"", "\[Rule]", "r"}]}], ",", "\n", "\t\t", 
      RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", "\t\t", "}"}]}], 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"f350232e-9aae-47ee-bfce-69521e04d099"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]AutoCompletionData\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.730643677913518*^9},ExpressionUUID->"69676523-96cb-4ded-92a5-\
ed5d85670241"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionAutoCompletionDataInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", 
    RowBox[{"{", "\n", "\t\t\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "\n", "\t", "\t\t\t\t\t\t", 
           RowBox[{"FileNames", "[", 
            RowBox[{"\"\<*.tr\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dest", ",", "\"\<AutoCompletionData\>\""}], "}"}]}], 
             ",", "\n", "\t", "\t\t\t\t\t\t\t\t", "\[Infinity]"}], "]"}]}], 
          ">", "0"}], ",", "\n", "\t\t\t\t\t\t", 
         RowBox[{"\"\<AutoCompletionData\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
          RowBox[{"<|", "\n", "\t\t\t\t\t\t\t\t", 
           RowBox[{
           "\"\<Root\>\"", " ", "->", " ", "\"\<AutoCompletionData\>\""}], 
           "\n", "\t\t\t\t\t\t\t\t", "|>"}]}], ",", "\n", "\t\t\t\t\t\t", 
         "Nothing"}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
      "\t\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t\t", 
       RowBox[{"\"\<AutoCompletionData\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t", "\t\t\t", 
      RowBox[{
       RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", "Nothing"}]}],
      "\n", "\t\t\t\t", "}"}]}], "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.730643672444272*^9, 
  3.730643684993537*^9}},ExpressionUUID->"fd30ab7b-b041-4f7f-9ff0-\
7a8ad6305b87"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]JLink\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.730643677913518*^9, {3.7306437391425457`*^9, 
   3.730643739868465*^9}},ExpressionUUID->"0ce1d1f3-df25-4f86-b8a3-\
39a0f9584ae7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionJLinkInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", " ", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "\n", "\t\t\t\t\t", 
           RowBox[{"FileNames", "[", 
            RowBox[{"\"\<*.jar\>\"", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"dest", ",", " ", "\"\<Java\>\""}], "}"}]}], ",", "\n",
              "\t\t\t\t\t\t", "\[Infinity]"}], "]"}]}], ">", "0"}], ",", "\n",
          "\t\t\t\t", 
         RowBox[{"\"\<JLink\>\"", "->", "\n", "\t\t\t\t\t", 
          RowBox[{"<|", "\n", "\t\t\t\t\t\t", 
           RowBox[{"\"\<Root\>\"", " ", "->", " ", "\"\<Java\>\""}], "\n", 
           "\t\t\t\t\t\t", "|>"}]}], ",", "\n", "\t\t\t\t", "Nothing"}], "\n",
         "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t", 
       RowBox[{"\"\<JLink\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", "Nothing"}]}],
      "\n", "\t\t", "}"}]}], "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.730643672444272*^9, 3.730643684993537*^9}, 
   3.730643745661386*^9, {3.73064378349158*^9, 
   3.730643820443104*^9}},ExpressionUUID->"33032962-05ed-4b5b-83c7-\
1d9e6d0d368a"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]LibraryLink\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.730643677913518*^9, {3.7306438343749533`*^9, 
   3.730643836059264*^9}},ExpressionUUID->"fb84e897-3f69-4bb0-88cc-\
930d001103a3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"extractPacletExtensionLibraryLinkInfo", "[", 
   RowBox[{"base_", ",", " ", "dest_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Replace", "[", 
   RowBox[{"base", ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Select", "[", 
             RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", "\n", "\t", 
            "\t\t\t\t\t\t", 
            RowBox[{"FileNames", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", "\"\<.DS_Store\>\"", "]"}], ",", "\n", 
              "\t", "\t", "\t\t\t\t\t\t", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"dest", ",", " ", "\"\<LibraryResources\>\""}], 
                "}"}]}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
              "\[Infinity]"}], "]"}]}]}], ">", "0"}], ",", "\n", "\t", 
         "\t\t\t\t", 
         RowBox[{"\"\<LibraryLink\>\"", "->", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"<|", "\n", "\t", "\t\t\t\t\t\t", 
           RowBox[{
           "\"\<Root\>\"", " ", "->", " ", "\"\<LibraryResources\>\""}], "\n",
            "\t", "\t\t\t\t\t\t", "|>"}]}], ",", "\n", "\t", "\t\t\t\t", 
         "Nothing"}], "\n", "\t", "\t\t\t\t", "]"}]}], ",", "\n", "\t", 
      "\t\t", 
      RowBox[{
       RowBox[{"r", ":", 
        RowBox[{"_Rule", "|", 
         RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t", "\t\t\t", 
       RowBox[{"\"\<LibraryLink\>\"", "\[Rule]", 
        RowBox[{"Association", "@", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t", "\t\t", 
      RowBox[{
       RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", "Nothing"}]}],
      "\n", "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.730643672444272*^9, 3.730643684993537*^9}, {
  3.7306438393141327`*^9, 3.7306438940306387`*^9}, {3.733454511932899*^9, 
  3.733454518465459*^9}},ExpressionUUID->"fdeb49af-f17d-4c4a-b4d6-\
0fca7b302746"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Main\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.730643078520897*^9, 
  3.730643078998859*^9}},ExpressionUUID->"56fb4f94-0779-4470-b1f3-\
c6be98888e9a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletExtensionData", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<Extensions\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<Documentation\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
     "\t", "\t", 
     RowBox[{"\"\<Kernel\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     "\t", 
     RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     "\t", 
     RowBox[{"\"\<Resource\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     "\t", 
     RowBox[{"\"\<AutoCompletionData\>\"", "\[Rule]", "Automatic"}], ",", 
     "\n", "\t", "\t", 
     RowBox[{"\"\<ChannelFramework\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
     "\t", "\t", 
     RowBox[{"\"\<JLink\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", "\t", 
     RowBox[{"\"\<LibraryLink\>\"", "\[Rule]", "Automatic"}]}], "\n", "\t", 
    "\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletExtensionData", "[", 
    RowBox[{"pacletInfo_Association", ",", "dest_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"Merge", "[", 
     RowBox[{"Merge", "[", "Last", "]"}], "]"}], "@", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"pacletInfo", ",", " ", "\"\<Extensions\>\""}], "]"}], ",", 
        "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"_Association", "?", "AssociationQ"}], "]"}], ":>", "\n", 
         "\t\t\t\t", 
         RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<Extensions\>\"", "]"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"_Association", "?", "AssociationQ"}], "]"}], ":>", "\n", 
         "\t\t\t\t", 
         RowBox[{"<|", "|>"}]}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionKernelInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<Kernel\>\"", "]"}], ",", "\n", 
        "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionFrontEndInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<FrontEnd\>\"", "]"}], ",", "\n", 
        "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionDocsInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<Documentation\>\"", "]"}], ",", "\n",
         "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionResourceInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<Resource\>\"", "]"}], ",", "\n", 
        "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{
      "extractPacletExtensionAutoCompletionDataInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<AutoCompletionData\>\"", "]"}], ",", 
        "\n", "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionJLinkInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<JLink\>\"", "]"}], ",", "\n", 
        "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"extractPacletExtensionLibraryLinkInfo", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"OptionValue", "[", "\"\<LibraryLink\>\"", "]"}], ",", "\n", 
        "\t\t\t", "dest"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "}"}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"89c7319f-2fbc-4d11-9bd8-b47b4935fd98"]\

}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInfoExpression\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.69993520784684*^9, 3.699935209336134*^9}, 
   3.7027313408184547`*^9, 
   3.727893892536825*^9},ExpressionUUID->"974d23c7-8047-4bb2-b59d-\
8cbea801b68c"],

Cell[BoxData[{
 RowBox[{"validatePacletRules", "//", "ClearAll"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletRules", "[", 
    RowBox[{"\"\<BuildNumber\>\"", "\[Rule]", "s_String"}], "]"}], ":=", "\n",
    "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"StringMatchQ", "[", 
       RowBox[{"s", ",", " ", "NumberString"}], "]"}]}], ",", "\n", "\t\t", 
     "Nothing", ",", "\n", "\t\t", 
     RowBox[{"\"\<BuildNumber\>\"", "\[Rule]", "s"}]}], "\n", "\t\t", "]"}]}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletRules", "[", 
    RowBox[{"_", "\[Rule]", "\"\<\>\""}], "]"}], ":=", "\n", "\t", 
   "Nothing"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"validatePacletRules", "[", "e_", "]"}], ":=", "e"}], 
  ";"}], "\n", 
 RowBox[{"validatePacletRules", "~", "SetAttributes", "~", "Listable", 
  "\t\t"}]}], "CodeInput",
 CellChangeTimes->{{3.72888446340893*^9, 3.728884511729068*^9}, {
  3.728885197730485*^9, 
  3.728885207075478*^9}},ExpressionUUID->"01efe5c4-fef3-4860-b919-\
be8a6d28475b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$ValidPacletKeys", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
    "\"\<Name\>\"", ",", "\n", "\t", "\t", "\"\<Version\>\"", ",", "\n", "\t",
      "\t", "\"\<Creator\>\"", ",", "\n", "\t", "\t", "\"\<URL\>\"", ",", 
     "\n", "\t", "\t", "\"\<Description\>\"", ",", "\n", "\t", "\t", 
     "\"\<Root\>\"", ",", "\n", "\t", "\t", "\"\<WolframVersion\>\"", ",", 
     "\n", "\t", "\t", "\"\<MathematicaVersion\>\"", ",", "\n", "\t", "\t", 
     "\"\<Internal\>\"", ",", "\n", "\t", "\t", "\"\<Loading\>\"", ",", "\n", 
     "\t", "\t", "\"\<Qualifier\>\"", ",", "\n", "\t", "\t", 
     "\"\<SystemID\>\"", ",", "\n", "\t", "\t", "\"\<BuildNumber\>\"", ",", 
     "\n", "\t", "\t", "\"\<Tags\>\"", ",", "\n", "\t", "\t", 
     "\"\<Categories\>\"", ",", "\n", "\t", "\t", "\"\<Authors\>\"", ",", 
     "\n", "\t", "\t", "\"\<Thumbnail\>\"", ",", "\n", "\t", "\t", 
     "\"\<Icon\>\"", ",", "\n", "\t", "\t", "\"\<Extensions\>\""}], "\n", 
    "\t", "\t", "}"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.728934321732937*^9, 
  3.728934354962381*^9}},ExpressionUUID->"4d4f1821-2c7f-44f8-b1e4-\
47b0011e3f3d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInfoExpression", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"\"\<Name\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t\t", 
       
       RowBox[{"\"\<Version\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<Creator\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<URL\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<Description\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t", "\t", "\t", 
       RowBox[{"\"\<Root\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<WolframVersion\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<MathematicaVersion\>\"", "\[Rule]", "Automatic"}], ",", 
       "\n", "\t\t\t", 
       RowBox[{"\"\<Internal\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<Loading\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
       "\t", "\t", 
       RowBox[{"\"\<Qualifier\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<SystemID\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<BuildNumber\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<Tags\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t\t", 
       
       RowBox[{"\"\<Categories\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<Authors\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<Thumbnail\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<Icon\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t\t", 
       
       RowBox[{"\"\<Extensions\>\"", "\[Rule]", "Automatic"}]}], "\n", 
      "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Options", "@", "PacletExtensionData"}]}], "\n", "\t\t", "]"}]}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoExpression", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletManager`Paclet", "@@", "\n", "\t\t", 
    RowBox[{"validatePacletRules", "@", "\n", "\t\t", 
     RowBox[{"SortBy", "[", 
      RowBox[{
       RowBox[{"DeleteCases", "[", 
        RowBox[{
         RowBox[{"DeleteDuplicatesBy", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", "First"}], "]"}], ",", 
         RowBox[{"_", "\[Rule]", "None"}]}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"With", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{"o", "=", 
           RowBox[{"Association", "@", 
            RowBox[{"MapIndexed", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"#", "\[Rule]", 
                RowBox[{"#2", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], "&"}], ",", " ", 
              RowBox[{"Keys", "@", 
               RowBox[{"Options", "@", "PacletInfoExpression"}]}]}], 
             "]"}]}]}], "\n", "\t\t\t\t\t", "}"}], ",", " ", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Lookup", "[", 
           RowBox[{"o", ",", " ", 
            RowBox[{"First", "@", "#"}], ",", " ", 
            RowBox[{
             RowBox[{"Length", "@", "o"}], "+", "1"}]}], "]"}], "&"}]}], "\n",
         "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}]}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.69993521029556*^9, 3.69993525248245*^9}, {
   3.699935289370064*^9, 3.699935381071134*^9}, {3.699935450310876*^9, 
   3.69993562813696*^9}, 3.6999361433766537`*^9, 3.699936323687511*^9, {
   3.6999389750574093`*^9, 3.699938977865988*^9}, {3.699939029369296*^9, 
   3.69993904181254*^9}, {3.699939834537401*^9, 3.699939845927816*^9}, {
   3.699939888960884*^9, 3.699939960582406*^9}, {3.6999400425509977`*^9, 
   3.699940042703384*^9}, 3.699940155389453*^9, 3.699940191517207*^9, 
   3.699940223544446*^9, 3.699940281481804*^9, {3.699940319410574*^9, 
   3.6999403200641203`*^9}, {3.699940376375204*^9, 3.699940378211637*^9}, {
   3.700342448432473*^9, 3.7003424856821003`*^9}, {3.7003425189641943`*^9, 
   3.700342582622477*^9}, {3.700342716065605*^9, 3.700342826784768*^9}, {
   3.7003431997376623`*^9, 3.700343285218247*^9}, {3.700343320584908*^9, 
   3.7003433691661377`*^9}, {3.70034340956074*^9, 3.700343448547907*^9}, {
   3.700343492274815*^9, 3.7003435531265697`*^9}, {3.700354523789888*^9, 
   3.700354676681443*^9}, {3.700354738768631*^9, 3.700354799090105*^9}, {
   3.700354885400064*^9, 3.700354888183856*^9}, {3.7003550970785837`*^9, 
   3.7003550989659557`*^9}, {3.70035514725167*^9, 3.700355148578209*^9}, {
   3.7003562065591793`*^9, 3.7003562071048203`*^9}, {3.700356244561697*^9, 
   3.700356320069002*^9}, {3.702730738657734*^9, 3.702730760023446*^9}, {
   3.702730797715949*^9, 3.702730855278475*^9}, {3.702730898445737*^9, 
   3.702730917164303*^9}, {3.7027316297105494`*^9, 3.702731633762151*^9}, {
   3.7028416767176037`*^9, 3.7028416813158703`*^9}, {3.703446464012766*^9, 
   3.7034464691996603`*^9}, {3.7034465186977863`*^9, 3.703446582941861*^9}, {
   3.70344666388721*^9, 3.703446665035096*^9}, {3.70345106791057*^9, 
   3.703451083764427*^9}, {3.703470797442131*^9, 3.7034708197245293`*^9}, {
   3.706206855492127*^9, 3.7062068616707773`*^9}, {3.712878870011435*^9, 
   3.712878917290538*^9}, {3.724891591541747*^9, 3.7248915945022306`*^9}, {
   3.7251446966291447`*^9, 3.7251446995943336`*^9}, {3.7251865698639297`*^9, 
   3.725186583433201*^9}, {3.725187221132365*^9, 3.725187226165021*^9}, {
   3.72788004464824*^9, 3.727880044660783*^9}, {3.728883431071999*^9, 
   3.728883486804628*^9}, {3.728883746818771*^9, 3.728883747808159*^9}, {
   3.728884453618305*^9, 3.728884458472608*^9}, {3.7306420954892483`*^9, 
   3.7306420964123497`*^9}},ExpressionUUID->"4ec5ebfd-177e-4002-bcab-\
b041c07d1b0a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletInfoExpression", "[", "dir", "]"}], "~~", 
     "PackageAddUsage", "~~", "\n", "\t", 
     "\"\<generates a Paclet expression from dir\>\""}], ";"}], "*)"}], "\n", 
  
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Options", "[", "iPacletInfoExpression", "]"}], "=", "\n", "\t", 
     
     RowBox[{"Options", "[", "PacletInfoExpression", "]"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"iPacletInfoExpression", "[", "\n", "\t", 
      RowBox[{
       RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
       RowBox[{"ops", ":", 
        RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", 
     "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"pacletInfo", "=", 
         RowBox[{"KeyDrop", "[", 
          RowBox[{
           RowBox[{"PacletInfoAssociation", "[", "dest", "]"}], ",", " ", 
           "\"\<Location\>\""}], "]"}]}], "}"}], ",", "\n", "\t\t", 
       RowBox[{"PacletInfoExpression", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t", 
            RowBox[{"Except", "[", 
             RowBox[{
             "\"\<Kernel\>\"", "|", "\"\<Documentation\>\"", "|", 
              "\"\<Extensions\>\"", "|", "\"\<FrontEnd\>\""}], "]"}]}], 
           "]"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Name\>\"", "\[Rule]", 
          RowBox[{"FileBaseName", "@", "dest"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Extensions\>\"", "->", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<Extensions\>\"", "]"}], ",", 
            "\n", "\t\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Prepend", "[", 
                   RowBox[{
                    RowBox[{"Normal", "@", "#2"}], ",", "#"}], "]"}], "&"}], 
                 ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "PacletExtensionData", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "pacletInfo", ",", "\n", "\t\t\t\t\t\t\t\t\t", "dest", ",", 
                   "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Options", "@", "PacletExtensionData"}]}], "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
                  "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t", 
                "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Except", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"__String", ",", " ", 
                    RowBox[{"__", "?", "OptionQ"}]}], "}"}], ".."}], "}"}], 
                "]"}], ":>", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"With", "[", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"baseData", "=", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "PacletExtensionData", "[", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "pacletInfo", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t",
                     "dest", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Options", "@", "PacletExtensionData"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"km", "=", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Append", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"Thread", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"#", "->", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Range", "[", 
                    RowBox[{"Length", "@", "#"}], "]"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "&"}], "@", 
                    RowBox[{"Keys", "@", 
                    RowBox[{"Options", "@", "PacletExtensionData"}]}]}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "1000"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 
                 RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Prepend", "[", 
                    RowBox[{
                    RowBox[{"Normal", "@", "#2"}], ",", " ", "#"}], "]"}], 
                    "&"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"KeySortBy", "[", 
                    RowBox[{"baseData", ",", " ", 
                    RowBox[{"ReplaceAll", "@", "km"}]}], "]"}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
                "]"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", 
           "]"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Version\>\"", "->", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<Version\>\""}], ",", "\n", "\t", 
            "\t\t\t\t", 
            RowBox[{"Automatic", ":>", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"pointVersions", "=", "\n", "\t", "\t\t\t\t\t\t", 
                 RowBox[{"StringSplit", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"ToString", "[", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    "pacletInfo", ",", "\"\<Version\>\"", ",", 
                    "\"\<1.0.-1\>\""}], "]"}], "]"}], ",", "\n", "\t", "\t", 
                   "\t\t\t\t\t\t", "\"\<.\>\""}], "\n", "\t", 
                  "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t", 
                "}"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
               RowBox[{"StringJoin", "@", 
                RowBox[{"Riffle", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Length", "@", "pointVersions"}], ">", "1"}], ",",
                     "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"Append", "[", 
                    RowBox[{
                    RowBox[{"Most", "@", "pointVersions"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"ToExpression", "[", 
                    RowBox[{"Last", "@", "pointVersions"}], "]"}], "+", "1"}],
                     "]"}]}], "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{"pointVersions", ",", "\"\<1\>\""}], "}"}]}], 
                   "]"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", "\"\<.\>\""}], 
                 "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t",
            "\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t\t\t", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"Normal", "@", "pacletInfo"}]}]}], "\n", "\t\t\t", "]"}]}], 
      "\n", "\t\t", "]"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PacletInfoExpression", "[", "\n", "\t", 
     RowBox[{
      RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
      RowBox[{"ops", ":", 
       RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", 
    "\n", "\t", 
    RowBox[{"iPacletInfoExpression", "[", "\n", "\t\t", 
     RowBox[{"dest", ",", "\n", "\t\t", 
      RowBox[{"FilterRules", "[", 
       RowBox[{
        RowBox[{"{", "ops", "}"}], ",", " ", 
        RowBox[{"Options", "@", "PacletInfoExpression"}]}], "]"}]}], "\n", 
     "\t\t", "]"}]}]}]}]], \
"CodeInput",ExpressionUUID->"507f4a61-2570-4901-bb08-89f59e336bc8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInfoExpressionBundle\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702731569451943*^9, 3.702731570815073*^9}, 
   3.727893892600696*^9},ExpressionUUID->"54c542e7-40c7-4077-bcb4-\
0e759a17a7e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cleanPacletForExport", "[", "pac_PacletManager`Paclet", "]"}], ":=",
   "\n", "\t", 
  RowBox[{"DeleteDuplicatesBy", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Map", "[", "\n", "\t", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"StringQ", "[", 
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", " ", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", " ", 
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}], "]"}], "\[Rule]", 
        RowBox[{"#", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "&"}], ",", " ", "\n", "\t", 
      "\t\t", 
      RowBox[{"Select", "[", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"DeleteCases", "[", 
         RowBox[{"pac", ",", " ", "\n", "\t", "\t\t\t\t", 
          RowBox[{"(", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"\"\<Location\>\"", "\[Rule]", 
            RowBox[{
             RowBox[{"_", "|", "\"\<Resources\>\""}], "\[Rule]", 
             RowBox[{
              RowBox[{"_", "|", "\n", "\t", "\t\t\t\t\t", 
               RowBox[{"_Symbol", "?", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"SymbolName", "[", "#", "]"}], "\[Equal]", 
                   "\"\<Location\>\""}], "&"}], ")"}]}]}], "\[Rule]", 
              RowBox[{
               RowBox[{"_", "|", "\n", "\t", "\t\t\t\t\t", 
                RowBox[{"_Symbol", "?", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"SymbolName", "[", "#", "]"}], "\[Equal]", 
                    "\"\<Resources\>\""}], "&"}], ")"}]}]}], "\[Rule]", 
               "_"}]}]}]}], ")"}]}], "]"}], ",", " ", "\n", "\t", "\t\t\t", 
        RowBox[{"MatchQ", "[", 
         RowBox[{
          RowBox[{"_String", "|", "_Symbol"}], "\[Rule]", "_"}], "]"}]}], 
       "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{"{", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"s_Symbol", "\[Rule]", "_"}], ")"}], "\[RuleDelayed]", 
        RowBox[{"SymbolName", "[", "s", "]"}]}], ",", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"s_", "\[Rule]", "_"}], ")"}], "\[RuleDelayed]", "s"}]}], 
      "\n", "\t\t\t\t", "}"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.729867098955209*^9, 3.7298671225526867`*^9}, {
  3.729867159120882*^9, 3.729867243387334*^9}, {3.732850441651808*^9, 
  3.7328504602713223`*^9}, {3.7328506633368673`*^9, 3.732850693740868*^9}, {
  3.733455042762212*^9, 
  3.733455091186112*^9}},ExpressionUUID->"eb4ef6c1-5f86-4409-92db-\
7c745feca3e2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"prettyFormatPacletElement", "[", "elm_", "]"}], ":=", "\n", "\t", 
  RowBox[{"StringReplace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"StringDelete", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"FrontEndExecute", "[", "\n", "\t\t\t\t", 
        RowBox[{"FrontEnd`ExportPacket", "[", "\n", "\t", "\t", "\t\t\t", 
         RowBox[{
          RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"BoxData", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"GeneralUtilities`PrettyFormBoxes", "[", 
               RowBox[{"elm", ",", " ", "1"}], "]"}]}], "/.", "\n", 
             "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
              "TemplateBox", "[", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"_", ",", " ", 
                  RowBox[{"StyleBox", "[", 
                   RowBox[{"sym_", ",", " ", "_"}], "]"}], ",", " ", "___"}], 
                 "}"}], ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                "\"\<DefinitionSymbol\>\"", ",", " ", "\n", "\t", "\t", "\t", 
                "\t\t\t\t\t\t", "___"}], "\n", "\t", "\t", "\t", 
               "\t\t\t\t\t\t", "]"}], "\[RuleDelayed]", "sym"}]}], ",", " ", 
            "\n", "\t", "\t\t\t\t\t", "\"\<Code\>\"", ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"PageWidth", "\[Rule]", "Infinity"}]}], "\n", 
           "\t\t\t\t\t\t", "]"}], ",", " ", "\n", "\t\t\t\t\t", 
          "\"\<InputText\>\""}], "\n", "\t", "\t", "\t\t\t", "]"}], "\n", 
        "\t", "\t", "\t\t", "]"}], "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"\"\<\\\\\>\"", "~~", "\"\<\\n\>\""}]}], "\n", "\t\t\t", "]"}], 
    ",", "\n", "\t\t", 
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"StartOfLine", "\[Rule]", "\"\<  \>\""}], ",", "\n", "\t\t\t", 
      RowBox[{"\"\<\\\\n\>\"", "\[Rule]", "\"\<\\n\>\""}]}], "\n", "\t\t\t", 
     "}"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.733359397828869*^9, 3.733359492507333*^9}, {
   3.7333595392302322`*^9, 3.733359539705083*^9}, {3.73335959837875*^9, 
   3.733359601782607*^9}, {3.733359639327894*^9, 3.73335967844396*^9}, 
   3.733359731232169*^9, {3.733359984160165*^9, 3.7333599864383583`*^9}, {
   3.7333600241517*^9, 3.733360047605998*^9}, {3.73336010540759*^9, 
   3.733360117038782*^9}, {3.733360251836339*^9, 3.733360252615505*^9}, {
   3.7333616680735407`*^9, 
   3.733361680528223*^9}},ExpressionUUID->"5fec4882-9c94-490c-9cc1-\
92f02d8a7745"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "prettyFormatPacletString", "[", "\n", "\t", "pac_", "\n", "\t", "]"}], ":=",
   "\n", "\t", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"Internal`$ContextMarks", "=", "False"}], "}"}], ",", "\n", 
    "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"bits", "=", 
        RowBox[{"prettyFormatPacletElement", "/@", 
         RowBox[{"List", "@@", "pac"}]}]}], "}"}], ",", "\n", "\t", "\t\t", 
      RowBox[{"\"\<Paclet[\\n\>\"", "<>", 
       RowBox[{"StringRiffle", "[", 
        RowBox[{"bits", ",", " ", "\"\<,\\n\>\""}], "]"}], "<>", 
       "\"\<\\n ]\>\""}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.733357745146717*^9, 3.7333579171996*^9}, {
  3.733358288691454*^9, 3.733358342323072*^9}, {3.733358959156066*^9, 
  3.733358961752967*^9}, {3.733359448009704*^9, 3.733359458117593*^9}, {
  3.7333594961795197`*^9, 3.733359531993919*^9}, {3.733454153268018*^9, 
  3.7334541645233727`*^9}},ExpressionUUID->"9759c9c0-360b-4d96-896d-\
232d1fba8482"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Options", "[", "PacletInfoExpressionBundle", "]"}], "=", "\n", 
    "\t", 
    RowBox[{"Options", "[", "PacletInfoExpression", "]"}]}], ";"}], 
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletInfoExpressionBundle", "[", 
      RowBox[{"paclet", ",", "dest"}], "]"}], "~~", "PackageAddUsage", "~~", 
     "\n", "\t", "\"\<bundles paclet into a PacletInfo.m file in dest\>\""}], 
    ";"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoExpressionBundle", "[", "\n", "\t", 
    RowBox[{"paclet_PacletManager`Paclet", ",", "\n", "\t", 
     RowBox[{"dest_String", "?", "DirectoryQ"}]}], "\n", "\t", "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pacletFile", "=", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"dest", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], "}"}], ",",
      "\n", "\t\t", 
     RowBox[{
      RowBox[{"Block", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"$Context", "=", "\"\<PacletManager`Private`\>\""}], ",", 
          "\n", "\t", "\t\t\t", 
          RowBox[{"$ContextPath", "=", 
           RowBox[{"{", 
            RowBox[{
            "\"\<System`\>\"", ",", " ", "\"\<PacletManager`\>\"", ",", " ", 
             "\"\<PacletManager`Private`\>\""}], "}"}]}]}], "\n", "\t\t\t\t", 
         "}"}], ",", "\n", "\t\t\t", 
        RowBox[{"Export", "[", 
         RowBox[{"pacletFile", ",", " ", "\n", "\t\t\t\t", 
          RowBox[{"prettyFormatPacletString", "[", 
           RowBox[{"cleanPacletForExport", "[", "paclet", "]"}], "]"}], ",", 
          "\n", "\t\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t\t", "]"}]}], "\n",
        "\t\t\t", "]"}], ";", "\n", "\t\t", "pacletFile"}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInfoExpressionBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletInfoExpressionBundle", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"PacletInfoExpression", "[", 
      RowBox[{"dest", ",", "ops"}], "]"}], ",", "\n", "\t\t", "dest"}], "\n", 
    "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702731572068799*^9, 3.7027316164333887`*^9}, {
   3.7027316645185537`*^9, 3.702731757721492*^9}, {3.702731806244506*^9, 
   3.7027318527442493`*^9}, {3.703467777153942*^9, 3.703467846492382*^9}, {
   3.7034692772385693`*^9, 3.703469279796817*^9}, {3.704482488945374*^9, 
   3.7044824912550087`*^9}, {3.704482575132791*^9, 3.704482579345921*^9}, 
   3.705177422918612*^9, {3.712879053455834*^9, 3.7128790685318937`*^9}, {
   3.7128791388481903`*^9, 3.7128791615888767`*^9}, {3.713581876954009*^9, 
   3.713581881631585*^9}, 3.713581939303672*^9, 3.726941659199979*^9, {
   3.727880044712781*^9, 3.727880044717189*^9}, {3.727893892612908*^9, 
   3.727893898581143*^9}, 3.72789397273274*^9, 3.729866685824932*^9, {
   3.72986714840486*^9, 3.729867156689529*^9}, 3.7302595432579813`*^9, {
   3.7333575633412848`*^9, 3.733357573443678*^9}, {3.73335766607207*^9, 
   3.7333576804171867`*^9}, {3.7333583699976*^9, 3.7333583947501707`*^9}, {
   3.73335843254045*^9, 3.733358433595298*^9}, 
   3.7333585978904943`*^9},ExpressionUUID->"c0090a1b-253f-4931-b8c0-\
88aa0a62c9ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInfoGenerate", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "PacletInfoExpressionBundle", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletInfoGenerate", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"PacletInfoExpressionBundle", "[", 
   RowBox[{"dest", ",", "ops"}], "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.713115014209687*^9, 3.713115050778193*^9}, {
  3.72789389234583*^9, 
  3.727893892350543*^9}},ExpressionUUID->"89dc3829-2454-49ae-a388-\
a820bdef8ad5"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletLookup\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703956038411504*^9, 
  3.7039560411305857`*^9}},ExpressionUUID->"265015f0-e639-4691-a587-\
10ae1fd10651"],

Cell[BoxData[
 RowBox[{"PacletLookup", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.731004020982297*^9, 
  3.73100402228389*^9}},ExpressionUUID->"e35cb27c-63fa-451d-85d4-\
d7d4e62517e1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletLookup", "[", 
    RowBox[{
     RowBox[{"p", ":", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"$pacletInfoSpec", ".."}], "}"}], "|", "$pacletInfoSpec"}]}], 
     ",", " ", "props_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"PacletInfoAssociation", "@", "p"}], ",", "props"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletLookup", "[", 
    RowBox[{
     RowBox[{"p", ":", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"$pacletInfoSpec", ".."}], "}"}], "|", "$pacletInfoSpec"}]}], 
     ",", " ", "props_", ",", " ", "def_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"PacletInfoAssociation", "@", "p"}], ",", " ", "props", ",", " ",
      "def"}], "]"}]}], ";"}], "\n", 
 RowBox[{"PacletLookup", "~", "SetAttributes", "~", 
  "HoldRest"}]}], "CodeInput",
 CellChangeTimes->{{3.703956045980041*^9, 3.703956158947846*^9}, 
   3.703956303628257*^9, {3.728711373122353*^9, 3.7287113788484898`*^9}, {
   3.728711622464723*^9, 3.728711661516108*^9}, {3.728940705532341*^9, 
   3.728940713154488*^9}, {3.73090751522952*^9, 3.7309076107713137`*^9}, {
   3.730907648938962*^9, 3.7309076890049963`*^9}, {3.730907728972012*^9, 
   3.7309078756543713`*^9}, {3.731003944097555*^9, 3.731003987013595*^9}, 
   3.731004044592958*^9},ExpressionUUID->"28342398-0a44-43e3-a338-\
7ed37cec0316"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletOpen\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.7039559965225763`*^9},ExpressionUUID->"5ff9ce41-ad14-4c83-95f6-\
b49083f16332"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletOpen", "[", 
    RowBox[{"p_", ",", 
     RowBox[{"which", ":", "_", ":", "First"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"locs", "=", 
       RowBox[{"PacletLookup", "[", 
        RowBox[{"p", ",", "\"\<Location\>\""}], "]"}]}], "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"files", "=", "\n", "\t\t\t", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "\n", "\t\t\t\t", 
            RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"which", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "locs", "}"}]}]}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"HoldPattern", "[", 
                RowBox[{"which", "[", "f_", "]"}], "]"}], "\[RuleDelayed]", 
               "f"}]}], "\n", "\t\t\t\t\t", "]"}], "\n", "\t\t\t\t", 
            "}"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Map", "[", 
          RowBox[{"SystemOpen", ",", "files"}], "]"}], ";", "\n", "\t\t\t", 
         "files"}]}], "\n", "\t\t\t", "]"}], "/;", 
      RowBox[{"AllTrue", "[", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"{", "locs", "}"}]}], ",", "StringQ"}], "]"}]}]}], "\n", 
    "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"69f71806-0c56-4b1b-bcb1-8ffb7c03a765"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletAutoPaclet\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.720557212029368*^9, 3.720557215180049*^9}, 
   3.720557930186842*^9},ExpressionUUID->"e2fb30fa-1113-4068-b3df-\
98220d62c254"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletAutoPaclet", "::", "nopac"}], "=", "\n", "\t", 
   "\"\<Couldn't find any paclet to autogenerate for ``\>\""}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.7341396345755444`*^9, 3.734139646507373*^9}, {
  3.734139717874571*^9, 
  3.734139718763276*^9}},ExpressionUUID->"5bde0b70-2716-41b2-9db6-\
1690272bdf7a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletAutoPaclet", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Options", "[", "PacletInfoExpressionBundle", "]"}], ",", "\n", 
     "\t\t", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"\"\<Bundle\>\"", "\[Rule]", "False"}], "\n", "\t\t\t", "}"}]}],
     "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletAutoPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}], ",", " ", "\n", "\t", 
     RowBox[{"f_String", "?", "FileExistsQ"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"bn", "=", 
       RowBox[{
        RowBox[{"StringSplit", "[", 
         RowBox[{
          RowBox[{"FileBaseName", "[", "f", "]"}], ",", " ", 
          RowBox[{"Except", "[", 
           RowBox[{"WordCharacter", "|", "\"\<_\>\""}], "]"}]}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", "\n", "\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"d", "=", "\n", "\t\t\t\t", 
         RowBox[{"CreateDirectory", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Replace", "[", 
               RowBox[{"dir", ",", " ", 
                RowBox[{"Automatic", "\[RuleDelayed]", 
                 RowBox[{"CreateDirectory", "[", "]"}]}]}], "]"}], ",", " ", 
              "bn"}], "}"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
          "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"Which", "[", "\n", "\t\t\t\t", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"f", " ", "is", " ", "a", " ", "directory"}], ",", " ", 
           RowBox[{
           "so", " ", "copy", " ", "it", " ", "into", " ", "the", " ", "new", 
            " ", "place"}]}], " ", "*)"}], "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"DirectoryQ", "@", "f"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Quiet", "[", 
            RowBox[{"DeleteDirectory", "[", "d", "]"}], "]"}], ";", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"DirectoryQ", "@", "d"}], ",", "\n", "\t\t\t\t\t\t", 
             "$Failed", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"CopyDirectory", "[", 
               RowBox[{"f", ",", " ", "d"}], "]"}], ";", "\n", "\t\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"!", 
                 RowBox[{"FileExistsQ", "@", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"d", ",", " ", "\"\<PacletInfo.m\>\""}], 
                    "}"}]}]}]}], ",", "\n", "\t", "\t\t\t\t\t\t", 
                RowBox[{"PacletInfoExpressionBundle", "[", 
                 RowBox[{"d", ",", " ", "ops"}], "]"}]}], "\n", 
               "\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}], 
          ",", "\n", "\t\t\t\t", 
          RowBox[{"MatchQ", "[", 
           RowBox[{
            RowBox[{"FileExtension", "[", "f", "]"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Alternatives", "@@", 
             RowBox[{"(", 
              RowBox[{"CreateArchive", ";", "CreateArchiveDump`$CONVERTERS"}],
               ")"}]}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
          
          RowBox[{
           RowBox[{"ExtractArchive", "[", 
            RowBox[{"f", ",", " ", "d"}], "]"}], ";", "\n", "\t\t\t\t\t", 
           RowBox[{"Which", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"FileExistsQ", "@", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"d", ",", " ", "\"\<PacletInfo.m\>\""}], "}"}]}]}], 
             ",", "\n", "\t\t\t\t\t\t\t", "d", ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"DirectoryQ", "@", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"d", ",", " ", "bn"}], "}"}]}]}], ",", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"CopyDirectory", "[", 
               RowBox[{
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{"d", ",", " ", "bn"}], "}"}]}], ",", " ", "\n", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"DirectoryName", "[", "d", "]"}], ",", " ", 
                   RowBox[{"bn", "<>", "\"\<__\>\""}]}], "}"}]}]}], "\n", 
               "\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"DeleteDirectory", "[", 
               RowBox[{"d", ",", " ", 
                RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], ";", 
              "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"RenameDirectory", "[", 
               RowBox[{
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"DirectoryName", "[", "d", "]"}], ",", " ", 
                   RowBox[{"bn", "<>", "\"\<__\>\""}]}], "}"}]}], ",", " ", 
                "d"}], "]"}]}], ",", "\n", "\t\t\t\t\t\t", "True", ",", "\n", 
             "\t\t\t\t\t\t\t", 
             RowBox[{"PacletInfoExpressionBundle", "[", 
              RowBox[{"d", ",", " ", "ops"}], "]"}]}], "\n", "\t\t\t\t\t\t", 
            "]"}]}], ",", "\n", "\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{"FileExtension", "[", "f", "]"}], ",", "\n", "\t", "\t", 
             "\t", "\t\t\t", 
             RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ",", "\n", "\t", "\t", 
             "\t", "\t\t\t\t", 
             RowBox[{"CopyFile", "[", 
              RowBox[{"f", ",", " ", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", 
                 RowBox[{"d", ",", " ", 
                  RowBox[{"FileNameTake", "@", "f"}]}], "}"}]}]}], "]"}], ",",
              "\n", "\t", "\t", "\t\t\t\t", "\"\<nb\>\"", ",", "\n", "\t", 
             "\t", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"CopyFile", "[", 
               RowBox[{"f", ",", " ", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{"d", ",", " ", 
                   RowBox[{"FileNameTake", "@", "f"}]}], "}"}]}]}], "]"}], 
              ";", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"Export", "[", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{"{", 
                  RowBox[{"d", ",", " ", 
                   RowBox[{
                    RowBox[{"FileBaseName", "[", "f", "]"}], "<>", 
                    "\"\<.m\>\""}]}], "}"}]}], ",", "\n", "\t", "\t", 
                "\t\t\t\t\t\t", 
                "\"\<(*Open package notebook*)\nCreateDocument[\n\tImport@\n\t\
\tStringReplace[$InputFileName,\\\".m\\\"->\\\".nb\\\"]\n\t]\>\"", ",", "\n", 
                "\t", "\t", "\t\t\t\t\t", "\"\<Text\>\""}], "\n", 
               "\t\t\t\t\t\t\t", "]"}], ";"}]}], "\n", "\t\t\t\t\t\t", "]"}], 
           ";", "\n", "\t\t\t\t\t", 
           RowBox[{"PacletInfoExpressionBundle", "[", 
            RowBox[{"d", ",", " ", "ops"}], "]"}]}]}], "\n", "\t\t\t\t", 
         "]"}], ";", "\n", "\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"TrueQ", "@", 
           RowBox[{"OptionValue", "[", "\"\<Bundle\>\"", "]"}]}], ",", " ", 
          "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"dir", "===", "Automatic"}], ",", " ", 
                RowBox[{"DeleteDirectory", "[", 
                 RowBox[{"d", ",", " ", 
                  RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], 
               "]"}], ";", "#"}], ")"}], "&"}], "@", "\n", "\t\t\t\t\t", 
           RowBox[{"PacletBundle", "@", "d"}]}], ",", " ", "\n", "\t\t\t\t", 
          "d"}], "]"}]}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletAutoPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}], ",", "\n", "\t", 
     RowBox[{"pac", ":", 
      RowBox[{"_PacletManager`Paclet", "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"StringQ", "@", 
          RowBox[{"#", "[", "\"\<Location\>\"", "]"}]}], "&"}], ")"}]}]}], 
     ",", " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletAutoPaclet", "[", 
    RowBox[{"dir", ",", " ", 
     RowBox[{"pac", "[", "\"\<Location\>\"", "]"}], ",", " ", "ops"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletAutoPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
      "Automatic"}], ",", "\n", "\t", 
     RowBox[{"s_String", "?", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"AllTrue", "[", 
         RowBox[{
          RowBox[{"URLParse", "[", 
           RowBox[{"#", ",", " ", 
            RowBox[{"{", 
             RowBox[{"\"\<Scheme\>\"", ",", " ", "\"\<Domain\>\""}], "}"}]}], 
           "]"}], ",", " ", 
          RowBox[{
           RowBox[{"#", "=!=", "None"}], "&"}]}], "]"}], "&"}], ")"}]}], ",", 
     " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletAutoPaclet", "[", "\n", "\t\t", 
    RowBox[{"dir", ",", " ", "\n", "\t\t", 
     RowBox[{"First", "@", 
      RowBox[{"URLDownload", "[", "s", "]"}]}], ",", "\n", "\t\t", "ops"}], 
    "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletAutoPaclet", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"dir", ":", 
     RowBox[{
      RowBox[{"_String", "?", "DirectoryQ"}], "|", "Automatic"}], ":", 
     "Automatic"}], ",", "\n", "\t", 
    RowBox[{"s_String", "?", 
     RowBox[{"(", 
      RowBox[{"Not", "@*", "FileExistsQ"}], ")"}]}], ",", " ", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"pf", "=", 
      RowBox[{"PacletManager`PacletFind", "[", "s", "]"}]}], "}"}], ",", "\n",
     "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "@", "pf"}], ">", "0"}], ",", "\n", "\t\t\t", 
      RowBox[{"PacletAutoPaclet", "[", 
       RowBox[{"dir", ",", " ", 
        RowBox[{"pf", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", " ", "ops"}], "]"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{
       RowBox[{"Message", "[", 
        RowBox[{
         RowBox[{"PacletAutoPaclet", "::", "nopac"}], ",", " ", "s"}], "]"}], 
       ";", "\n", "\t\t\t", "$Failed"}]}], "\n", "\t\t\t", "]"}]}], "\n", 
   "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7205572185898743`*^9, 3.7205573384654093`*^9}, {
  3.720557376111512*^9, 3.7205574752593946`*^9}, {3.720557536609283*^9, 
  3.720557601712179*^9}, {3.720557645163804*^9, 3.72055777714084*^9}, {
  3.720557859938686*^9, 3.7205579294871187`*^9}, {3.720559998090767*^9, 
  3.720560013440427*^9}, {3.7205601368193808`*^9, 3.720560141112837*^9}, {
  3.720560196903517*^9, 3.720560200406508*^9}, {3.720560278655809*^9, 
  3.720560283724375*^9}, {3.727893892367145*^9, 3.72789389238822*^9}, {
  3.734139016447877*^9, 3.734139019621128*^9}, {3.734139049993668*^9, 
  3.7341391046536827`*^9}, {3.734139175289328*^9, 3.7341391909983377`*^9}, {
  3.734139221207576*^9, 3.734139256455736*^9}, {3.7341393342529583`*^9, 
  3.734139744792389*^9}, {3.7341397795084953`*^9, 3.7341397928773947`*^9}, {
  3.7341398272269173`*^9, 
  3.734139887360209*^9}},ExpressionUUID->"9f30cc16-74f3-4df6-8382-\
08d819960a9d"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletBundle\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.70267262355492*^9, 
  3.7026726255120993`*^9}},ExpressionUUID->"06fd3561-49ee-49b9-91a3-\
d7fe961baeeb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletBundle", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"\"\<RemovePaths\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<RemovePatterns\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"\"\<ConfigFile\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"\"\<BuildRoot\>\"", "\[RuleDelayed]", "$PacletBuildRoot"}]}], 
      "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Options", "[", "PacletInfoExpressionBundle", "]"}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletBundle", "[", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ",", 
     " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"rmpaths", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Flatten", "@", 
           RowBox[{"List", "@", 
            RowBox[{"OptionValue", "[", "\"\<RemovePaths\>\"", "]"}]}]}], ",",
           "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{"{", 
             RowBox[{"__", "?", "StringPattern`StringPatternQ"}], "}"}], 
            "]"}], "\[RuleDelayed]", 
           RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", 
       "\t\t", 
       RowBox[{"rmpatterns", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Flatten", "@", 
           RowBox[{"List", "@", 
            RowBox[{"OptionValue", "[", "\"\<RemovePatterns\>\"", "]"}]}]}], 
          ",", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{"{", 
             RowBox[{"__", "?", "StringPattern`StringPatternQ"}], "}"}], 
            "]"}], "\[RuleDelayed]", 
           RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n", 
       "\t\t", 
       RowBox[{"pacletDir", "=", "\n", "\t\t\t", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"OptionValue", "[", "\"\<BuildRoot\>\"", "]"}], ",", "\n", 
           "\t\t\t\t", "$PacletBuildExtension", ",", "\n", "\t\t\t\t", 
           RowBox[{"FileBaseName", "@", "dir"}]}], "\n", "\t\t\t\t", 
          "}"}]}]}], ",", "\n", "\t\t", 
       RowBox[{"extraData", "=", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"Except", "[", 
            RowBox[{"_", "?", "OptionQ"}], "]"}], "\[RuleDelayed]", 
           RowBox[{"{", "}"}]}], "]"}], "@", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"OptionValue", "[", "\"\<ConfigFile\>\"", "]"}], ",", "\n",
            "\t", "\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"test", "=", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{
                    "dir", ",", " ", "\"\<Config\>\"", ",", " ", 
                    "\"\<BundleInfo.m\>\""}], "}"}]}]}], "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"FileExistsQ", "[", "test", "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Import", "[", "test", "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t", "None"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                 "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"f_String", "?", "FileExistsQ"}], ":>", "\n", "\t", 
              "\t\t\t\t\t\t", 
              RowBox[{"Import", "[", "f", "]"}]}], ",", "\n", "\t", 
             "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{"_String", "?", "FileExistsQ"}], "]"}], ":>", "\n", 
              "\t", "\t\t\t\t\t\t", "None"}]}], "\n", "\t", "\t\t\t\t\t", 
            "}"}]}], "\n", "\t", "\t\t\t\t", "]"}]}]}]}], "\n", "\t\t", "}"}],
      ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"DirectoryName", "[", "pacletDir", "]"}]}]}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"CreateDirectory", "[", 
         RowBox[{
          RowBox[{"DirectoryName", "[", "pacletDir", "]"}], ",", " ", 
          RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
         "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"With", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"fullPathSpec", "=", "\n", "\t\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Flatten", "[", 
              RowBox[{
               RowBox[{"{", "rmpaths", "}"}], ",", " ", "1"}], "]"}], ",", 
             " ", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Flatten", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"Lookup", "[", 
                 RowBox[{
                 "extraData", ",", " ", "\"\<RemovePaths\>\"", ",", " ", 
                  RowBox[{"{", "}"}]}], "]"}], "}"}], ",", " ", "1"}], 
              "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"fullPatternSpec", "=", "\n", "\t\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Flatten", "[", 
              RowBox[{
               RowBox[{"{", "rmpatterns", "}"}], ",", " ", "1"}], "]"}], ",", 
             " ", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Flatten", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"Lookup", "[", 
                 RowBox[{
                 "extraData", ",", " ", "\"\<RemovePatterns\>\"", ",", " ", 
                  RowBox[{"{", "}"}]}], "]"}], "}"}], ",", " ", "1"}], 
              "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
         "}"}], ",", "\n", "\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "@", 
            RowBox[{"Join", "[", 
             RowBox[{"fullPathSpec", ",", " ", "fullPatternSpec"}], "]"}]}], "===",
            "0"}], ",", "\n", "\t", "\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
           "just", " ", "do", " ", "a", " ", "simple", " ", "PackPaclet", " ",
             "and", " ", "move", " ", "the", " ", "paclet"}], " ", "*)"}], 
          "\n", "\t", "\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"p", "=", 
              RowBox[{"PacletManager`PackPaclet", "[", "dir", "]"}]}], "}"}], 
            ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"RenameFile", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{"p", ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"DirectoryName", "[", "pacletDir", "]"}], ",", "\n",
                   "\t", "\t\t\t\t\t\t", 
                  RowBox[{"FileNameTake", "[", "p", "]"}]}], "\n", "\t", 
                 "\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t", "\t", "\t\t\t\t", 
               RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", "\t", 
              "\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"DirectoryName", "[", "pacletDir", "]"}], ",", "\n", 
                "\t", "\t\t\t\t\t", 
                RowBox[{"FileNameTake", "[", "p", "]"}]}], "\n", "\t", 
               "\t\t\t\t\t", "}"}]}]}]}], "\n", "\t", "\t\t\t\t", "]"}], ",", 
          "\n", "\t\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
            RowBox[{"copy", " ", "the", " ", "dir"}], ",", " ", 
            RowBox[{"remove", " ", "the", " ", "dangerous", " ", "junk"}], 
            ",", " ", 
            RowBox[{"etc", "."}]}], " ", "*)"}], "\n", "\t", "\t", "\t\t", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"FileExistsQ", "@", 
               RowBox[{"DirectoryName", "[", "pacletDir", "]"}]}]}], ",", 
             "\n", "\t", "\t", "\t\t\t", 
             RowBox[{"CreateDirectory", "@", 
              RowBox[{"DirectoryName", "[", "pacletDir", "]"}]}]}], "\n", 
            "\t", "\t", "\t\t\t", "]"}], ";", "\n", "\t", "\t", "\t\t", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"FileExistsQ", "@", "pacletDir"}], ",", "\n", "\t", "\t",
              "\t\t\t", 
             RowBox[{"DeleteDirectory", "[", 
              RowBox[{"pacletDir", ",", 
               RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], "\n",
             "\t", "\t", "\t\t\t", "]"}], ";", "\n", "\t", "\t", "\t\t", 
           RowBox[{"CopyDirectory", "[", 
            RowBox[{"dir", ",", "pacletDir"}], "]"}], ";", "\n", "\t", "\t", 
           "\t\t", 
           RowBox[{"Do", "[", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"p", "=", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"Not", "@", 
                    RowBox[{"FileExistsQ", "@", "path"}]}], ",", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"pacletDir", ",", "path"}], "}"}]}], ",", 
                   "path"}], "]"}]}], "}"}], ",", "\n", "\t", "\t", 
               "\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"DirectoryQ", "@", "p"}], ",", "\n", "\t", "\t", 
                 "\t\t\t\t\t", 
                 RowBox[{"DeleteDirectory", "[", 
                  RowBox[{"p", ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                   RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "\n", 
                  "\t", "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t", 
                 "\t\t\t\t\t", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"FileExistsQ", "@", "p"}], ",", 
                   RowBox[{"DeleteFile", "[", "p", "]"}]}], "]"}]}], "\n", 
                "\t", "\t", "\t\t\t\t\t", "]"}]}], "\n", "\t", "\t", 
              "\t\t\t\t", "]"}], ",", "\n", "\t", "\t", "\t\t\t", 
             RowBox[{"{", 
              RowBox[{"path", ",", " ", "\n", "\t", "\t", "\t\t\t\t", 
               RowBox[{"Join", "[", "\n", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{"fullPathSpec", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"FileNameDrop", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"FileNameDepth", "@", "pacletDir"}]}], "]"}], 
                   "&"}], "/@", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                  RowBox[{"FileNames", "[", 
                   RowBox[{
                   "fullPatternSpec", ",", " ", "pacletDir", ",", " ", 
                    "\[Infinity]"}], "]"}]}]}], "\n", "\t", "\t", 
                "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", 
            "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"pacletFile", "=", 
               RowBox[{"PacletManager`PackPaclet", "[", "pacletDir", "]"}]}], 
              "}"}], ",", "\n", "\t\t\t\t\t", "pacletFile"}], "\n", 
            "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.700343920134439*^9, 3.70034392013544*^9}, {
   3.700346503511764*^9, 3.700346564301044*^9}, 3.700346607867813*^9, {
   3.7003467162396193`*^9, 3.700346940786789*^9}, {3.7003470302401333`*^9, 
   3.700347030726852*^9}, {3.700347136749069*^9, 3.70034717997465*^9}, {
   3.7003473092721033`*^9, 3.700347438083044*^9}, {3.700347490608177*^9, 
   3.700347504789124*^9}, {3.700347625402205*^9, 3.700347628201865*^9}, {
   3.700349176895845*^9, 3.700349177820567*^9}, {3.700349821242158*^9, 
   3.7003498421200743`*^9}, {3.700350622923695*^9, 3.700350622928952*^9}, {
   3.700350709468611*^9, 3.700350756661366*^9}, {3.7003511691532183`*^9, 
   3.700351191810205*^9}, {3.700351308979813*^9, 3.700351315374024*^9}, {
   3.7003521924515142`*^9, 3.700352192944735*^9}, {3.700354225408046*^9, 
   3.700354296041238*^9}, 3.700354977895813*^9, {3.70093005351534*^9, 
   3.700930053523767*^9}, {3.700945718903007*^9, 3.7009457296976833`*^9}, {
   3.7009458377936974`*^9, 3.700945859733008*^9}, {3.701120276828199*^9, 
   3.701120298576109*^9}, {3.701120989232214*^9, 3.701120995753675*^9}, {
   3.70112105244481*^9, 3.701121063246214*^9}, 3.70112146625625*^9, {
   3.7011215714197397`*^9, 3.701121610357299*^9}, {3.701123735130911*^9, 
   3.701123746927438*^9}, {3.701485806722618*^9, 3.7014858103268967`*^9}, {
   3.702672568271213*^9, 3.702672762164009*^9}, {3.702672800115327*^9, 
   3.7026728801354837`*^9}, {3.7026729114564953`*^9, 3.702672968091906*^9}, {
   3.702674825785706*^9, 3.7026748257900877`*^9}, {3.702675435603157*^9, 
   3.702675437119307*^9}, {3.7027288005402403`*^9, 3.7027288244713306`*^9}, 
   3.703950099969379*^9, 3.704482264924344*^9, {3.7044840088642673`*^9, 
   3.704484010607278*^9}, {3.704484046787312*^9, 3.704484056049549*^9}, {
   3.704484435853209*^9, 3.7044844373398657`*^9}, 3.70517742297222*^9, {
   3.713115200833684*^9, 3.713115459358594*^9}, {3.713115491348281*^9, 
   3.7131154926528797`*^9}, {3.713115555709817*^9, 3.713115556042128*^9}, {
   3.71312964546384*^9, 3.713129691504838*^9}, {3.713129727592389*^9, 
   3.713129730111075*^9}, {3.713129761153624*^9, 3.7131297786160507`*^9}, {
   3.720555021087652*^9, 3.7205550536669397`*^9}, {3.720557455725532*^9, 
   3.7205574577393513`*^9}, {3.720560333976111*^9, 3.720560346477337*^9}, 
   3.7269416599483747`*^9, 3.7278938923968763`*^9, {3.728934591973792*^9, 
   3.728934592690584*^9}, {3.7331956905879993`*^9, 3.733195696241036*^9}, {
   3.73319575918532*^9, 3.73319587251716*^9}, {3.7331959867094297`*^9, 
   3.733196065596691*^9}, {3.7331961761560917`*^9, 3.733196396741877*^9}, {
   3.734139978655163*^9, 3.7341399788260593`*^9}, {3.734140080358869*^9, 
   3.7341402523321323`*^9}, {3.7341402853088627`*^9, 
   3.7341403257685204`*^9}},ExpressionUUID->"7c6e701d-f8b9-4051-9c97-\
1a658cdff142"],

Cell[BoxData[
 RowBox[{"(*", "\n", "\t", 
  RowBox[{
  "Prep", " ", "the", " ", "dir", " ", "first", " ", "when", " ", "passed", 
   " ", "just", " ", "a", " ", "file"}], "\n", "\t", "*)"}]], "CodeInput",
 CellChangeTimes->{{3.720555055020061*^9, 
  3.720555066664589*^9}},ExpressionUUID->"b125d0b8-b2e8-4b88-ae50-\
ff86352ef7c6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PacletBundle", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",", 
    " ", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"d", "=", 
      RowBox[{"CreateDirectory", "[", "]"}]}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"DeleteDirectory", "[", 
         RowBox[{"d", ",", " ", 
          RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], ";", "#"}], 
       ")"}], "&"}], "@", "\n", "\t\t\t", 
     RowBox[{"PacletBundle", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"PacletAutoPaclet", "[", 
        RowBox[{"d", ",", " ", "f", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
             "\"\<Description\>\"", "\[Rule]", "\n", "\t", "\t", 
              "\t\t\t\t\t\t", 
              RowBox[{
              "TemplateApply", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Autogenerated paclet from ``\>\"", ",", "\n", "\t", "\t", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"FileNameTake", "[", "f", "]"}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "}"}],
            ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Options", "[", "PacletInfoExpressionBundle", "]"}]}], 
          "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", " ", 
       "\n", "\t\t\t\t", "ops"}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.700343920134439*^9, 3.70034392013544*^9}, {
   3.700346503511764*^9, 3.700346564301044*^9}, 3.700346607867813*^9, {
   3.7003467162396193`*^9, 3.700346940786789*^9}, {3.7003470302401333`*^9, 
   3.700347030726852*^9}, {3.700347136749069*^9, 3.70034717997465*^9}, {
   3.7003473092721033`*^9, 3.700347438083044*^9}, {3.700347490608177*^9, 
   3.700347504789124*^9}, {3.700347625402205*^9, 3.700347628201865*^9}, {
   3.700349176895845*^9, 3.700349177820567*^9}, {3.700349821242158*^9, 
   3.7003498421200743`*^9}, {3.700350622923695*^9, 3.700350622928952*^9}, {
   3.700350709468611*^9, 3.700350756661366*^9}, {3.7003511691532183`*^9, 
   3.700351191810205*^9}, {3.700351308979813*^9, 3.700351315374024*^9}, {
   3.7003521924515142`*^9, 3.700352192944735*^9}, {3.700354225408046*^9, 
   3.700354296041238*^9}, 3.700354977895813*^9, {3.70093005351534*^9, 
   3.700930053523767*^9}, {3.700945718903007*^9, 3.7009457296976833`*^9}, {
   3.7009458377936974`*^9, 3.700945859733008*^9}, {3.701120276828199*^9, 
   3.701120298576109*^9}, {3.701120989232214*^9, 3.701120995753675*^9}, {
   3.70112105244481*^9, 3.701121063246214*^9}, 3.70112146625625*^9, {
   3.7011215714197397`*^9, 3.701121610357299*^9}, {3.701123735130911*^9, 
   3.701123746927438*^9}, {3.701485806722618*^9, 3.7014858103268967`*^9}, {
   3.702672568271213*^9, 3.702672762164009*^9}, {3.702672800115327*^9, 
   3.7026728801354837`*^9}, {3.7026729114564953`*^9, 3.702672968091906*^9}, {
   3.702674825785706*^9, 3.7026748257900877`*^9}, {3.702675435603157*^9, 
   3.702675437119307*^9}, {3.7027288005402403`*^9, 3.7027288244713306`*^9}, 
   3.703950099969379*^9, 3.704482264924344*^9, {3.7044840088642673`*^9, 
   3.704484010607278*^9}, {3.704484046787312*^9, 3.704484056049549*^9}, {
   3.704484435853209*^9, 3.7044844373398657`*^9}, 3.70517742297222*^9, {
   3.713115200833684*^9, 3.713115459358594*^9}, {3.713115491348281*^9, 
   3.7131154926528797`*^9}, {3.713115555709817*^9, 3.713115556042128*^9}, {
   3.71312964546384*^9, 3.713129691504838*^9}, {3.713129727592389*^9, 
   3.713129730111075*^9}, {3.713129761153624*^9, 3.7131297786160507`*^9}, {
   3.720555021087652*^9, 3.7205550536669397`*^9}, {3.720558011120199*^9, 
   3.720558116524808*^9}, {3.720559903157392*^9, 3.720559922767981*^9}, {
   3.720560184727098*^9, 3.720560186319021*^9}, {3.720560360999267*^9, 
   3.720560394189996*^9}, {3.720568999818665*^9, 3.720569008582397*^9}, 
   3.727893892411069*^9, {3.734140785425995*^9, 
   3.7341407859505167`*^9}},ExpressionUUID->"ee381599-39bf-420e-b1b2-\
8467c09d622e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"p_PacletManager`Paclet", "?", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"StringQ", "@", 
         RowBox[{"#", "[", "\"\<Location\>\"", "]"}]}], "&"}], ")"}]}], ",", 
     " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletBundle", "[", 
    RowBox[{
     RowBox[{"p", "[", "\"\<Location\>\"", "]"}], ",", " ", "ops"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"s", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", 
         RowBox[{"{", 
          RowBox[{"_String", ",", " ", "_String"}], "}"}]}], ")"}], "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"PacletManager`PacletFind", "[", "#", "]"}], "]"}], ">", 
          "0"}], "&"}], ")"}]}]}], ",", " ", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletBundle", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"PacletManager`PacletFind", "[", "s", "]"}], "[", 
      RowBox[{"[", "1", "]"}], "]"}], ",", " ", "ops"}], "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7341404327637568`*^9, 3.73414051975485*^9}, {
  3.734140569843234*^9, 3.734140579751219*^9}, {3.734140697287017*^9, 
  3.7341407655734653`*^9}},ExpressionUUID->"025bef67-402b-4d1c-b9ca-\
b45e4edd63dd"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInstalledQ\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7297287928432007`*^9, 
  3.7297287948898706`*^9}},ExpressionUUID->"d10f7a11-50c8-49b9-b646-\
a87d86423d1f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInstalledQ", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "PacletManager`PacletFind", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstalledQ", "[", 
    RowBox[{
     RowBox[{"pac", ":", 
      RowBox[{"_String", "|", 
       RowBox[{"{", 
        RowBox[{"_String", ",", " ", "_String"}], "}"}]}]}], ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"Length", "@", 
     RowBox[{"PacletManager`PacletFind", "[", 
      RowBox[{"pac", ",", " ", "ops"}], "]"}]}], ">", "0"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstalledQ", "[", 
    RowBox[{"pac_PacletManager`Paclet", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletInstalledQ", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"pac", "[", "\"\<Name\>\"", "]"}], ",", " ", 
      RowBox[{"pac", "[", "\"\<Version\>\"", "]"}]}], "}"}], "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.729728798121296*^9, 3.729728798505939*^9}, {
  3.729728847050873*^9, 3.7297289016671257`*^9}, {3.729728941058185*^9, 
  3.72972900241695*^9}, {3.7297292582667418`*^9, 3.729729316934167*^9}, {
  3.7297304551089373`*^9, 
  3.729730478710793*^9}},ExpressionUUID->"14d7ae78-440e-49c0-824d-\
2ec0b0d22120"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletExistsQ\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7297287928432007`*^9, 3.7297287948898706`*^9}, {
  3.729728880578209*^9, 
  3.729728882072214*^9}},ExpressionUUID->"b0497f86-6565-4005-ba39-\
b6a7276dabe5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletExistsQ", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "PacletInstalledQ", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletExistsQ", "[", 
    RowBox[{
     RowBox[{"pac", ":", 
      RowBox[{"_String", "|", 
       RowBox[{"{", 
        RowBox[{"_String", ",", " ", "_String"}], "}"}]}]}], ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"PacletInstalledQ", "[", 
     RowBox[{"pac", ",", " ", "ops"}], "]"}], "||", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Length", "@", 
      RowBox[{"PacletManager`PacletFindRemote", "[", 
       RowBox[{"pac", ",", " ", "ops"}], "]"}]}], ">", "0"}]}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.729728798121296*^9, 3.729728798505939*^9}, {
  3.729728847050873*^9, 3.729728893903817*^9}, {3.729729007962348*^9, 
  3.72972902258886*^9}},ExpressionUUID->"7fe5f05b-51a4-4744-8469-0e90833aa957"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Sites\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703751918521202*^9, 
  3.7037519191293993`*^9}},ExpressionUUID->"5855639e-cbf8-4058-b24b-\
0dd58c4c3e4f"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletStandardServerName\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705685152014084*^9, 3.7056851610681057`*^9}, 
   3.7056851970307837`*^9, {3.712203363264578*^9, 
   3.7122033636871777`*^9}},ExpressionUUID->"1ac0eca8-e6a9-46a5-b1d7-\
0ba2abf49320"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletStandardServerName", "[", "serverName_", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{"serverName", ",", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
        "Automatic", ":>", "\n", "\t\t\t\t\t", "\"\<PacletServer\>\""}], ",", 
        "\n", "\t\t\t\t", 
        RowBox[{"Default", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{"Lookup", "[", 
          RowBox[{"$PacletServer", ",", " ", "\"\<ServerName\>\""}], 
          "]"}]}]}], "\n", "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}], ",", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"e", ":", 
       RowBox[{"Except", "[", "_String", "]"}]}], "\[RuleDelayed]", 
      RowBox[{"(", "Nothing", ")"}]}], "\n", "\t\t", "}"}]}], 
   "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.705685161902059*^9, 3.705685196237986*^9}, {
   3.712792335659795*^9, 3.712792380080894*^9}, {3.7205697544951153`*^9, 
   3.7205697744202547`*^9}, 
   3.728935360322953*^9},ExpressionUUID->"69e94307-8768-4ca2-ba86-\
487ef1bf52e9"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletStandardServerBase\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705685152014084*^9, 3.7056851610681057`*^9}, {
  3.7056851970307837`*^9, 3.705685203225706*^9}, {3.712203356640697*^9, 
  3.7122033571181097`*^9}},ExpressionUUID->"ea0161b0-5eb2-451c-a9d8-\
114e061559a8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletStandardServerBase", "[", 
   RowBox[{"serverBase_", ",", "\n", "\t", 
    RowBox[{"cc_:", "Automatic"}], ",", "\n", "\t", 
    RowBox[{"kc_:", "Automatic"}]}], "\n", "\t", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"StringQ", "[", "#", "]"}], "&&", 
       RowBox[{"DirectoryQ", "@", "#"}]}], ",", " ", 
      RowBox[{"ExpandFileName", "[", "#", "]"}], ",", " ", "#"}], "]"}], 
    "&"}], "@", "\n", "\t\t", 
   RowBox[{"Replace", "[", "\n", "\t\t\t", 
    RowBox[{
     RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
      RowBox[{"serverBase", ",", "\n", "\t\t\t\t", 
       RowBox[{"{", "\n", "\t\t\t\t\t", 
        RowBox[{"Default", ":>", "\n", "\t\t\t\t\t\t", 
         RowBox[{"Lookup", "[", 
          RowBox[{"$PacletServer", ",", " ", "\"\<ServerBase\>\""}], "]"}]}], 
        "\n", "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}], ",", 
     RowBox[{"{", "\n", "\t", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"e", ":", 
         RowBox[{"Except", "[", "\n", "\t", "\t\t\t", 
          RowBox[{
          "_String", "|", "_CloudObject", "|", "_CloudDirectory", "|", 
           "CloudObject", "|", "CloudDirectory", "|", "\n", "\t", "\t\t\t", 
           "_File", "|", "_URL"}], "\n", "\t\t\t\t", "]"}]}], 
        "\[RuleDelayed]", "\n", "\t\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"CloudDirectory", "[", "]"}], ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Except", "[", "_CloudObject", "]"}], ":>", "\n", 
           "\t\t\t\t\t\t\t", 
           RowBox[{"(", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"pacletCloudConnect", "[", 
              RowBox[{"serverBase", ",", " ", "cc", ",", " ", "kc"}], "]"}], 
             ";", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"CloudDirectory", "[", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
            ")"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"f", ":", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ":>",
         "\n", "\t\t\t\t", 
        RowBox[{"ExpandFileName", "[", "f", "]"}]}]}], "\n", "\t\t\t", 
      "}"}]}], "]"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.705685161902059*^9, 3.705685208435001*^9}, {
   3.705685265034214*^9, 3.705685266939354*^9}, {3.7056921325270367`*^9, 
   3.705692134381743*^9}, {3.7056921647661247`*^9, 3.705692188635751*^9}, {
   3.712792355772773*^9, 3.712792363352686*^9}, {3.720553794234639*^9, 
   3.720553806132585*^9}, {3.720569836247643*^9, 3.720569851283819*^9}, {
   3.720571887928941*^9, 3.7205719034467373`*^9}, 3.720571938663158*^9, {
   3.7205755073688087`*^9, 3.720575529079814*^9}, {3.720643218437666*^9, 
   3.720643273587944*^9}, {3.7206433222335377`*^9, 3.720643370023418*^9}, {
   3.720643404371798*^9, 3.720643416478351*^9}, 
   3.728935230264824*^9},ExpressionUUID->"eb8ea8b1-bdce-4656-9802-\
bb7b0574c9ac"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletStandardServerExtension\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705685373098024*^9, 
  3.705685379960443*^9}},ExpressionUUID->"21f6c276-f020-415e-9126-\
a23037ec8648"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletStandardServerExtension", "[", "serverExtension_", "]"}], ":=",
   "\n", "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{"serverExtension", ",", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", "Nothing"}], ",", "\n",
         "\t\t\t\t", 
        RowBox[{"Default", ":>", "\n", "\t\t\t\t\t", 
         RowBox[{"Lookup", "[", 
          RowBox[{"$PacletServer", ",", " ", "\"\<ServerExtension\>\""}], 
          "]"}]}]}], "\n", "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}], ",", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"e", ":", 
        RowBox[{"Except", "[", 
         RowBox[{"_String", "|", 
          RowBox[{"{", "___String", "}"}]}], "]"}]}], "\[RuleDelayed]", 
       RowBox[{"{", "}"}]}], ",", "\n", "\t\t", 
      RowBox[{"s_String", "\[RuleDelayed]", 
       RowBox[{
        RowBox[{"DeleteCases", "[", "\"\<\>\"", "]"}], "@", 
        RowBox[{"URLParse", "[", 
         RowBox[{"s", ",", "\"\<Path\>\""}], "]"}]}]}]}], "\n", "\t\t", 
     "}"}]}], "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7056853828934393`*^9, 3.70568541400209*^9}, {
  3.7127923699656343`*^9, 3.71279237533639*^9}, {3.720493918352385*^9, 
  3.720493963536746*^9}, {3.720569913689913*^9, 3.720569932527609*^9}, {
  3.7205700311508427`*^9, 
  3.720570032846944*^9}},ExpressionUUID->"38797899-f7fc-40bc-abe4-\
1d4e0fa86074"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletStandardServerPermissions\[RightFloor]", \
"CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705685152014084*^9, 3.7056851610681057`*^9}, 
   3.7056851970307837`*^9, {3.7056883640932293`*^9, 
   3.70568836573918*^9}},ExpressionUUID->"84943f28-4a7c-4565-9c51-\
e4b35caf49ea"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletStandardServerPermissions", "[", "perms_", "]"}], ":=", "\n",
   "\t", 
  RowBox[{"Replace", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{"perms", ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Automatic", "|", "Default"}], ":>", "\n", "\t\t\t\t", 
       RowBox[{"Lookup", "[", 
        RowBox[{"$PacletServer", ",", "Permissions"}], "]"}]}]}], "\n", 
     "\t\t\t", "]"}], ",", 
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"e", ":", 
       RowBox[{"Except", "[", "_String", "]"}]}], "\[RuleDelayed]", 
      "$Permissions"}], "\n", "\t\t", "}"}]}], "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.705685161902059*^9, 3.705685196237986*^9}, {
  3.7056883688591127`*^9, 3.705688398308114*^9}, {3.71279264389014*^9, 
  3.71279265365458*^9}},ExpressionUUID->"57b0999f-c942-4850-bbc6-51327c76e72d"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteURL\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"3f272e25-8357-49f3-b032-5d381e891005"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteURL", "::", "nobby"}], "=", 
   "\"\<Unkown site base ``\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.712198609301409*^9, 3.7121986282999563`*^9}, {
  3.720570308806251*^9, 
  3.720570310042396*^9}},ExpressionUUID->"705f0002-8d58-487d-89d1-\
177341804908"],

Cell[BoxData[
 RowBox[{"$PacletUploadDomains", "=", "\n", "\t", 
  RowBox[{"<|", "\n", "\t\t", 
   RowBox[{
    RowBox[{"\"\<www.github.com\>\"", "->", "\n", "\t\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"PacletAPIUpload", "[", 
       RowBox[{"\"\<GitHub\>\"", ",", " ", "##"}], "]"}], "]"}]}], ",", "\n", 
    "\t\t", 
    RowBox[{"\"\<drive.google.com\>\"", "->", "\n", "\t\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"PacletAPIUpload", "[", 
       RowBox[{"\"\<GoogleDrive\>\"", ",", " ", "##"}], "]"}], "]"}]}], ",", 
    "\n", "\t\t", 
    RowBox[{"\"\<www.dropbox.com\>\"", "->", "\n", "\t\t\t", 
     RowBox[{"Function", "[", 
      RowBox[{"PacletAPIUpload", "[", 
       RowBox[{"\"\<Dropbox\>\"", ",", " ", "##"}], "]"}], "]"}]}]}], "\n", 
   "\t\t", "|>"}]}]], "CodeInput",
 CellChangeTimes->{{3.720570311947625*^9, 3.720570356608437*^9}, {
  3.720570393977343*^9, 3.720570435149736*^9}, {3.7205707481654*^9, 
  3.7205707720490294`*^9}, {3.720594767997389*^9, 
  3.720594770228796*^9}},ExpressionUUID->"4da3566e-679f-4580-8cbc-\
f81da3a4d1ce"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pacletCloudConnect", "[", 
    RowBox[{"base_", ",", " ", "cc_", ",", " ", "useKeychain_"}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"With", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"kc", "=", "\n", "\t", "\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{"useKeychain", ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{
            "Automatic", ":>", "\n", "\t\t\t\t\t\t\t", 
             "$PacletUseKeychain"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", 
         "\n", "\t\t\t\t", 
         RowBox[{"ccReal", "=", "\n", "\t", "\t", "\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t", "\t", "\t\t\t\t", 
           RowBox[{"cc", ",", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"Automatic", ":>", "\n", "\t", "\t", "\t", "\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{"base", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"Verbatim", "[", "CloudObject", "]"}], "[", 
                 RowBox[{"o_", ",", "___"}], "]"}], ":>", "\n", "\t", "\t", 
                "\t", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"DeleteCases", "[", 
                  RowBox[{
                   RowBox[{"URLParse", "[", 
                    RowBox[{"o", ",", " ", "\"\<Path\>\""}], "]"}], ",", " ", 
                   "\"\<\>\""}], "]"}], "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}]}], "\n", "\t", "\t", 
              "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", "\t", "\t\t\t\t", 
           "]"}]}]}], "\n", "\t", "\t", "\t\t", "}"}], ",", "\n", "\t", 
       "\t\t", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
        RowBox[{"ccReal", ",", "\n", "\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"a", ":", 
             RowBox[{"$KeychainCloudAccounts", "?", 
              RowBox[{"(", 
               RowBox[{"kc", "&"}], ")"}]}]}], ":>", "\n", "\t\t\t\t\t\t", 
            RowBox[{"KeychainConnect", "[", "a", "]"}]}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"k_Key", ":>", "\n", "\t\t\t\t\t\t", 
            RowBox[{"KeychainConnect", "[", "k", "]"}]}], ",", "\n", "\t", 
           "\t", "\t", "\t\t", 
           RowBox[{
           "s_String", "\[RuleDelayed]", "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"$WolframID", "=!=", "s"}], "||", "\n", "\t", "\t", 
               "\t", "\t\t\t\t", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"StringQ", "[", "$WolframID", "]"}], "&&", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"StringSplit", "[", 
                    RowBox[{"$WolframID", ",", " ", "\"\<@\>\""}], "]"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "=!=", "s"}]}], ")"}]}], 
              ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                "kc", ",", " ", "\n", "\t\t\t\t\t\t\t\t", "KeychainConnect", 
                 ",", "\n", "\t\t\t\t\t\t\t\t", "CloudConnect"}], "\n", 
                "\t\t\t\t\t\t\t\t", "]"}], "[", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"!", 
                  RowBox[{"StringContainsQ", "[", 
                   RowBox[{"s", ",", " ", "\"\<@\>\""}], "]"}]}], ",", " ", 
                 RowBox[{"s", "<>", "\"\<@gmail.com\>\""}], ",", " ", "s"}], 
                "]"}], "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"s_String", ",", "p_String"}], "}"}], ":>", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"$WolframID", "=!=", "s"}], ",", " ", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                "kc", ",", " ", "\n", "\t\t\t\t\t\t\t\t", "KeychainConnect", 
                 ",", "\n", "\t\t\t\t\t\t\t\t", "CloudConnect"}], "\n", 
                "\t\t\t\t\t\t\t\t", "]"}], "[", 
               RowBox[{"s", ",", "p"}], "]"}]}], "\n", "\t\t\t\t\t\t\t", 
             "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"s_String", ",", "e___", ",", 
              RowBox[{"CloudBase", "\[Rule]", "b_"}], ",", "r___"}], "}"}], ":>",
             "\n", "\t", "\t", "\t", "\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"$CloudBase", "=!=", "b"}], "||", 
               RowBox[{"$WolframID", "=!=", "s"}]}], ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                "kc", ",", " ", "\n", "\t\t\t\t\t\t\t\t", "KeychainConnect", 
                 ",", "\n", "\t\t\t\t\t\t\t\t", "CloudConnect"}], "\n", 
                "\t\t\t\t\t\t\t\t", "]"}], "[", 
               RowBox[{"s", ",", "e", ",", 
                RowBox[{"CloudBase", "\[Rule]", "b"}], ",", "r"}], "]"}]}], 
             "\n", "\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"_", ":>", "\n", "\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"!", 
               RowBox[{"StringQ", "[", "$WolframID", "]"}]}], ",", " ", 
              RowBox[{"CloudConnect", "[", "]"}]}], "]"}]}]}], "\n", 
          "\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", 
      "]"}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"StringQ", "[", "$WolframID", "]"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t", 
        RowBox[{"Automatic", ",", "\n", "\t\t\t\t", 
         RowBox[{"PacletSiteURL", "::", "nowid"}]}], "\n", "\t\t\t\t", 
        "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", ")"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"f6ba23cd-570f-4f4c-9dfe-01b37caab1ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteURL", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<ServerBase\>\"", "\[Rule]", "\n", "\t\t\t", "Automatic"}], 
     ",", "\n", "\t\t", 
     RowBox[{"\"\<ServerName\>\"", "\[Rule]", "\n", "\t\t\t", "Automatic"}], 
     ",", "\n", "\t\t", 
     RowBox[{
     "\"\<ServerExtension\>\"", "\[Rule]", "\n", "\t\t\t", "Automatic"}], ",",
      "\n", "\t\t", 
     RowBox[{"\"\<Username\>\"", "\[Rule]", "\n", "\t\t\t", "Automatic"}], 
     ",", "\n", "\t\t", 
     RowBox[{"CloudConnect", "\[Rule]", "\n", "\t\t\t", "Automatic"}], ",", 
     "\n", "\t\t", 
     RowBox[{
     "\"\<UseKeychain\>\"", "\[Rule]", "\n", "\t\t\t", "Automatic"}]}], "\n", 
    "\t\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteURL", "::", "nowid"}], "=", 
   "\"\<$WolframID isn't a string. Try cloud connecting\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteURL", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"PackageExceptionBlock", "[", "\"\<PacletTools\>\"", "]"}], "@", 
    "\n", "\t\t", 
    RowBox[{"With", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"ext", "=", "\n", "\t\t\t\t\t", 
         RowBox[{"pacletStandardServerExtension", "@", 
          RowBox[{"OptionValue", "[", "\"\<ServerExtension\>\"", "]"}]}]}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{"base", "=", "\n", "\t\t\t\t\t", 
         RowBox[{"pacletStandardServerBase", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{"OptionValue", "[", "\"\<ServerBase\>\"", "]"}], ",", "\n",
            "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "CloudConnect"}], ",", " ", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<UseKeychain\>\""}]}], "\n", 
          "\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"name", "=", "\n", "\t\t\t\t\t", 
         RowBox[{"pacletStandardServerName", "@", 
          RowBox[{"OptionValue", "[", "\"\<ServerName\>\"", "]"}]}]}]}], "\n",
        "\t", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{"Switch", "[", 
       RowBox[{"base", ",", "\n", "\t\t\t\t", 
        RowBox[{
        "$CloudBase", "|", "\"\<Cloud\>\"", "|", "CloudObject", "|", 
         "CloudDirectory", "|", "\n", "\t\t\t\t\t", "_CloudObject", "|", 
         "_CloudDirectory"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"pacletCloudConnect", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{"base", ",", " ", "\n", "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "CloudConnect"}], ",", " ", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"OptionValue", "@", "\"\<UseKeychain\>\""}]}], "\n", 
          "\t\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t\t", 
         RowBox[{"URLBuild", "@", "\n", "\t\t\t\t\t\t", 
          RowBox[{"<|", "\n", "\t", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"\"\<Scheme\>\"", "\[Rule]", "\"\<http\>\""}], ",", "\n", 
            "\t", "\t", "\t", "\t\t\t\t", 
            RowBox[{"\"\<Domain\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{"base", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                  "\"\<Cloud\>\"", "|", "CloudObject", "|", 
                   "CloudDirectory"}], "->", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"URLParse", "[", 
                   RowBox[{"$CloudBase", ",", "\"\<Domain\>\""}], "]"}]}], 
                 ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"d_String", "|", 
                   RowBox[{"CloudObject", "[", 
                    RowBox[{"d_", ",", "___"}], "]"}]}], ":>", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"URLParse", "[", 
                   RowBox[{"d", ",", "\"\<Domain\>\""}], "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
              "]"}]}], ",", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"\"\<Path\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"Flatten", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<objects\>\"", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                RowBox[{"Replace", "[", 
                 RowBox[{
                  RowBox[{"OptionValue", "[", "\"\<Username\>\"", "]"}], ",", 
                  "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"URLParse", "[", 
                    RowBox[{
                    RowBox[{"$CloudRootDirectory", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
                    "\"\<Path\>\""}], "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"-", "1"}], "]"}], "]"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", "ext", ",", "\n", "\t", 
                "\t\t\t\t\t\t\t\t", "name"}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
               "}"}]}]}]}], "\n", "\t\t\t\t\t\t\t", "|>"}]}]}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"KeyMemberQ", "[", 
            RowBox[{"$PacletUploadDomains", ",", " ", 
             RowBox[{"URLParse", "[", 
              RowBox[{"#", ",", " ", "\"\<Domain\>\""}], "]"}]}], "]"}], 
           "&"}], ")"}]}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{
        "PackageRaiseException", "@", "\n", "\t\t\t\t\t\t", 
         "\"\<Non-cloud paclet support not yet complete\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"AllTrue", "[", 
            RowBox[{
             RowBox[{"URLParse", "[", 
              RowBox[{"#", ",", " ", 
               RowBox[{"{", 
                RowBox[{"\"\<Scheme\>\"", ",", " ", "\"\<Domain\>\""}], 
                "}"}]}], "]"}], ",", " ", 
             RowBox[{
              RowBox[{"#", "=!=", "None"}], "&"}]}], "]"}], "&"}], ")"}]}], 
        ",", "\n", "\t\t\t\t\t", 
        RowBox[{"URLBuild", "@", "\n", "\t\t\t\t\t\t", 
         RowBox[{"Flatten", "@", 
          RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
           "base", ",", "\n", "\t", "\t\t\t\t\t\t", "ext", ",", "\n", "\t", 
            "\t\t\t\t\t\t", "name"}], "\n", "\t", "\t\t\t\t\t\t", "}"}]}]}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"$RootDirectory", ",", "\"\<*\>\""}], "}"}]}], "]"}], 
          ")"}]}], ",", "\n", "\t", "\t\t\t\t", 
        RowBox[{
         RowBox[{"\"\<file://\>\"", "<>", "\n", "\t", "\t", "\t\t\t\t", 
          RowBox[{"URLBuild", "@", 
           RowBox[{
            RowBox[{"Key", "[", "\"\<Path\>\"", "]"}], "@", 
            RowBox[{"URLParse", "@", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"URLBuild", "@", 
              RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                "base", ",", "\n", "\t\t\t\t\t\t\t\t\t", "ext", ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t", "name"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                "}"}]}]}]}]}]}]}], "//", 
         RowBox[{
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"URLDecode", "[", "#", "]"}], ",", 
            RowBox[{"\"\< \>\"", "\[Rule]", "\"\<%20\>\""}]}], "]"}], "&"}]}],
         ",", "\n", "\t", "\t", "\t\t", 
        RowBox[{"_", "?", "SyncPathQ"}], ",", "\n", "\t", "\t", "\t\t\t", 
        RowBox[{
         RowBox[{"\"\<file://\>\"", "<>", "\n", "\t", "\t", "\t\t\t\t", 
          RowBox[{"URLBuild", "@", 
           RowBox[{
            RowBox[{"Key", "[", "\"\<Path\>\"", "]"}], "@", 
            RowBox[{"URLParse", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{"URLBuild", "@", 
              RowBox[{"Join", "[", 
               RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                 "SyncPath", "[", "\n", "\t", "\t", "\t\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"StringSplit", "[", 
                    RowBox[{"base", ",", "\"\<:\>\"", ",", "2"}], "]"}], ",", 
                    
                    RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"r_", ",", "p_"}], "}"}], ":>", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "r", ",", "\"\<:\>\"", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"URLBuild", "@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "ext", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "p"}], 
                    "}"}]}]}]}], "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}]}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"{", "r_", "}"}], ":>", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "r", ",", "\"\<:\>\"", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"URLBuild", "@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{
                    "{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", "ext", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}], "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 "name"}], "\n", "\t\t\t\t\t\t\t\t", "}"}], "]"}]}]}]}]}]}], "//", 
         RowBox[{
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"URLDecode", "[", "#", "]"}], ",", 
            RowBox[{"\"\< \>\"", "\[Rule]", "\"\<%20\>\""}]}], "]"}], "&"}]}],
         ",", "\n", "\t\t\t\t", "_", ",", "\n", "\t\t\t\t\t", 
        RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t\t\t", 
         RowBox[{"Automatic", ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{"PacletSiteURL", "::", "nobby"}], ",", "\n", "\t\t\t\t\t\t",
           "base"}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}],
      "\n", "\t\t\t", "]"}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"57e80772-0550-4462-bacd-eb502c58a934"]\

}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteFiles\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702733033225439*^9, 3.70273303519518*^9}, {
  3.702733441011014*^9, 
  3.702733443471648*^9}},ExpressionUUID->"12195640-9c02-4d6c-bf07-\
6d165aa94677"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteFiles", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"\"\<MergePacletInfo\>\"", "\[Rule]", "Automatic"}], "\n", "\t",
       "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Options", "@", "PacletSiteURL"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteFiles", "[", 
    RowBox[{"infoFiles_", ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteCases", "[", 
     RowBox[{"Except", "[", "$PacletFilePatterns", "]"}], "]"}], "@", "\n", 
    "\t\t", 
    RowBox[{"Replace", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"{", " ", 
          RowBox[{"infoFiles", ",", " ", 
           RowBox[{"OptionValue", "[", "\"\<MergePacletInfo\>\"", "]"}]}], 
          " ", "}"}]}], ",", 
        RowBox[{"{", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"p_PacletManager`Paclet", "\[Rule]", "_"}], ")"}], ":>", 
           "\n", "\t", "\t", "\t\t\t\t", "p"}], ",", "\n", "\t", "\t", 
          "\t\t\t", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"_", "\[Rule]", "f_"}], ")"}], "\[RuleDelayed]", "f"}]}], 
         "\n", "\t", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", "1"}], "\n", 
       "\t\t\t\t", "]"}], ",", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"s_String", "?", "DirectoryQ"}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"Which", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"s", ",", "\"\<PacletSite.mz\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"s", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"s", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"s", ",", "\"\<PacletInfo.m\>\""}], "}"}]}], ",", "\n", 
           "\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"FileNames", "[", 
              RowBox[{"\"\<*PacletSite.mz\>\"", ",", "s"}], "]"}], ",", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"{", "}"}], ":>", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"FileNames", "[", 
                RowBox[{"\"\<*PacletInfo.m\>\"", ",", "s"}], "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t", "]"}]}],
         ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"s_String", "?", "FileExistsQ"}], "\[RuleDelayed]", "s"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"s_String", "?", 
          RowBox[{"(", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{
                RowBox[{"URLParse", "[", "#", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<Scheme\>\"", ",", "\"\<Domain\>\"", ",", 
                  "\"\<Path\>\""}], "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"{", 
               RowBox[{"_String", ",", "None", ",", 
                RowBox[{"{", 
                 RowBox[{"__", ",", 
                  RowBox[{"_", "?", 
                   RowBox[{"(", 
                    RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"Except", "[", "\"\<.\>\"", "]"}], ".."}], "]"}], 
                    ")"}]}]}], "}"}]}], "}"}]}], "\n", "\t\t\t\t\t", "]"}], 
            "&"}], "\n", "\t\t\t\t", ")"}]}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"URLBuild", "@", 
            RowBox[{"{", 
             RowBox[{"s", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], "->", "\n", 
            "\t\t\t\t\t\t", "\"\<file://\>\""}]}], "\n", "\t\t\t\t\t", 
          "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"None", ":>", "\n", "\t\t\t\t", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"{", "}"}]}]}], ",", "\n", "\t\t\t", 
        RowBox[{"All", ":>", "\n", "\t\t\t\t", 
         RowBox[{"StringReplace", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"URLBuild", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"PacletSiteURL", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"FilterRules", "[", 
                RowBox[{
                 RowBox[{"{", "ops", "}"}], ",", 
                 RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}], "\n", 
               "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
              "\"\<PacletSite.mz\>\""}], "\n", "\t\t\t\t\t\t", "}"}]}], ",", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], "\[Rule]", 
              "\"\<file://\>\""}], ",", "\n", "\t\t\t\t\t", 
             RowBox[{"\"\<%20\>\"", "\[Rule]", "\"\< \>\""}]}], "\n", 
            "\t\t\t\t\t", "}"}]}], "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"s_String", "?", 
          RowBox[{"(", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{
                RowBox[{"URLParse", "[", "#", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<Scheme\>\"", ",", "\"\<Domain\>\"", ",", 
                  "\"\<Path\>\""}], "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{"{", 
               RowBox[{"None", ",", "None", ",", 
                RowBox[{"{", 
                 RowBox[{"_", "?", 
                  RowBox[{"(", 
                   RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"Except", "[", "\"\<.\>\"", "]"}], ".."}], "]"}], 
                   ")"}]}], "}"}]}], "}"}]}], "\n", "\t\t\t\t\t", "]"}], 
            "&"}], ")"}]}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"StringReplace", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"URLBuild", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"PacletSiteURL", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"\"\<ServerName\>\"", "->", "s"}], ",", "\n", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"FilterRules", "[", 
                 RowBox[{
                  RowBox[{"{", "ops", "}"}], ",", 
                  RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}], "\n", 
               "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
              "\"\<PacletSite.mz\>\""}], "\n", "\t\t\t\t\t\t", "}"}]}], ",", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], "\[Rule]", 
              "\"\<file://\>\""}], ",", "\n", "\t\t\t\t\t", 
             RowBox[{"\"\<%20\>\"", "\[Rule]", "\"\< \>\""}]}], "\n", 
            "\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", "\t\t\t", "}"}], ",", 
      "\n", "\t\t\t", "1"}], "]"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7027330367647057`*^9, 3.7027331030794764`*^9}, {
   3.7027331487822523`*^9, 3.702733179945586*^9}, {3.702733413421402*^9, 
   3.702733425085247*^9}, {3.7027334713508577`*^9, 3.702733477697775*^9}, 
   3.704666986499707*^9, {3.704667915183523*^9, 3.7046679545260077`*^9}, {
   3.7046680846897573`*^9, 3.704668127110004*^9}, {3.712808029836073*^9, 
   3.712808041341078*^9}, {3.7128083166379423`*^9, 3.7128083175733137`*^9}, {
   3.7128084042158422`*^9, 3.712808428746043*^9}, {3.712808461144739*^9, 
   3.712808587651752*^9}, {3.717156483435319*^9, 3.717156486344516*^9}, {
   3.720576742512053*^9, 3.720576767552681*^9}, {3.720578697279883*^9, 
   3.720578709483562*^9}, {3.728935631747994*^9, 3.72893569722139*^9}, {
   3.728936167717444*^9, 
   3.728936168135703*^9}},ExpressionUUID->"8503cf51-c311-4e6c-acd1-\
5965cfbfb532"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteInfo\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.700972301268733*^9, 3.700972303338254*^9}, 
   3.702672539590036*^9},ExpressionUUID->"d4d3d975-9dcf-4098-a0b6-\
1958766ad6de"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pacletSiteMExtract", "[", 
    RowBox[{"mzFile_", ",", 
     RowBox[{"dirExt_:", "Automatic"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"FileExistsQ", "@", "mzFile"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", 
         RowBox[{"CreateDirectory", "[", "]"}]}], "}"}], ",", "\n", "\t", 
       "\t\t", 
       RowBox[{"Replace", "[", "\n", "\t", "\t\t\t", 
        RowBox[{
         RowBox[{"Quiet", "[", 
          RowBox[{
           RowBox[{"ExtractArchive", "[", 
            RowBox[{"mzFile", ",", "dir", ",", "\"\<PacletSite.m\>\""}], 
            "]"}], ",", 
           RowBox[{"ExtractArchive", "::", "infer"}]}], "]"}], ",", "\n", 
         "\t", "\t\t\t", 
         RowBox[{
          RowBox[{"Except", "[", 
           RowBox[{"{", "__", "}"}], "]"}], ":>", "\n", "\t", "\t\t\t\t", 
          RowBox[{"Quiet", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"ExtractArchive", "[", 
             RowBox[{"mzFile", ",", "dir", ",", "\"\<*/PacletInfo.m\>\""}], 
             "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"ExtractArchive", "::", "infer"}]}], "\n", "\t", 
           "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t",
       "]"}], ",", "\n", "\t\t", "$Failed"}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.702733797905097*^9, 3.702733819960485*^9}, {
   3.703606540939904*^9, 3.703606561002233*^9}, 3.7036080364367313`*^9, {
   3.703952989368554*^9, 3.70395306434601*^9}, {3.703953129461976*^9, 
   3.703953218480839*^9}, {3.7046711231241627`*^9, 3.70467113092807*^9}, {
   3.704671167713299*^9, 3.704671236647884*^9}, {3.712879924095457*^9, 
   3.7128799331788683`*^9}, {3.7128799722395144`*^9, 3.712879995217189*^9}, {
   3.7128801114005327`*^9, 
   3.712880145741262*^9}},ExpressionUUID->"f835facf-f2fd-42b2-a5d1-\
944514b63afb"],

Cell[BoxData[
 RowBox[{"PacletSiteInfo", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.7205761926085987`*^9, 
  3.720576194078589*^9}},ExpressionUUID->"85bacea6-e98c-4c6f-8d1b-\
351f002283a7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Options", "[", "PacletSiteInfo", "]"}], "=", "\n", "\t", 
    RowBox[{"Options", "[", "PacletSiteFiles", "]"}]}], ";"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletSiteInfo", "[", "specs", "]"}], "~~", "PackageAddUsage", "~~",
      "\n", "\t", "\"\<extracts the PacletSite info stored in specs\>\""}], 
    ";"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInfo", "[", 
    RowBox[{
     RowBox[{"infoFiles", ":", 
      RowBox[{
       RowBox[{"Except", "[", 
        RowBox[{"_", "?", "OptionQ"}], "]"}], "|", "All", "|", 
       RowBox[{"{", "}"}]}], ":", "All"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{"pacletInfos", "=", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Which", "[", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{"#", ",", "_PacletManager`Paclet"}], "]"}], ",", "\n", 
            "\t\t\t\t\t", "#", ",", "\n", "\t\t\t\t", 
            RowBox[{"StringMatchQ", "[", 
             RowBox[{
              RowBox[{"Replace", "[", 
               RowBox[{"#", ",", 
                RowBox[{
                 RowBox[{
                  RowBox[{"File", "[", "f_", "]"}], "|", 
                  RowBox[{"URL", "[", "f_", "]"}]}], "\[RuleDelayed]", 
                 "f"}]}], "]"}], ",", "\"\<file://*\>\""}], "]"}], ",", "\n", 
            "\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"f", "=", 
                RowBox[{"FileNameJoin", "@", 
                 RowBox[{
                  RowBox[{"URLParse", "[", "#", "]"}], "[", "\"\<Path\>\"", 
                  "]"}]}]}], "}"}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"Which", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"FileExtension", "[", "f", "]"}], "\[Equal]", 
                 "\"\<mz\>\""}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"pacletSiteMExtract", "[", "f", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t\t\t", 
                "f"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", 
             "]"}], ",", "\n", "\t\t\t\t", 
            RowBox[{"FileExistsQ", "@", "#"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Which", "[", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"MatchQ", "[", 
               RowBox[{
                RowBox[{"FileExtension", "[", "#", "]"}], ",", 
                RowBox[{
                "\"\<mz\>\"", "|", "\"\<paclet\>\"", "|", "\"\<tmp\>\""}]}], 
               "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"pacletSiteMExtract", "[", "#", "]"}], ",", "\n", 
              "\t\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t\t", "#"}], 
             "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"URLParse", "[", 
              RowBox[{"#", ",", "\"\<Scheme\>\""}], "]"}], "=!=", "None"}], 
            ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"If", "[", "\n", "\t", "\t", "\t\t\t\t", 
             RowBox[{
              RowBox[{"StringMatchQ", "[", 
               RowBox[{
                RowBox[{"Last", "@", 
                 RowBox[{"URLParse", "[", 
                  RowBox[{"#", ",", "\"\<Path\>\""}], "]"}]}], ",", "\n", 
                "\t\t\t\t\t\t\t", 
                RowBox[{
                "\"\<*.paclet\>\"", "|", "\"\<PacletSite.m\>\"", "|", "\n", 
                 "\t\t\t\t\t\t\t", "\"\<PacletInfo.m\>\"", "|", 
                 "\"\<PacletSite.mz\>\""}]}], "]"}], ",", "\n", 
              "\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"file", "=", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"Last", "@", 
                    RowBox[{"URLParse", "[", 
                    RowBox[{"#", ",", "\"\<Path\>\""}], "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t", "}"}]}]}], "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"Between", "[", 
                   RowBox[{
                    RowBox[{"URLSave", "[", 
                    RowBox[{"#", ",", "file", ",", "\"\<StatusCode\>\""}], 
                    "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"200", ",", "299"}], "}"}]}], "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Which", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"FileExtension", "[", "file", "]"}], ",", 
                    RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}]}], "]"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", "file", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"FileExtension", "[", "file", "]"}], ",", 
                    RowBox[{
                    "\"\<mz\>\"", "|", "\"\<paclet\>\"", "|", 
                    "\"\<tmp\>\""}]}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"pacletSiteMExtract", "[", "file", "]"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t", "True", ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", 
                   "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t",
                   "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
               "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"ext", "=", 
                  RowBox[{"StringJoin", "@", 
                   RowBox[{"RandomSample", "[", 
                    RowBox[{
                    RowBox[{"Alphabet", "[", "]"}], ",", "5"}], "]"}]}]}], 
                 "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"Quiet", "@", 
                  RowBox[{"CreateDirectory", "@", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    "ext"}], "\n", "\t\t\t\t\t\t\t\t\t", "}"}]}]}]}], ";", 
                 "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"With", "[", 
                  RowBox[{
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"file", "=", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "ext", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<PacletSite.mz\>\""}], "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Between", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"URLSave", "[", 
                    RowBox[{
                    RowBox[{"URLBuild", "@", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], ",",
                     "file", ",", "\"\<StatusCode\>\""}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", 
                    RowBox[{"200", ",", "299"}], "}"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"pacletSiteMExtract", "[", 
                    RowBox[{"file", ",", "ext"}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                  "]"}]}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
             "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", "True", ",", 
            "\n", "\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t", "]"}], "&"}],
          "/@", 
         RowBox[{"PacletSiteFiles", "[", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "infoFiles", "}"}]}], ",", "ops"}], "]"}]}], "//", 
        "Flatten"}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Block", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"$Context", "=", "\"\<PacletManager`Private`\>\""}], ",", 
         " ", "\n", "\t\t\t\t", 
         RowBox[{"$ContextPath", "=", 
          RowBox[{"{", 
           RowBox[{
           "\"\<System`\>\"", ",", " ", "\"\<PacletManager`\>\"", ",", " ", 
            "\"\<PacletManager`Private`\>\""}], "}"}]}]}], "\n", "\t\t\t\t", 
        "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"pacletsite", "=", "\n", "\t", "\t\t\t", 
           RowBox[{
            RowBox[{
            "PacletManager`PacletSite", "@@", "\n", "\t", "\t\t\t\t", 
             RowBox[{"Flatten", "@", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"Map", "[", "\n", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"With", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"imp", "=", "\n", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"MatchQ", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"_String", "|", "_File"}], ")"}], "?", 
                    "FileExistsQ"}]}], "]"}], ",", 
                    RowBox[{"Import", "[", "#", "]"}], ",", "#"}], "]"}], ",",
                     "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"PacletManager`PacletSite", "[", "p___", "]"}], 
                    "\[RuleDelayed]", "p"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"e", ":", 
                    RowBox[{"Except", "[", 
                    RowBox[{"_PacletManager`Paclet", "|", 
                    RowBox[{"{", "__PacletManager`Paclet", "}"}]}], "]"}]}], 
                    "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(", "Nothing", ")"}]}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t\t\t",
                     "}"}], ",", "\n", "\t", "\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Replace", "[", 
                    RowBox[{"#", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"s_Symbol", "\[Rule]", "v_"}], ")"}], 
                    "\[RuleDelayed]", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"SymbolName", "[", "s", "]"}], 
                    RowBox[{"(*", "s", "*)"}], "\[Rule]", "v"}], ")"}]}], ",",
                     "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"s_String", "\[Rule]", "v_"}], ")"}], ":>", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", 
                    RowBox[{"ToExpression", "[", "s", "]"}], "*)"}], 
                    RowBox[{"s", "\[Rule]", "v"}]}], ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", ":>", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Sequence", "@@", 
                    RowBox[{"{", "}"}]}]}]}], "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t", "1"}], "]"}], "&"}], "/@", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "imp", "}"}]}]}]}], "\n", "\t", 
                  "\t\t\t\t\t\t\t", "]"}], "&"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t", "pacletInfos"}], "\n", "\t", "\t\t\t\t\t\t", 
               "]"}]}]}], "//", 
            RowBox[{"DeleteDuplicatesBy", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Lookup", "[", 
               RowBox[{
                RowBox[{"Association", "@@", "#"}], ",", 
                RowBox[{"{", 
                 RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], 
               "]"}], "&"}], "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
          "\t", "\t\t\t", "}"}], ",", "\n", "\t", "\t\t\t", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{"pacletsite", ",", 
           RowBox[{"Except", "[", "_PacletManager`Paclet", "]"}]}], "]"}]}], 
        "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7009723086979218`*^9, 3.7009723087019672`*^9}, {
   3.700972341498904*^9, 3.700972434145322*^9}, {3.700972511097521*^9, 
   3.7009725202780867`*^9}, {3.700972681573906*^9, 3.700972686296485*^9}, {
   3.700972762187269*^9, 3.70097281424666*^9}, {3.700972895443489*^9, 
   3.7009728974908333`*^9}, 3.7009729630582037`*^9, {3.700973645078268*^9, 
   3.7009736477648363`*^9}, {3.7009742265200977`*^9, 3.700974293855214*^9}, {
   3.7023780038390017`*^9, 3.702378028932478*^9}, {3.7023857636061077`*^9, 
   3.7023857805008793`*^9}, {3.70238624375031*^9, 3.702386243923829*^9}, {
   3.7023864239269457`*^9, 3.7023864656528273`*^9}, {3.702386672832301*^9, 
   3.702386692137403*^9}, {3.702386734317582*^9, 3.702386738890239*^9}, {
   3.7023869667090797`*^9, 3.702386995441403*^9}, {3.7023870376684933`*^9, 
   3.702387102447654*^9}, {3.7026104173984547`*^9, 3.702610457054772*^9}, 
   3.70267250712877*^9, {3.7026740592124033`*^9, 3.702674135376275*^9}, {
   3.702674180136384*^9, 3.7026742445963907`*^9}, {3.7026752608819313`*^9, 
   3.702675365407415*^9}, {3.702729130920658*^9, 3.7027291651707573`*^9}, {
   3.702733011379593*^9, 3.702733029421342*^9}, {3.7027332671316442`*^9, 
   3.7027333373102207`*^9}, 3.702733449350292*^9, {3.702733612647316*^9, 
   3.702733683304389*^9}, {3.702733737159012*^9, 3.702733794257221*^9}, {
   3.702733830240732*^9, 3.702733940070562*^9}, {3.7027340670784693`*^9, 
   3.702734073485424*^9}, {3.703606338913591*^9, 3.703606350028606*^9}, {
   3.70360671016439*^9, 3.703606791921608*^9}, {3.703606961741172*^9, 
   3.7036069620849447`*^9}, {3.703607016949829*^9, 3.703607017851465*^9}, {
   3.703607711660244*^9, 3.703607722440563*^9}, {3.703607806762195*^9, 
   3.703607907046977*^9}, {3.703607964402318*^9, 3.703607987455608*^9}, {
   3.703608162395132*^9, 3.70360816281738*^9}, {3.703609197104763*^9, 
   3.703609225278558*^9}, 3.70361113452809*^9, {3.7039519261179934`*^9, 
   3.703952052111445*^9}, {3.70395294103965*^9, 3.703952947947731*^9}, {
   3.70395326411908*^9, 3.703953351932456*^9}, {3.7039534605699167`*^9, 
   3.703953578378872*^9}, 3.7039536601779833`*^9, {3.703953719905262*^9, 
   3.703953747002081*^9}, {3.703953794214945*^9, 3.703953812214302*^9}, {
   3.703953931496531*^9, 3.703953933841639*^9}, {3.7039540135070953`*^9, 
   3.703954024415676*^9}, {3.703954684839913*^9, 3.7039546988657913`*^9}, {
   3.703954738983653*^9, 3.70395476202862*^9}, {3.703954804776264*^9, 
   3.7039548637078857`*^9}, {3.7039550218306637`*^9, 
   3.7039550340471067`*^9}, {3.7039550695866613`*^9, 3.703955075039256*^9}, 
   3.704667010395907*^9, {3.704668024626225*^9, 3.7046680595702763`*^9}, {
   3.7046710100983677`*^9, 3.704671032176557*^9}, 3.704671315992416*^9, 
   3.705177422939085*^9, {3.705634899702083*^9, 3.7056349477610064`*^9}, {
   3.7056349808672953`*^9, 3.705634986487418*^9}, {3.712814533472959*^9, 
   3.712814549454316*^9}, {3.712879618851165*^9, 3.7128796687612877`*^9}, 
   3.7128797934031153`*^9, 3.712880019846949*^9, {3.71715422857327*^9, 
   3.7171542547037086`*^9}, {3.717154419091015*^9, 3.717154472855356*^9}, {
   3.7171545324752398`*^9, 3.717154566484564*^9}, 3.7171546271129913`*^9, {
   3.7171547466165457`*^9, 3.717154780184782*^9}, 3.717155361842101*^9, {
   3.7171562751629477`*^9, 3.717156327554315*^9}, {3.717156627139814*^9, 
   3.717156629668933*^9}, 3.717156684073165*^9, {3.720576166998602*^9, 
   3.720576188517342*^9}, {3.720576790527237*^9, 3.72057681982069*^9}, {
   3.720578667810196*^9, 3.720578676836719*^9}, 3.7205787972968483`*^9, 
   3.726941661002256*^9, {3.733357584018729*^9, 3.7333576436680117`*^9}, 
   3.733357694284008*^9},ExpressionUUID->"c8773fa0-b3af-4d1e-ab9d-\
f9d6edc59038"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteInfoDataset\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702733986576663*^9, 3.702733988348534*^9}, 
   3.702735583331771*^9, {3.70360927096399*^9, 
   3.703609271377585*^9}},ExpressionUUID->"7292e2b5-cb6a-490e-a6c1-\
0c4e5b78ee58"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"PacletSiteInfoDataset", "::", "usages"}], "=", "\"\<\>\""}], 
     ";"}], "\n", 
    RowBox[{
     RowBox[{"PacletSiteInfoDataset", "[", "site", "]"}], "~", 
     "PackageAddUsage", "~", "\n", "\t", 
     "\"\<formats a Dataset from the PacletInfo in site\>\""}]}], ";", "\n", 
   RowBox[{
    RowBox[{"PacletSiteInfoDataset", "[", "files", "]"}], "~", 
    "PackageAddUsage", "~", "\n", "\t", 
    "\"\<formats from the PacletSiteInfo in files\>\""}], ";"}], 
  "*)"}]], "CodeInput",
 CellChangeTimes->{{3.702735557993267*^9, 3.702735571606185*^9}, 
   3.7036092727846746`*^9, 3.7205766209118156`*^9, {3.726941661616136*^9, 
   3.726941662063258*^9}},ExpressionUUID->"3d7cece2-790b-4ae1-a242-\
07e033322972"],

Cell[BoxData[
 RowBox[{"PacletSiteInfoDataset", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.7205768743470716`*^9, 
  3.720576875807557*^9}},ExpressionUUID->"6520b24a-cc4a-47ea-80a7-\
6d419da8158e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteInfoDataset", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "PacletSiteInfo", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInfoDataset", "[", 
    RowBox[{"PacletManager`PacletSite", "[", "p___", "]"}], "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Dataset", "@", 
    RowBox[{"Map", "[", 
     RowBox[{"PacletInfoAssociation", ",", " ", 
      RowBox[{"{", "p", "}"}]}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInfoDataset", "[", 
    RowBox[{
     RowBox[{"files", ":", 
      RowBox[{
       RowBox[{"Except", "[", 
        RowBox[{"_", "?", "OptionQ"}], "]"}], "|", "All", "|", 
       RowBox[{"{", "}"}]}], ":", "All"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletSiteInfoDataset", "[", 
    RowBox[{"PacletSiteInfo", "[", 
     RowBox[{"files", ",", "ops"}], "]"}], "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702733988950871*^9, 3.70273408202997*^9}, {
   3.7027342046807613`*^9, 3.702734352070507*^9}, {3.702734421996314*^9, 
   3.702734426585373*^9}, {3.702735390801173*^9, 3.7027353918798857`*^9}, 
   3.702735485412237*^9, {3.702735625471531*^9, 3.702735626847624*^9}, {
   3.70360927556085*^9, 3.703609278264082*^9}, {3.7205768592667637`*^9, 
   3.72057687038282*^9}, {3.7205787578684063`*^9, 3.720578759072332*^9}, {
   3.7205787906983843`*^9, 3.720578790870798*^9}, 
   3.728964168764481*^9},ExpressionUUID->"4bac994f-c097-43cd-baf4-\
56e500e17fbc"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteBundle\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702673024637313*^9, 
  3.702673031483593*^9}},ExpressionUUID->"e6f6d9b4-2c79-4db5-9a34-\
ab78ebf125e1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletSiteFileName", "[", 
   RowBox[{"br_", ",", " ", "fp_", ",", " ", "if_", ",", " ", "baseName_"}], 
   "]"}], ":=", "\n", "\t", 
  RowBox[{"FileNameJoin", "@", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"d", "=", "\n", "\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{"br", ",", "\n", "\t\t\t\t", "$PacletBuildExtension"}], 
           "\n", "\t\t\t\t", "}"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"FileExistsQ", "@", "d"}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"CreateDirectory", "@", "d"}]}], "\n", "\t\t\t\t", "]"}], 
        ";", "\n", "\t\t\t", "d"}]}], "\n", "\t\t\t", "]"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{"fp", ",", 
        RowBox[{"{", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"Automatic", "\[RuleDelayed]", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"f", "=", 
                RowBox[{"First", "@", "if"}]}], "}"}], ",", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"StringMatchQ", "[", 
                 RowBox[{
                  RowBox[{"FileNameTake", "[", "f", "]"}], ",", 
                  "\"\<*.*\>\""}], "]"}], ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"DirectoryName", "[", "f", "]"}], ",", "\n", 
                "\t\t\t\t\t\t", 
                RowBox[{"FileBaseName", "[", "f", "]"}]}], "\n", 
               "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], "<>", 
            "\"\<-\>\""}]}], ",", "\n", "\t\t\t", 
          RowBox[{"s_String", "\[RuleDelayed]", 
           RowBox[{"(", 
            RowBox[{"s", "<>", "\"\<-\>\""}], ")"}]}], ",", "\n", "\t\t\t", 
          RowBox[{"_", "\[Rule]", "\"\<\>\""}]}], "\n", "\t\t\t", "}"}]}], 
       "]"}], "<>", "baseName"}]}], "\n", "\t\t", "}"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.7298660290800447`*^9, 3.729866119038437*^9}, 
   3.7298662208641043`*^9},ExpressionUUID->"b0c82589-5692-4975-9e53-\
f95a55996976"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Options", "[", "PacletSiteBundle", "]"}], "=", "\n", "\t", 
    RowBox[{"Join", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
        "\"\<BuildRoot\>\"", "\[RuleDelayed]", "$TemporaryDirectory"}], ",", 
        "\n", "\t", "\t\t", 
        RowBox[{"\"\<FilePrefix\>\"", "\[Rule]", "None"}]}], "\n", "\t\t\t", 
       "}"}], ",", "\n", "\t\t", 
      RowBox[{"Options", "@", "PacletSiteInfo"}]}], "\n", "\t\t", "]"}]}], 
   ";"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"PacletSiteBundle", "[", "infoFiles", "]"}], "~~", 
     "PackageAddUsage", "~~", "\n", "\t", 
     "\"\<bundles the PacletInfo.m files found in infoFiles into a compressed \
PacletSite file\>\""}], ";"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteBundle", "[", 
    RowBox[{
     RowBox[{"dir_String", "?", "DirectoryQ"}], ",", " ", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletSiteBundle", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"FileNames", "[", 
      RowBox[{"\"\<*.paclet\>\"", ",", "dir", ",", "2"}], "]"}], ",", "\n", 
     "\t\t", "ops"}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"infoFiles", ":", 
      RowBox[{"$PacletFilePatterns", "|", 
       RowBox[{"{", 
        RowBox[{"$PacletFilePatterns", "..."}], "}"}]}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Block", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"$ContextPath", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<System`\>\"", ",", " ", "\"\<PacletManager`Private`\>\"", ",", 
          " ", "\"\<PacletManager`\>\""}], "}"}]}], ",", " ", "\n", "\t\t\t", 
       
       RowBox[{"$Context", "=", "\"\<PacletManager`Private`\>\""}], ",", "\n",
        "\t\t\t", 
       RowBox[{"Internal`$ContextMarks", "=", "False"}]}], "\n", "\t\t\t", 
      "}"}], ",", "\n", "\t\t", 
     RowBox[{"Export", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"pacletSiteFileName", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"OptionValue", "[", "\"\<BuildRoot\>\"", "]"}], ",", " ", 
         "\n", "\t\t\t\t", 
         RowBox[{"OptionValue", "[", "\"\<FilePrefix\>\"", "]"}], ",", "\n", 
         "\t\t\t\t", 
         RowBox[{"{", "infoFiles", "}"}], ",", "\n", "\t\t\t\t", 
         "\"\<PacletSite.mz\>\""}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{"cleanPacletForExport", ",", "\n", "\t\t\t\t", 
         RowBox[{"PacletSiteInfo", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"infoFiles", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FilterRules", "[", 
            RowBox[{
             RowBox[{"{", "ops", "}"}], ",", "\n", "\t", "\t", "\t\t\t\t", 
             RowBox[{"Options", "@", "PacletSiteInfo"}]}], "\n", 
            "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"{", 
        RowBox[{"\"\<ZIP\>\"", ",", " ", "\"\<PacletSite.m\>\""}], "}"}]}], 
      "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.7026730569256353`*^9, 3.702673149505384*^9}, {
   3.702673204665799*^9, 3.702673374942368*^9}, {3.7026745849650497`*^9, 
   3.702674589930685*^9}, {3.7026747648811903`*^9, 3.702674766527083*^9}, {
   3.702674817787299*^9, 3.702674825778707*^9}, 3.702675448062183*^9, {
   3.702678369451384*^9, 3.702678403871648*^9}, {3.702728908832263*^9, 
   3.702729108166376*^9}, {3.702729217195292*^9, 3.702729218218507*^9}, {
   3.70272971059762*^9, 3.702730040622971*^9}, {3.7027300794702387`*^9, 
   3.702730207141556*^9}, {3.70273027682262*^9, 3.702730286799938*^9}, 
   3.7027303461429577`*^9, {3.702732088523975*^9, 3.7027320904193*^9}, {
   3.7027321901926727`*^9, 3.702732216734212*^9}, 3.70273225006988*^9, {
   3.702732547469306*^9, 3.702732566259075*^9}, {3.70273260323367*^9, 
   3.702732721442505*^9}, 3.702733058704808*^9, {3.702733153170539*^9, 
   3.7027331759210052`*^9}, {3.702733233079164*^9, 3.7027332583815823`*^9}, {
   3.7027333570869417`*^9, 3.7027333702455997`*^9}, {3.7027334088558273`*^9, 
   3.7027334097327538`*^9}, {3.7027334537740297`*^9, 3.70273345461165*^9}, {
   3.7027334909784718`*^9, 3.70273351158195*^9}, {3.704667021640421*^9, 
   3.704667031198544*^9}, {3.704667666806999*^9, 3.704667740296835*^9}, {
   3.70466792414219*^9, 3.704667924469254*^9}, {3.704668166637393*^9, 
   3.704668167419466*^9}, {3.7046713582331533`*^9, 3.7046714143860073`*^9}, 
   3.705177422961046*^9, {3.712808041359943*^9, 3.712808041366025*^9}, {
   3.717154135057994*^9, 3.717154139903426*^9}, {3.717154831056136*^9, 
   3.71715483747402*^9}, {3.7171549202181263`*^9, 3.7171549317293997`*^9}, {
   3.717154989430588*^9, 3.717155048349924*^9}, {3.720578093873444*^9, 
   3.720578127508074*^9}, {3.720578195574143*^9, 3.72057821718172*^9}, {
   3.720578515304449*^9, 3.7205785427347317`*^9}, 3.72694166270709*^9, {
   3.729865782983305*^9, 3.72986584882657*^9}, {3.729865886714628*^9, 
   3.7298661036627903`*^9}, {3.729866831212927*^9, 3.729866885345845*^9}, {
   3.729866982346985*^9, 3.729867005833757*^9}, {3.72986706363146*^9, 
   3.729867091361129*^9}, 3.729867333265709*^9, {3.733454686626834*^9, 
   3.7334547290412083`*^9}},ExpressionUUID->"1f2797c9-339d-42b4-ba15-\
09f8f8975dc1"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Installers\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703751936370678*^9, 3.7037519386249*^9}, 
   3.7037519840495853`*^9},ExpressionUUID->"e54c5589-7244-4504-a612-\
2e3020ef652f"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInstallerURL\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7009717822645073`*^9, 3.700971784919827*^9}, {
   3.7009721546134787`*^9, 3.700972154924354*^9}, 3.7026734548604183`*^9, {
   3.7056861373699007`*^9, 
   3.7056861380067043`*^9}},ExpressionUUID->"a5ec9ad2-908e-4208-8025-\
360fa0e616ea"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInstallerURL", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "@", "PacletSiteURL"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerURL", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"StringReplace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"URLBuild", "@", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"PacletSiteURL", "[", "ops", "]"}], ",", 
        "\"\<Installer.m\>\""}], "}"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], "\[Rule]", 
      "\"\<file://\>\""}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.700971787449051*^9, 3.700971843775531*^9}, {
   3.700972015671761*^9, 3.700972042255151*^9}, {3.702386803369734*^9, 
   3.702386830279127*^9}, {3.702673511357288*^9, 3.702673527584895*^9}, 
   3.702677318987067*^9},ExpressionUUID->"7eabea8c-42e1-4de5-a93e-\
53b6cfa29bba"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInstallerScript\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702771025400361*^9, 
  3.7027710357193823`*^9}},ExpressionUUID->"353230d3-cdc6-400c-a527-\
785c969482dd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInstallerScript", "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "@", "PacletInstallerURL"}], ",", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"\"\<InstallSite\>\"", "->", "\n", "\t\t\t\t", "False"}], ",",
         "\n", "\t\t\t", 
        RowBox[{
        "\"\<PacletSite\>\"", "\[Rule]", "\n", "\t\t\t\t", "Automatic"}], ",",
         "\n", "\t\t\t", 
        RowBox[{
        "\"\<PacletNames\>\"", "\[Rule]", "\n", "\t\t\t\t", "Automatic"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{
        "\"\<PacletSiteFile\>\"", "\[Rule]", "\n", "\t\t\t\t", 
         "Automatic"}]}], "\n", "\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerScript", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"ps", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<PacletSite\>\"", "]"}], ",", "\n", 
          "\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"p", "=", "\n", "\t", "\t", "\t\t\t\t", 
               RowBox[{"PacletSiteURL", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{"FilterRules", "[", 
                 RowBox[{
                  RowBox[{"{", "ops", "}"}], ",", 
                  RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}]}], 
              "\n", "\t", "\t", "\t\t\t\t", "}"}], ",", "\n", "\t", "\t", 
             "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"p", ",", "\"\<Scheme\>\""}], "]"}], "===", 
                "\"\<file\>\""}], ",", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"URLParse", "[", 
                 RowBox[{"p", ",", "\"\<Path\>\""}], "]"}]}], ",", "\n", "\t",
                "\t", "\t\t\t\t\t", "p"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
            "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", 
       "\n", "\t\t", 
       RowBox[{"info", "=", "\n", "\t\t\t", 
        RowBox[{"Normal", "@", 
         RowBox[{"PacletSiteInfoDataset", "@", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<PacletSiteFile\>\""}], ",", "\n",
             "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"_File", "|", "_String"}], ")"}], "?", 
               "FileExistsQ"}], "]"}], ":>", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<PacletSite\>\"", "]"}], ",", 
               "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"StringReplace", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"URLBuild", "@", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "PacletSiteURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}], ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t", "\"\<PacletSite.mz\>\""}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], 
                   "\[Rule]", "\"\<file://\>\""}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", 
              "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}]}]}], ",", "\n", "\t\t", 
       "names"}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"names", "=", "\n", "\t\t\t", 
       RowBox[{"DeleteMissing", "@", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<PacletNames\>\"", "]"}], ",", "\n",
           "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Lookup", "[", 
            RowBox[{"info", ",", 
             RowBox[{"{", 
              RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], 
            "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}]}], ";", "\n", "\t\t\t", 
      RowBox[{"Which", "[", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{"ps", ",", 
          RowBox[{
          "\"\<http:*\>\"", "|", "\"\<https:*\>\"", "|", "\"\<file:*\>\""}]}],
          "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"OptionValue", "@", "\"\<InstallSite\>\""}], "//", 
           "TrueQ"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"desc", "=", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Paclet Server for: \>\"", "<>", "\n", "\t\t\t\t\t\t\t\t", 
                
                RowBox[{"StringRiffle", "[", 
                 RowBox[{
                  RowBox[{"First", "/@", 
                   RowBox[{"Replace", "[", 
                    RowBox[{"names", ",", 
                    RowBox[{"s_String", "\[RuleDelayed]", 
                    RowBox[{"{", "s", "}"}]}], ",", "1"}], "]"}]}], ",", 
                  "\"\<, \>\""}], "]"}]}]}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"site", "=", "ps"}], ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"paclets", "=", "names"}]}], "\n", "\t\t\t\t\t\t", 
             "}"}], ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"PacletManager`PacletSiteAdd", "[", 
               RowBox[{
               "site", ",", "\n", "\t\t\t\t\t\t\t\t", "desc", ",", "\n", "\t",
                 "\t\t\t\t\t\t\t", 
                RowBox[{"Prepend", "\[Rule]", "True"}]}], "\n", "\t", "\t", 
               "\t", "\t\t\t\t\t", "]"}], ";", "\n", "\t", "\t", "\t", 
              "\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"PacletManager`PacletInstall", "[", 
                 RowBox[{"#", ",", "\n", "\t", "\t", "\t", "\t\t\t\t\t", 
                  RowBox[{"\"\<Site\>\"", "\[Rule]", "site"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t", "]"}], "&"}], "/@", "paclets"}]}], "\n", 
             "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", 
          "\n", "\t\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{"pacletFiles", "=", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"URLBuild", "@", 
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "ps", ",", "\n", "\t\t\t\t\t\t\t\t", "\"\<Paclets\>\"", ",",
                    "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", "\"\<Name\>\"", "]"}], "]"}], "<>", 
                    "\"\<-\>\"", "<>", 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "\"\<Version\>\"", "]"}], "]"}], "<>", 
                    "\"\<.paclet\>\""}]}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], 
                "&"}], "/@", "info"}]}], "\n", "\t\t\t\t\t\t", "}"}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"With", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"file", "=", "\n", "\t\t\t\t\t\t\t\t", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"URLParse", "[", 
                    RowBox[{"#", ",", "\"\<Path\>\""}], "]"}], "//", 
                    "Last"}]}], "\n", "\t\t\t\t\t\t\t\t\t", "}"}]}]}], "\n", 
                  "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"Between", "[", 
                    RowBox[{
                    RowBox[{"URLSave", "[", 
                    RowBox[{"#", ",", "file", ",", "\"\<StatusCode\>\""}], 
                    "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"200", ",", "299"}], "}"}]}], "]"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"PacletManager`PacletInstall", "@", "file"}], ",", 
                   "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"PacletInstallerScript", "::", "savefail"}], "=", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<No paclet found at ``\>\""}], ";", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Message", "[", 
                    RowBox[{
                    RowBox[{"PacletInstallerScript", "::", "savefail"}], ",", 
                    "file"}], "]"}], ";", "\n", "\t\t\t\t\t\t\t\t\t", 
                    "$Failed"}]}], "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                "\t\t\t\t\t\t\t\t", "]"}], "&"}], "/@", "pacletFiles"}], "\n",
              "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
         "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"StringMatchQ", "[", 
         RowBox[{"ps", ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
            "$UserBaseDirectory", "|", "$HomeDirectory", "|", "\n", 
             "\t\t\t\t\t\t", "$BaseDirectory", "|", "$InstallationDirectory", 
             "|", "$RootDirectory"}], ")"}], "\n", "\t\t\t\t\t\t", "~~", 
           "___"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Thread", "@", 
               RowBox[{"Hold", "[", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "$UserBaseDirectory", ",", "$HomeDirectory", ",", "\n", "\t",
                   "\t", "\t\t\t\t\t\t\t\t", "$BaseDirectory", ",", 
                  "$InstallationDirectory", ",", "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t\t", "$RootDirectory"}], "}"}], "]"}]}], ",",
               "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"StringMatchQ", "[", 
                RowBox[{"ps", ",", 
                 RowBox[{
                  RowBox[{"ReleaseHold", "[", "#", "]"}], "~~", "__"}]}], 
                "]"}], "&"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Hold", "[", "p_", "]"}], ":>", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"FileNameSplit", "[", 
                RowBox[{"StringTrim", "[", 
                 RowBox[{"ps", ",", "p"}], "]"}], "]"}], ",", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"\"\<\>\"", ",", "s__"}], "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Hold", "[", 
                   RowBox[{"{", 
                    RowBox[{"p", ",", "s"}], "}"}], "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "s__", "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Hold", "[", 
                   RowBox[{"p", ",", "s"}], "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Hold", "[", "fp_", "]"}], ":>", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"OptionValue", "@", "\"\<InstallSite\>\""}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"desc", "=", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Paclet Server for: \>\"", "<>", "\n", "\t", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Riffle", "[", 
                    RowBox[{"names", ",", "\"\< \>\""}], "]"}]}]}], "\n", 
                 "\t", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{"Hold", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "PacletManager`PacletSiteAdd", "[", "\n", "\t", 
                   "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"\"\<file://\>\"", "<>", 
                    RowBox[{"URLBuild", "@", "fp"}]}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", "desc", ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Prepend", "\[Rule]", "True"}]}], "\n", "\t", 
                   "\t\t\t\t\t\t\t\t\t\t", "]"}], ";", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{"$VersionNumber", "<", "11.2"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "PacletManager`Services`Private`finishPacletSiteUpdate", 
                    "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t", 
                    RowBox[{
                    "PacletManager`Private`siteURL_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t", 
                    "PacletManager`Private`file_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t", 
                    "PacletManager`Private`interactive_", ",", " ", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t   \t\t", 
                    "PacletManager`Private`async_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t", "0"}], "}"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t", "]"}], " ", ":=", " ", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t   \t", 
                    RowBox[{
                    "PacletManager`Services`Private`finishPacletSiteUpdate", 
                    "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t", 
                    RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "PacletManager`Private`siteURL", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "PacletManager`Private`file", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "PacletManager`Private`interactive", ",", " ", "\n", "\t",
                     "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "PacletManager`Private`async", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "200"}], "}"}], "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t   \t\t", "]"}]}], ";", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t   ", 
                    RowBox[{
                    RowBox[{
                    "PacletManager`Package`getTaskData", "[", "task_", "]"}], 
                    " ", ":=", " ", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t   \t", 
                    RowBox[{
                    RowBox[{"Block", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    "PacletManager`Private`$inTaskDataPatch", " ", "=", " ", 
                    "True"}], "}"}], ",", " ", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t   \t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{
                    "PacletManager`Package`getTaskData", "[", "task", "]"}], 
                    ",", " ", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t", 
                    RowBox[{
                    RowBox[{
                    "{", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    RowBox[{
                    "PacletManager`Private`a_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    "PacletManager`Private`b_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    "PacletManager`Private`c_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    "PacletManager`Private`d_", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    "PacletManager`Private`e_", ",", " ", "0", ",", " ", "\n",
                     "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    "PacletManager`Private`rest__"}], "}"}], " ", ":>", " ", 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t\t", 
                    RowBox[{
                    "{", "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    RowBox[{
                    "PacletManager`Private`a", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    "PacletManager`Private`b", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    "PacletManager`Private`c", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    "PacletManager`Private`d", ",", " ", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    "PacletManager`Private`e", ",", " ", "200", ",", " ", 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t\t\t\t\t", 
                    "PacletManager`Private`rest"}], "}"}]}]}], "]"}]}], "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t   \t\t", "]"}], " ", "/;", " ", 
                    
                    RowBox[{"!", " ", 
                    RowBox[{
                    "TrueQ", "[", "PacletManager`Private`$inTaskDataPatch", 
                    "]"}]}]}]}]}]}], "\n", "\t", "\t\t\t\t\t\t\t\t\t   \t", 
                   "]"}], ";", "\n", "\t", "\t\t\t\t\t\t\t\t   ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    "PacletManager`PacletInstall", "[", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"#", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Site\>\"", "\[Rule]", 
                    RowBox[{"(", 
                    RowBox[{"\"\<file://\>\"", "<>", 
                    RowBox[{"URLBuild", "@", "fp"}]}], ")"}]}], ",", "\n", 
                    "\t", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<Asynchronous\>\"", "\[Rule]", "False"}]}], 
                    "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", "]"}], "&"}], "/@", 
                   "names"}]}], "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"paclets", "=", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "StringReplace", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"URLBuild", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "ps", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<Paclets\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"#", "[", 
                    RowBox[{"[", "\"\<Name\>\"", "]"}], "]"}], "<>", 
                    "\"\<-\>\"", "<>", 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "\"\<Version\>\"", "]"}], "]"}], "<>", 
                    "\"\<.paclet\>\""}]}], "\n", "\t", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t", "}"}]}], "&"}], "/@", "info"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"\"\<file:\>\"", "->", "\"\<file://\>\""}]}], 
                   "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"FileExistsQ", "@", "#"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"PacletManager`PacletInstall", "@", "#"}], ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"PacletInstallerScript", "::", "savefail"}], "=", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<No paclet found at ``\>\""}], ";", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Message", "[", 
                    RowBox[{
                    RowBox[{"PacletInstallerScript", "::", "savefail"}], ",", 
                    "file"}], "]"}], ";", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t", "$Failed"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}], "&"}], "/@", "paclets"}],
                  "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
               "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t", 
             "]"}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
        "\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"PacletInstallerScript", "::", "unclear"}], "=", 
          "\"\<Unclear how to install paclet from site ``\>\""}], ";", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"Message", "[", 
          RowBox[{
           RowBox[{"PacletInstallerScript", "::", "unclear"}], ",", "ps"}], 
          "]"}], ";", "\n", "\t\t\t\t\t", "$Failed"}]}], "\n", "\t\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletInstallerScript", "[", "\n", "\t", 
   RowBox[{"ps_", ",", "\n", "\t", 
    RowBox[{"names", ":", 
     RowBox[{
      RowBox[{"{", "__String", "}"}], "|", "Automatic"}], ":", "Automatic"}], 
    ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"PacletInstallerScript", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"\"\<PacletSite\>\"", "\[Rule]", "ps"}], ",", "\n", "\t\t", 
    RowBox[{"\"\<PacletNames\>\"", "\[Rule]", "names"}], ",", "\n", "\t\t", 
    "ops"}], "\n", "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7009721567101727`*^9, 3.700972292107675*^9}, {
   3.7009724566029787`*^9, 3.700972499052837*^9}, {3.700972533559046*^9, 
   3.700972553130219*^9}, {3.700972857060454*^9, 3.7009728634333773`*^9}, {
   3.700972975640667*^9, 3.700972994540977*^9}, {3.700973075860573*^9, 
   3.700973248461289*^9}, {3.700973419814704*^9, 3.700973474517311*^9}, 
   3.700973726926506*^9, {3.700973893765027*^9, 3.7009738991086283`*^9}, {
   3.7009739843407288`*^9, 3.700973990775153*^9}, {3.70097444595676*^9, 
   3.700974461654437*^9}, {3.7023759838240957`*^9, 3.702375991996975*^9}, {
   3.702376029523059*^9, 3.7023760376075373`*^9}, {3.7023763941195717`*^9, 
   3.702376430700653*^9}, {3.702381255134572*^9, 3.7023812685469913`*^9}, {
   3.702383203591671*^9, 3.702383229916767*^9}, {3.702384486001823*^9, 
   3.702384518054439*^9}, {3.7023846053737717`*^9, 3.702384622387917*^9}, {
   3.702384666338855*^9, 3.7023850219953833`*^9}, {3.702387160903186*^9, 
   3.702387182749042*^9}, {3.702387237795574*^9, 3.702387266731907*^9}, {
   3.7023873096218033`*^9, 3.702387523549361*^9}, {3.702387555117073*^9, 
   3.702387590288093*^9}, {3.70238764067528*^9, 3.702387647333397*^9}, {
   3.702387707235812*^9, 3.702387734051278*^9}, {3.702388221147695*^9, 
   3.702388260097321*^9}, 3.7023882967889147`*^9, {3.7023883402782307`*^9, 
   3.702388375704012*^9}, {3.702388608167692*^9, 3.702388913660747*^9}, {
   3.7023889460444727`*^9, 3.702388973066383*^9}, {3.7026095089574833`*^9, 
   3.702609519933188*^9}, {3.702609933631839*^9, 3.702609935995234*^9}, {
   3.70261015328293*^9, 3.702610155171983*^9}, {3.70261049678281*^9, 
   3.7026105607833548`*^9}, {3.7026697808772793`*^9, 
   3.7026697908776207`*^9}, {3.702673534759989*^9, 3.702673603318111*^9}, {
   3.702673637525403*^9, 3.70267368278152*^9}, {3.702674459411344*^9, 
   3.7026744612679358`*^9}, {3.702675568480947*^9, 3.702675572886829*^9}, {
   3.702679346191906*^9, 3.702679351541436*^9}, {3.70268011326119*^9, 
   3.702680128913908*^9}, {3.702728019289764*^9, 3.7027280637106667`*^9}, {
   3.70277106321614*^9, 3.702771068791276*^9}, {3.702771106140553*^9, 
   3.702771124415893*^9}, {3.702771161084599*^9, 3.70277122806968*^9}, {
   3.702771546380528*^9, 3.702771554145935*^9}, {3.7027719014195137`*^9, 
   3.7027719212304487`*^9}, {3.702771959963423*^9, 3.702772011104643*^9}, {
   3.702772174332293*^9, 3.702772225707314*^9}, {3.702774982884663*^9, 
   3.702775012092716*^9}, {3.702777963917225*^9, 3.702778008289237*^9}, {
   3.702778682524273*^9, 3.7027787086799994`*^9}, {3.702778906126973*^9, 
   3.702778907518373*^9}, {3.702779691959323*^9, 3.7027797076655073`*^9}, {
   3.702780384102404*^9, 3.7027803865272512`*^9}, {3.702780426741647*^9, 
   3.702780477140709*^9}, {3.702780555834181*^9, 3.7027805568347692`*^9}, {
   3.702832871730397*^9, 3.702832931421365*^9}, {3.702833014638139*^9, 
   3.7028330530932817`*^9}, 3.702841844822345*^9, {3.702845109897463*^9, 
   3.702845132188384*^9}, {3.702845252969996*^9, 3.7028454133170347`*^9}, 
   3.7028461755206223`*^9, {3.7039554457768793`*^9, 3.703955538354289*^9}, {
   3.703955667909231*^9, 3.703955670245672*^9}, {3.704029907369749*^9, 
   3.704030253711238*^9}, {3.7040303005246696`*^9, 3.704030398548835*^9}, {
   3.70403086889832*^9, 3.704030901011363*^9}, {3.7040310789866734`*^9, 
   3.7040311226413307`*^9}, {3.7040312328687153`*^9, 3.704031237977839*^9}, {
   3.704031322801145*^9, 3.704031462965414*^9}, {3.704031632666792*^9, 
   3.704031653170573*^9}, {3.7040319262950363`*^9, 3.7040319298370037`*^9}, {
   3.712199372299415*^9, 
   3.712199537396647*^9}},ExpressionUUID->"89cd3dd4-8317-4639-b4d7-\
abe216d3f8e9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletUploadInstaller\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.700972739757182*^9, 3.70097274208416*^9}, 
   3.7026735071165667`*^9, {3.7026743847213793`*^9, 
   3.702674390326679*^9}},ExpressionUUID->"54074e2e-cda7-4399-a2ea-\
c974a8f75538"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletUploadInstaller", "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "@", "PacletInstallerScript"}], ",", "\n", "\t\t\t", 
      
      RowBox[{"Options", "@", "CloudExport"}]}], "\n", "\t\t\t", "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletUploadInstaller", "[", 
   RowBox[{"ops", ":", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"installerLoc", "=", "\n", "\t\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"p", "=", "\n", "\t\t\t\t", 
           RowBox[{"PacletInstallerURL", "@", "\n", "\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", 
              RowBox[{"Options", "@", "PacletInstallerURL"}]}], "]"}]}]}], 
          "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"URLParse", "[", 
             RowBox[{"p", ",", "\"\<Scheme\>\""}], "]"}], "===", 
            "\"\<file\>\""}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"URLParse", "[", 
             RowBox[{"p", ",", "\"\<Path\>\""}], "]"}]}], ",", "\n", 
           "\t\t\t\t\t", "p"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t",
         "]"}]}], ",", "\n", "\t\t", 
      RowBox[{"script", "=", "\n", "\t\t\t", 
       RowBox[{"PacletInstallerScript", "@", "\n", "\t\t\t\t", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Options", "@", "PacletInstallerScript"}]}], "\n", 
         "\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t\t", 
    
    RowBox[{"Which", "[", "\n", "\t\t\t\t", 
     RowBox[{
      RowBox[{"StringMatchQ", "[", 
       RowBox[{"installerLoc", ",", 
        RowBox[{"\"\<http:*\>\"", "|", "\"\<https:*\>\""}]}], "]"}], ",", 
      "\n", "\t", "\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"SetOptions", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"CopyFile", "[", 
             RowBox[{"#", ",", "#", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{
              "\"\<MIMEType\>\"", "\[Rule]", 
               "\"\<application/vnd.wolfram.mathematica.package\>\""}]}], 
             "\n", "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"Options", "@", "CloudExport"}]}], "\n", "\t", 
             "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t", "]"}], ";", 
          "#"}], ")"}], "&"}], "@", "\n", "\t", "\t\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"script", ",", "\n", "\t", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Hold", "[", "s_", "]"}], ":>", "\n", "\t", 
          "\t\t\t\t\t\t\t", 
          RowBox[{"CloudPut", "[", 
           RowBox[{
            RowBox[{"Unevaluated", "[", "s", "]"}], ",", "\n", "\t", 
            "\t\t\t\t\t\t\t\t", "installerLoc"}], "\n", "\t", 
           "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}],
       ",", "\n", "\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Not", "@", 
          RowBox[{"FileExistsQ", "@", "installerLoc"}]}], ",", "\n", "\t", 
         "\t\t\t\t\t\t", 
         RowBox[{"CreateFile", "[", 
          RowBox[{"installerLoc", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
           RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
          "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
        "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"script", ",", "\n", "\t\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Hold", "[", "s_", "]"}], ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
          
          RowBox[{"Put", "[", 
           RowBox[{
            RowBox[{"Unevaluated", "[", "s", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t\t\t\t", "installerLoc"}], "\n", 
           "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}],
        ";", "\n", "\t\t\t\t\t\t", "installerLoc"}]}], "\n", "\t\t\t\t", 
     "]"}]}], "\n", "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7009721567101727`*^9, 3.700972292107675*^9}, {
   3.7009724566029787`*^9, 3.700972499052837*^9}, {3.700972533559046*^9, 
   3.700972553130219*^9}, {3.700972857060454*^9, 3.7009728634333773`*^9}, {
   3.700972975640667*^9, 3.700972994540977*^9}, {3.700973075860573*^9, 
   3.700973248461289*^9}, {3.700973419814704*^9, 3.700973474517311*^9}, 
   3.700973726926506*^9, {3.700973893765027*^9, 3.7009738991086283`*^9}, {
   3.7009739843407288`*^9, 3.700973990775153*^9}, {3.70097444595676*^9, 
   3.700974461654437*^9}, {3.7023759838240957`*^9, 3.702375991996975*^9}, {
   3.702376029523059*^9, 3.7023760376075373`*^9}, {3.7023763941195717`*^9, 
   3.702376430700653*^9}, {3.702381255134572*^9, 3.7023812685469913`*^9}, {
   3.702383203591671*^9, 3.702383229916767*^9}, {3.702384486001823*^9, 
   3.702384518054439*^9}, {3.7023846053737717`*^9, 3.702384622387917*^9}, {
   3.702384666338855*^9, 3.7023850219953833`*^9}, {3.702387160903186*^9, 
   3.702387182749042*^9}, {3.702387237795574*^9, 3.702387266731907*^9}, {
   3.7023873096218033`*^9, 3.702387523549361*^9}, {3.702387555117073*^9, 
   3.702387590288093*^9}, {3.70238764067528*^9, 3.702387647333397*^9}, {
   3.702387707235812*^9, 3.702387734051278*^9}, {3.702388221147695*^9, 
   3.702388260097321*^9}, 3.7023882967889147`*^9, {3.7023883402782307`*^9, 
   3.702388375704012*^9}, {3.702388608167692*^9, 3.702388913660747*^9}, {
   3.7023889460444727`*^9, 3.702388973066383*^9}, {3.7026095089574833`*^9, 
   3.702609519933188*^9}, {3.702609933631839*^9, 3.702609935995234*^9}, {
   3.70261015328293*^9, 3.702610155171983*^9}, {3.70261049678281*^9, 
   3.7026105607833548`*^9}, {3.7026697808772793`*^9, 
   3.7026697908776207`*^9}, {3.702673534759989*^9, 3.702673603318111*^9}, {
   3.702673637525403*^9, 3.70267368278152*^9}, {3.702674459411344*^9, 
   3.7026744612679358`*^9}, {3.702675568480947*^9, 3.702675572886829*^9}, {
   3.702679346191906*^9, 3.702679351541436*^9}, {3.70268011326119*^9, 
   3.702680128913908*^9}, {3.702728019289764*^9, 3.7027280637106667`*^9}, {
   3.70277106321614*^9, 3.702771068791276*^9}, {3.7027712145082912`*^9, 
   3.702771401082884*^9}, {3.703955441408993*^9, 3.703955442110785*^9}, {
   3.7056885884677896`*^9, 
   3.705688594095487*^9}},ExpressionUUID->"8abc7d11-a867-4eac-ae0e-\
e6d079acd818"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletUninstallerURL\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7009717822645073`*^9, 3.700971784919827*^9}, {
   3.7009721546134787`*^9, 3.700972154924354*^9}, {3.701123980156775*^9, 
   3.701123981380742*^9}, 
   3.702673700369*^9},ExpressionUUID->"02a73672-c8d2-4a20-907b-099679e8d18e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletUninstallerURL", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "@", "PacletSiteURL"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletUninstallerURL", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"StringReplace", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"URLBuild", "@", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"PacletSiteURL", "[", "ops", "]"}], ",", 
        "\"\<Uninstaller.m\>\""}], "}"}]}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], "\[Rule]", 
      "\"\<file://\>\""}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.700971787449051*^9, 3.700971843775531*^9}, {
   3.700972015671761*^9, 3.700972042255151*^9}, {3.70112400160572*^9, 
   3.701124010752347*^9}, {3.702386837804968*^9, 3.70238684282432*^9}, {
   3.7026737030581007`*^9, 3.702673715381907*^9}, 
   3.702677332240683*^9},ExpressionUUID->"d3659f5b-0e49-4675-83ac-\
ab57d2d890ab"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletUninstallerScript\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.700972739757182*^9, 3.70097274208416*^9}, {
   3.7011242416945457`*^9, 3.701124244186627*^9}, {3.7026737332514687`*^9, 
   3.702673733643401*^9}, {3.702674386438962*^9, 3.70267439315871*^9}, 
   3.702771585241817*^9},ExpressionUUID->"5e8cbcfa-ad6f-4039-a7f4-\
6b9487f449ae"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletUninstallerScript", "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "@", "PacletUninstallerURL"}], ",", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"\"\<UninstallSite\>\"", "->", "\n", "\t\t\t\t", "False"}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"\"\<PacletSite\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<PacletNames\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"\"\<PacletSiteFile\>\"", "\[Rule]", "Automatic"}]}], "\n", 
       "\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletUninstallerScript", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"ps", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<PacletSite\>\"", "]"}], ",", "\n", 
          "\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"p", "=", "\n", "\t", "\t", "\t\t\t\t", 
               RowBox[{"PacletSiteURL", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
                RowBox[{"FilterRules", "[", 
                 RowBox[{
                  RowBox[{"{", "ops", "}"}], ",", 
                  RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}]}], 
              "\n", "\t", "\t", "\t\t\t\t", "}"}], ",", "\n", "\t", "\t", 
             "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"p", ",", "\"\<Scheme\>\""}], "]"}], "===", 
                "\"\<file\>\""}], ",", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"URLParse", "[", 
                 RowBox[{"p", ",", "\"\<Path\>\""}], "]"}]}], ",", "\n", "\t",
                "\t", "\t\t\t\t\t", "p"}], "\n", "\t\t\t\t\t\t\t", "]"}]}], 
            "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", 
       "\n", "\t\t", 
       RowBox[{"info", "=", "\n", "\t\t\t", 
        RowBox[{"Normal", "@", 
         RowBox[{"PacletSiteInfoDataset", "@", "\n", "\t\t\t\t", 
          RowBox[{"Replace", "[", 
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<PacletSiteFile\>\""}], ",", "\n",
             "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"_File", "|", "_String"}], ")"}], "?", 
               "FileExistsQ"}], "]"}], ":>", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<PacletSite\>\"", "]"}], ",", 
               "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"StringReplace", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"URLBuild", "@", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "PacletSiteURL", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}], ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t", "\"\<PacletSite.mz\>\""}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"StartOfString", "~~", "\"\<file:\>\""}], 
                   "\[Rule]", "\"\<file://\>\""}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", 
              "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}]}]}], ",", "\n", "\t\t", 
       "names"}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"names", "=", "\n", "\t\t\t", 
       RowBox[{"DeleteMissing", "@", "\n", "\t\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<PacletNames\>\"", "]"}], ",", "\n",
           "\t\t\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Lookup", "[", 
            RowBox[{"info", ",", 
             RowBox[{"{", 
              RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], 
            "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}]}], ";", "\n", "\t\t\t", 
      RowBox[{"Which", "[", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{"ps", ",", 
          RowBox[{"\"\<http:*\>\"", "|", "\"\<https:*\>\""}]}], 
         RowBox[{"(*", 
          RowBox[{"|", "\"\<file:*\>\""}], "*)"}], "]"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"site", "=", "\n", "\t\t\t\t\t\t\t", "ps"}], ",", "\n", 
            "\t\t\t\t\t\t", 
            RowBox[{"paclets", "=", "\n", "\t\t\t\t\t\t\t", "names"}]}], "\n",
            "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<UninstallSite\>\"", "]"}], ",", 
            "\n", "\t\t\t\t\t\t", 
            RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"PacletManager`PacletSiteRemove", "[", "site", "]"}], 
              ";", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"PacletManager`PacletUninstall", "[", "#", "]"}], 
                "&"}], "/@", "paclets"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], 
            ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Hold", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"PacletManager`PacletUninstall", "[", "#", "]"}], 
               "&"}], "/@", "paclets"}], "]"}]}], "\n", "\t\t\t\t\t\t", 
           "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"StringMatchQ", "[", 
         RowBox[{"ps", ",", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
            "$UserBaseDirectory", "|", "$HomeDirectory", "|", "\n", 
             "\t\t\t\t\t\t", "$BaseDirectory", "|", "$InstallationDirectory", 
             "|", "$RootDirectory"}], ")"}], "\n", "\t\t\t\t\t\t", "~~", 
           "___"}]}], "]"}], ",", "\n", "\t\t\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Thread", "@", 
               RowBox[{"Hold", "[", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "$UserBaseDirectory", ",", "$HomeDirectory", ",", "\n", "\t",
                   "\t", "\t\t\t\t\t\t\t\t", "$BaseDirectory", ",", 
                  "$InstallationDirectory", ",", "\n", "\t", "\t", 
                  "\t\t\t\t\t\t\t\t", "$RootDirectory"}], "}"}], "]"}]}], ",",
               "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"StringMatchQ", "[", 
                RowBox[{"ps", ",", 
                 RowBox[{
                  RowBox[{"ReleaseHold", "[", "#", "]"}], "~~", "__"}]}], 
                "]"}], "&"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Hold", "[", "p_", "]"}], ":>", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"Replace", "[", 
              RowBox[{
               RowBox[{"FileNameSplit", "[", 
                RowBox[{"StringTrim", "[", 
                 RowBox[{"ps", ",", "p"}], "]"}], "]"}], ",", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"\"\<\>\"", ",", "s__"}], "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Hold", "[", 
                   RowBox[{"{", 
                    RowBox[{"p", ",", "s"}], "}"}], "]"}]}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "s__", "}"}], ":>", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Hold", "[", 
                   RowBox[{"p", ",", "s"}], "]"}]}]}], "\n", 
                "\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", 
           "\t\t\t\t\t\t\t", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Hold", "[", "fp_", "]"}], "\[RuleDelayed]", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"site", "=", "ps"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"paclets", "=", "names"}]}], "\n", "\t\t\t\t\t\t\t\t",
                "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"OptionValue", "@", "\"\<UninstallSite\>\""}], ",", 
                "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                  "PacletManager`PacletSiteRemove", "@", "\n", "\t", "\t", 
                   "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"(", 
                    RowBox[{"\"\<file://\>\"", "<>", 
                    RowBox[{"URLBuild", "@", "fp"}]}], ")"}]}], ";", "\n", 
                  "\t", "\t", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"PacletManager`PacletUninstall", "[", "#", "]"}], 
                    "&"}], "/@", "names"}], ";", "\n", "\t\t\t\t\t\t\t\t\t\t",
                   "names"}], "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Hold", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"PacletManager`PacletUninstall", "[", "#", "]"}], 
                    "&"}], "/@", "paclets"}], ";", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "names"}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t",
            "}"}]}], "]"}], ",", "\n", "\t\t\t\t", "True", ",", "\n", 
        "\t\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"PacletUninstallerScript", "::", "unclear"}], "=", 
          "\"\<Unclear how to uninstall paclet from site ``\>\""}], ";", "\n",
          "\t\t\t\t\t", 
         RowBox[{"Message", "[", 
          RowBox[{
           RowBox[{"PacletUninstallerScript", "::", "unclear"}], ",", "ps"}], 
          "]"}], ";", "\n", "\t\t\t\t\t", "$Failed"}]}], "\n", "\t\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletUninstallerScript", "[", "\n", "\t", 
   RowBox[{"ps_", ",", "\n", "\t", 
    RowBox[{"names", ":", 
     RowBox[{
      RowBox[{"{", "__String", "}"}], "|", "Automatic"}], ":", "Automatic"}], 
    ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"PacletUninstallerScript", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"\"\<PacletSite\>\"", "\[Rule]", "ps"}], ",", "\n", "\t\t", 
    RowBox[{"\"\<PacletNames\>\"", "\[Rule]", "names"}], ",", "\n", "\t\t", 
    "ops"}], "\n", "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7009721567101727`*^9, 3.700972292107675*^9}, {
   3.7009724566029787`*^9, 3.700972499052837*^9}, {3.700972533559046*^9, 
   3.700972553130219*^9}, {3.700972857060454*^9, 3.7009728634333773`*^9}, {
   3.700972975640667*^9, 3.700972994540977*^9}, {3.700973075860573*^9, 
   3.700973248461289*^9}, {3.700973419814704*^9, 3.700973474517311*^9}, 
   3.700973726926506*^9, {3.700973893765027*^9, 3.7009738991086283`*^9}, {
   3.7009739843407288`*^9, 3.700973990775153*^9}, {3.70097444595676*^9, 
   3.700974461654437*^9}, {3.7023759838240957`*^9, 3.702375991996975*^9}, {
   3.702376029523059*^9, 3.7023760376075373`*^9}, {3.7023763941195717`*^9, 
   3.702376430700653*^9}, {3.702381255134572*^9, 3.7023812685469913`*^9}, {
   3.702383203591671*^9, 3.702383229916767*^9}, {3.702384486001823*^9, 
   3.702384518054439*^9}, {3.7023846053737717`*^9, 3.702384622387917*^9}, {
   3.702384666338855*^9, 3.7023850219953833`*^9}, {3.702387160903186*^9, 
   3.702387182749042*^9}, {3.702387237795574*^9, 3.702387266731907*^9}, {
   3.7023873096218033`*^9, 3.702387523549361*^9}, {3.702387555117073*^9, 
   3.702387590288093*^9}, {3.70238764067528*^9, 3.702387647333397*^9}, {
   3.702387707235812*^9, 3.702387734051278*^9}, {3.702388221147695*^9, 
   3.702388260097321*^9}, 3.7023882967889147`*^9, {3.7023883402782307`*^9, 
   3.702388375704012*^9}, {3.702388608167692*^9, 3.702388913660747*^9}, {
   3.7023889460444727`*^9, 3.702388973066383*^9}, {3.702608705954379*^9, 
   3.70260885298138*^9}, {3.7026093632310257`*^9, 3.702609374228436*^9}, {
   3.7026094046780024`*^9, 3.7026094300536757`*^9}, 3.702609537099037*^9, {
   3.702609853541774*^9, 3.702609918700766*^9}, {3.7026106837976503`*^9, 
   3.702610698230854*^9}, {3.702610800457718*^9, 3.7026108007037497`*^9}, {
   3.70267372448871*^9, 3.7026737705663424`*^9}, {3.702674487627104*^9, 
   3.702674488906393*^9}, {3.702679359571065*^9, 3.702679362972247*^9}, {
   3.7026794327458878`*^9, 3.702679445256043*^9}, {3.7026795002546587`*^9, 
   3.702679502555623*^9}, {3.702679546045649*^9, 3.7026795793633738`*^9}, {
   3.7026796234013433`*^9, 3.702679648624488*^9}, {3.702679776596962*^9, 
   3.702679820098337*^9}, {3.702679941366243*^9, 3.70268007739347*^9}, {
   3.702727952913622*^9, 3.702728010422111*^9}, {3.702728131477972*^9, 
   3.702728132124652*^9}, {3.702771442005683*^9, 3.702771532961204*^9}, {
   3.7027715881402082`*^9, 3.7027716001119328`*^9}, {3.702772026756351*^9, 
   3.7027720455308847`*^9}, {3.702772087893717*^9, 3.70277209297514*^9}, {
   3.702772235542117*^9, 3.702772245796825*^9}, {3.7027750379673862`*^9, 
   3.702775041499651*^9}, {3.702780617120767*^9, 3.702780618735529*^9}, {
   3.702780674269821*^9, 3.7027806826371098`*^9}, {3.70395556677424*^9, 
   3.703955593350919*^9}, {3.7040304121241207`*^9, 3.7040304153918667`*^9}, {
   3.70403045255443*^9, 3.704030463694319*^9}, {3.7040304946309767`*^9, 
   3.704030665063747*^9}, {3.704030695982992*^9, 3.704030853445669*^9}, {
   3.704030944122225*^9, 3.704031026561348*^9}, {3.704031910594556*^9, 
   3.704031913736383*^9}, {3.71219955378981*^9, 
   3.7121995616451406`*^9}},ExpressionUUID->"da0bb5b5-36f1-427f-adef-\
95e80ec406be"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletUploadUninstaller\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.700972739757182*^9, 3.70097274208416*^9}, {
  3.7011242416945457`*^9, 3.701124244186627*^9}, {3.7026737332514687`*^9, 
  3.702673733643401*^9}, {3.702674386438962*^9, 
  3.70267439315871*^9}},ExpressionUUID->"5a4e6355-8614-48fb-9fdc-\
bfad4e228a7a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletUploadUninstaller", "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "@", "PacletUninstallerScript"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"Options", "@", "CloudExport"}]}], "\n", "\t\t\t", "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletUploadUninstaller", "[", 
   RowBox[{"ops", ":", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"installerLoc", "=", "\n", "\t\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"p", "=", "\n", "\t\t\t\t", 
           RowBox[{"PacletUninstallerURL", "@", "\n", "\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", 
              RowBox[{"Options", "@", "PacletUninstallerURL"}]}], "]"}]}]}], 
          "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"URLParse", "[", 
             RowBox[{"p", ",", "\"\<Scheme\>\""}], "]"}], "===", 
            "\"\<file\>\""}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"URLParse", "[", 
             RowBox[{"p", ",", "\"\<Path\>\""}], "]"}]}], ",", "\n", 
           "\t\t\t\t\t", "p"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t",
         "]"}]}], ",", "\n", "\t\t", 
      RowBox[{"script", "=", "\n", "\t\t\t", 
       RowBox[{"PacletUninstallerScript", "@", "\n", "\t\t\t\t", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"Options", "@", "PacletUninstallerScript"}]}], "\n", 
         "\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t\t", 
    
    RowBox[{"Which", "[", "\n", "\t\t\t\t", 
     RowBox[{
      RowBox[{"StringMatchQ", "[", 
       RowBox[{"installerLoc", ",", 
        RowBox[{"\"\<http:*\>\"", "|", "\"\<https:*\>\""}]}], "]"}], ",", 
      "\n", "\t", "\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"SetOptions", "[", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"CopyFile", "[", 
             RowBox[{"#", ",", "#", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{
              "\"\<MIMEType\>\"", "\[Rule]", 
               "\"\<application/vnd.wolfram.mathematica.package\>\""}]}], 
             "\n", "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
            RowBox[{"FilterRules", "[", 
             RowBox[{
              RowBox[{"{", "ops", "}"}], ",", "\n", "\t", "\t\t\t\t\t\t", 
              RowBox[{"Options", "@", "CloudExport"}]}], "\n", "\t", 
             "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t", "]"}], ";", 
          "#"}], ")"}], "&"}], "@", "\n", "\t", "\t\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"script", ",", "\n", "\t", "\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Hold", "[", "s_", "]"}], ":>", "\n", "\t", 
          "\t\t\t\t\t\t\t", 
          RowBox[{"CloudPut", "[", 
           RowBox[{
            RowBox[{"Unevaluated", "[", "s", "]"}], ",", "\n", "\t", 
            "\t\t\t\t\t\t\t\t", "installerLoc"}], "\n", "\t", 
           "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}],
       ",", "\n", "\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Not", "@", 
          RowBox[{"FileExistsQ", "@", "installerLoc"}]}], ",", "\n", "\t", 
         "\t\t\t\t\t\t", 
         RowBox[{"CreateFile", "[", 
          RowBox[{"installerLoc", ",", "\n", "\t", "\t\t\t\t\t\t\t", 
           RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
          "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
        "]"}], ";", "\n", "\t\t\t\t\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"script", ",", "\n", "\t\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Hold", "[", "s_", "]"}], ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
          
          RowBox[{"Put", "[", 
           RowBox[{
            RowBox[{"Unevaluated", "[", "s", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t\t\t\t", "installerLoc"}], "\n", 
           "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}],
        ";", "\n", "\t\t\t\t\t\t", "installerLoc"}]}], "\n", "\t\t\t\t", 
     "]"}]}], "\n", "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7009721567101727`*^9, 3.700972292107675*^9}, {
   3.7009724566029787`*^9, 3.700972499052837*^9}, {3.700972533559046*^9, 
   3.700972553130219*^9}, {3.700972857060454*^9, 3.7009728634333773`*^9}, {
   3.700972975640667*^9, 3.700972994540977*^9}, {3.700973075860573*^9, 
   3.700973248461289*^9}, {3.700973419814704*^9, 3.700973474517311*^9}, 
   3.700973726926506*^9, {3.700973893765027*^9, 3.7009738991086283`*^9}, {
   3.7009739843407288`*^9, 3.700973990775153*^9}, {3.70097444595676*^9, 
   3.700974461654437*^9}, {3.7023759838240957`*^9, 3.702375991996975*^9}, {
   3.702376029523059*^9, 3.7023760376075373`*^9}, {3.7023763941195717`*^9, 
   3.702376430700653*^9}, {3.702381255134572*^9, 3.7023812685469913`*^9}, {
   3.702383203591671*^9, 3.702383229916767*^9}, {3.702384486001823*^9, 
   3.702384518054439*^9}, {3.7023846053737717`*^9, 3.702384622387917*^9}, {
   3.702384666338855*^9, 3.7023850219953833`*^9}, {3.702387160903186*^9, 
   3.702387182749042*^9}, {3.702387237795574*^9, 3.702387266731907*^9}, {
   3.7023873096218033`*^9, 3.702387523549361*^9}, {3.702387555117073*^9, 
   3.702387590288093*^9}, {3.70238764067528*^9, 3.702387647333397*^9}, {
   3.702387707235812*^9, 3.702387734051278*^9}, {3.702388221147695*^9, 
   3.702388260097321*^9}, 3.7023882967889147`*^9, {3.7023883402782307`*^9, 
   3.702388375704012*^9}, {3.702388608167692*^9, 3.702388913660747*^9}, {
   3.7023889460444727`*^9, 3.702388973066383*^9}, {3.7026095089574833`*^9, 
   3.702609519933188*^9}, {3.702609933631839*^9, 3.702609935995234*^9}, {
   3.70261015328293*^9, 3.702610155171983*^9}, {3.70261049678281*^9, 
   3.7026105607833548`*^9}, {3.7026697808772793`*^9, 
   3.7026697908776207`*^9}, {3.702673534759989*^9, 3.702673603318111*^9}, {
   3.702673637525403*^9, 3.70267368278152*^9}, {3.702674459411344*^9, 
   3.7026744612679358`*^9}, {3.702675568480947*^9, 3.702675572886829*^9}, {
   3.702679346191906*^9, 3.702679351541436*^9}, {3.70268011326119*^9, 
   3.702680128913908*^9}, {3.702728019289764*^9, 3.7027280637106667`*^9}, {
   3.70277106321614*^9, 3.702771068791276*^9}, {3.7027712145082912`*^9, 
   3.702771401082884*^9}, {3.7027717324645844`*^9, 3.702771736798993*^9}, 
   3.705688598097897*^9},ExpressionUUID->"5157ae08-7f08-48cb-8af1-\
fc6331cf3f85"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInstallerLink\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705298571032971*^9, 3.705298574352311*^9}, 
   3.705625206200614*^9},ExpressionUUID->"e11ade96-b093-4653-9bef-\
5420a59ba5e0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInstallerLink", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "@", "CloudExport"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{
     RowBox[{"pacletURL", ":", "_String"}], ",", "uri_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"\"\<wolfram+cloudobject:\>\"", "<>", "\n", "\t\t", 
    RowBox[{"First", "@", "\n", "\t\t\t", 
     RowBox[{"CloudExport", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"Notebook", "[", 
        RowBox[{"{", "\n", "\t", "\t", "\t\t\t", 
         RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"BoxData", "@", 
            RowBox[{"ToBoxes", "@", 
             RowBox[{"Unevaluated", "[", 
              RowBox[{"PacletManager`PacletInstall", "@", "pacletURL"}], 
              "]"}]}]}], ",", "\n", "\t", "\t", "\t\t\t\t", "\"\<Input\>\""}],
           "\n", "\t", "\t", "\t\t\t\t", "]"}], "\n", "\t", "\t", "\t\t\t", 
         "}"}], "]"}], ",", "\n", "\t", "\t", "\t\t", "\"\<NB\>\"", ",", "\n",
        "\t\t\t\t", "uri", ",", "\n", "\t\t\t\t", 
       RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t\t\t", 
        RowBox[{"pacletStandardServerPermissions", "@", 
         RowBox[{"OptionValue", "[", "Permissions", "]"}]}]}], ",", "\n", 
       "\t\t\t\t", "ops"}], "\n", "\t\t\t\t", "]"}]}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{
     RowBox[{"pacletURL", ":", 
      RowBox[{"{", "__String", "}"}]}], ",", "uri_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"\"\<wolfram+cloudobject:\>\"", "<>", "\n", "\t\t", 
    RowBox[{"First", "@", "\n", "\t\t\t", 
     RowBox[{"CloudExport", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"Notebook", "[", 
        RowBox[{"{", "\n", "\t", "\t", "\t\t\t", 
         RowBox[{"Cell", "[", "\n", "\t", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"BoxData", "@", 
            RowBox[{"ToBoxes", "@", 
             RowBox[{"Unevaluated", "[", 
              RowBox[{"PacletManager`PacletInstall", "/@", "pacletURL"}], 
              "]"}]}]}], ",", "\n", "\t", "\t", "\t\t\t\t", "\"\<Input\>\""}],
           "\n", "\t", "\t", "\t\t\t\t", "]"}], "\n", "\t", "\t", "\t\t\t", 
         "}"}], "]"}], ",", "\n", "\t", "\t", "\t\t", "\"\<NB\>\"", ",", "\n",
        "\t\t\t\t", "uri", ",", "\n", "\t\t\t\t", 
       RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t\t\t", 
        RowBox[{"pacletStandardServerPermissions", "@", 
         RowBox[{"OptionValue", "[", "Permissions", "]"}]}]}], ",", "\n", 
       "\t\t\t\t", "ops"}], "\n", "\t\t\t\t", "]"}]}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{"c_CloudObject", ",", "uri_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{
     RowBox[{"First", "@", "c"}], ",", "uri", ",", "ops"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"{", "__CloudObject", "}"}]}], ",", "uri_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletInstallerLink", "[", 
    RowBox[{
     RowBox[{"First", "/@", "c"}], ",", "uri", ",", "ops"}], "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.70529857866991*^9, 3.705298720124003*^9}, {
  3.705298769270371*^9, 3.7052988101008577`*^9}, {3.7053482171581287`*^9, 
  3.705348245758245*^9}, {3.705625517759615*^9, 3.7056255253521547`*^9}, {
  3.705630737644807*^9, 3.705630763614142*^9}, {3.705688655822641*^9, 
  3.705688677743258*^9}, {3.705695592157827*^9, 3.70569559775145*^9}, {
  3.706195450785441*^9, 
  3.706195450789423*^9}},ExpressionUUID->"1054ef38-cae0-410d-9653-\
96e8cb56d6c9"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteInstall\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702770818665803*^9, 3.702770821441188*^9}, {
  3.702772256172106*^9, 
  3.702772257928912*^9}},ExpressionUUID->"a9ab07eb-c968-460c-9cdb-\
3feea2c77dc3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteInstall", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "@", "PacletSiteURL"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInstall", "[", "site_String", "]"}], ":=", "\n", "\t", 
   RowBox[{"Which", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"DirectoryQ", "@", "site"}], ",", "\n", "\t\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"site", ",", "\"\<Installer.m\>\""}], "}"}]}]}], ",", "\n", 
       "\t\t\t\t", 
       RowBox[{"Get", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"site", ",", "\"\<Installer.m\>\""}], "}"}]}]}], ",", "\n", 
       "\t\t\t\t", 
       RowBox[{
        RowBox[{"PacletInstallerScript", "[", "site", "]"}], "//", 
        "ReleaseHold"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{"StringMatchQ", "[", 
      RowBox[{"site", ",", "\"\<file:*\>\""}], "]"}], ",", "\n", "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"f", "=", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"URLParse", "[", 
           RowBox[{"site", ",", "\"\<Path\>\""}], "]"}]}]}], "}"}], ",", "\n",
        "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"DirectoryQ", "@", "f"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"f", ",", "\"\<Installer.m\>\""}], "}"}]}]}], ",", "\n",
            "\t\t\t\t\t\t", 
           RowBox[{"Get", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"f", ",", "\"\<Installer.m\>\""}], "}"}]}]}], ",", "\n",
            "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"PacletInstallerScript", "[", "f", "]"}], "//", 
            "ReleaseHold"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
         "\t\t\t\t\t", "$Failed"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{"StringMatchQ", "[", 
      RowBox[{"site", ",", 
       RowBox[{"\"\<http:*\>\"", "|", "\"\<https:*\>\""}]}], "]"}], ",", "\n",
      "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"f", "=", 
         RowBox[{"URLBuild", "@", 
          RowBox[{"{", 
           RowBox[{"site", ",", "\"\<Installer.m\>\""}], "}"}]}]}], "}"}], 
       ",", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Between", "[", 
          RowBox[{
           RowBox[{"URLRead", "[", 
            RowBox[{"f", ",", "\"\<StatusCode\>\""}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"200", ",", "299"}], "}"}]}], "]"}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"CloudGet", "@", "f"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Quiet", "@", 
             RowBox[{"Get", "[", "f", "]"}]}], "===", "$Failed"}], ",", "\n", 
           "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"PacletInstallerScript", "[", "site", "]"}], "//", 
            "ReleaseHold"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
     "True", ",", "\n", "\t\t\t", "$Failed"}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteInstall", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletSiteInstall", "[", 
    RowBox[{"PacletSiteURL", "[", "ops", "]"}], "]"}]}], ";"}]}], "CodeInput",
 
 CellChangeTimes->{{3.70277082262638*^9, 3.702770998897305*^9}, {
   3.7027718127697144`*^9, 3.702771862424182*^9}, {3.7027721195997868`*^9, 
   3.7027721666235323`*^9}, {3.702772259855136*^9, 3.702772390268354*^9}, {
   3.7027724620043507`*^9, 3.7027725245291767`*^9}, 3.7027725617807837`*^9, {
   3.702772640149704*^9, 3.702772641479437*^9}, {3.7037680574372997`*^9, 
   3.70376808965289*^9}, {3.7037681273356867`*^9, 
   3.703768248084868*^9}},ExpressionUUID->"17370712-a0cc-4052-a5e5-\
17af3b5cc0ca"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteUninstall\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.702770818665803*^9, 3.702770821441188*^9}, {
   3.702772256172106*^9, 3.702772257928912*^9}, 
   3.7027725721744432`*^9},ExpressionUUID->"a8d27648-c646-4a93-9714-\
2d30240774ea"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteUninstall", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "@", "PacletSiteURL"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUninstall", "[", "site_String", "]"}], ":=", "\n", "\t", 
   RowBox[{"Which", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"DirectoryQ", "@", "site"}], ",", "\n", "\t\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"site", ",", "\"\<Uninstaller.m\>\""}], "}"}]}]}], ",", 
       "\n", "\t\t\t\t", 
       RowBox[{"Get", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"site", ",", "\"\<Uninstaller.m\>\""}], "}"}]}]}], ",", 
       "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"PacletUninstallerScript", "[", "site", "]"}], "//", 
        "ReleaseHold"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{"StringMatchQ", "[", 
      RowBox[{"site", ",", "\"\<file:*\>\""}], "]"}], ",", "\n", "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"f", "=", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"URLParse", "[", 
           RowBox[{"site", ",", "\"\<Path\>\""}], "]"}]}]}], "}"}], ",", "\n",
        "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"DirectoryQ", "@", "f"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"f", ",", "\"\<Uninstaller.m\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"Get", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"f", ",", "\"\<Uninstaller.m\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"PacletUninstallerScript", "[", "f", "]"}], "//", 
            "ReleaseHold"}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
         "\t\t\t\t\t", "$Failed"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
      "\t\t\t\t", "]"}], ",", "\n", "\t\t", 
     RowBox[{"StringMatchQ", "[", 
      RowBox[{"site", ",", 
       RowBox[{"\"\<http:*\>\"", "|", "\"\<https:*\>\""}]}], "]"}], ",", "\n",
      "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"f", "=", 
         RowBox[{"URLBuild", "@", 
          RowBox[{"{", 
           RowBox[{"site", ",", "\"\<Uninstaller.m\>\""}], "}"}]}]}], "}"}], 
       ",", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Quiet", "@", 
           RowBox[{"Get", "[", "f", "]"}]}], "===", "$Failed"}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"PacletUninstallerScript", "[", "site", "]"}], "//", 
          "ReleaseHold"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", 
      "]"}], ",", "\n", "\t\t", "True", ",", "\n", "\t\t\t", "$Failed"}], 
    "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUninstall", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletSiteUninstall", "@", 
    RowBox[{"PacletSiteURL", "[", "ops", "]"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.70277082262638*^9, 3.702770998897305*^9}, {
   3.7027718127697144`*^9, 3.702771862424182*^9}, {3.7027721195997868`*^9, 
   3.7027721666235323`*^9}, {3.702772259855136*^9, 3.702772390268354*^9}, {
   3.7027724620043507`*^9, 3.7027725245291767`*^9}, {3.702772568844499*^9, 
   3.702772598073017*^9}, 
   3.7027726477486143`*^9},ExpressionUUID->"88800c7f-ac11-4cb7-982c-\
947ad28a5ca0"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Upload\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703751949257901*^9, 
  3.703751950248218*^9}},ExpressionUUID->"5eb69fea-6239-47b5-9b15-\
737bbbffb1bb"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteUpload\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"37f80cdd-a732-4f87-b293-4d1d57a66d24"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletSiteUpload\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.720577740631531*^9},ExpressionUUID->"4790308c-8e19-4319-8bc2-\
a66afa277af7"],

Cell[BoxData[
 RowBox[{"pacletSiteUpload", "//", 
  "Clear"}]], \
"CodeInput",ExpressionUUID->"77701565-89c9-4229-bde7-5235d07aad7f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "pacletSiteUpload", "]"}], "=", "\n", "\t", 
   RowBox[{"Join", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Options", "[", "PacletSiteURL", "]"}], ",", 
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{"Permissions", "\[Rule]", "Automatic"}], "\n", "\t\t", "}"}]}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"pacletSiteUpload", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"CloudObject", "[", "site_", "]"}], ",", "\n", "\t", 
    RowBox[{"pacletMZ", ":", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",", 
    "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"res", "=", "\n", "\t\t", 
      RowBox[{"CopyFile", "[", "\n", "\t\t\t", 
       RowBox[{"pacletMZ", ",", "\n", "\t\t\t", 
        RowBox[{"CloudObject", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"URLBuild", "@", 
           RowBox[{"{", 
            RowBox[{"site", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], ",", 
          "\n", "\t\t\t\t", 
          RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t\t\t", 
           RowBox[{"pacletStandardServerPermissions", "@", 
            RowBox[{"OptionValue", "[", "Permissions", "]"}]}]}]}], "\n", 
         "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "}"}], 
    ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Take", "[", 
      RowBox[{"res", ",", " ", "1"}], "]"}], "/;", 
     RowBox[{"MatchQ", "[", 
      RowBox[{"res", ",", "_CloudObject"}], "]"}]}]}], "\n", "\t\t", 
   "]"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletSiteUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ",", 
     "\n", "\t", 
     RowBox[{"pacletMZ", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"CopyFile", "[", 
    RowBox[{"pacletMZ", ",", "\n", "\t\t", 
     RowBox[{"FileNameJoin", "@", 
      RowBox[{"{", 
       RowBox[{"dir", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], ",", "\n", 
     "\t\t", 
     RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletSiteUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"site", ":", 
      RowBox[{"(", 
       RowBox[{"_String", "|", "_URL"}], ")"}]}], ",", "\n", "\t", 
     RowBox[{"pacletMZ", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"URLParse", "[", 
       RowBox[{"site", ",", "\"\<Scheme\>\""}], "]"}], "===", 
      "\"\<file\>\""}], ",", "\n", "\t\t", 
     RowBox[{"pacletSiteUpload", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"URLParse", "[", 
         RowBox[{"site", ",", "\"\<Path\>\""}], "]"}], "//", "FileNameJoin"}],
        ",", "\n", "\t\t\t", "pacletMZ", ",", "\n", "\t\t\t", "ops"}], "]"}], 
     ",", "\n", "\t\t", 
     RowBox[{"pacletSiteUpload", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"CloudObject", "@", 
        RowBox[{"First", "@", 
         RowBox[{"Flatten", "[", 
          RowBox[{
           RowBox[{"URL", "@", "site"}], ",", "1", ",", "URL"}], "]"}]}]}], 
       ",", "\n", "\t\t\t", "pacletMZ", ",", "\n", "\t\t\t", "ops"}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"2a8b4257-a092-4734-ad25-cf4dca95dfa4"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletSiteUpload\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.720577740631531*^9, 
  3.72057774717374*^9}},ExpressionUUID->"38b0e06c-58bb-4ba7-a414-\
05a07aea5555"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletSiteUpload", "]"}], "=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "[", "pacletSiteUpload", "]"}], ",", "\n", "\t", 
      "\t\t", 
      RowBox[{"Options", "[", "PacletSiteBundle", "]"}]}], "\n", "\t\t\t", 
     "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUpload", "[", "\n", "\t", 
    RowBox[{"site_", ",", "\n", "\t", 
     RowBox[{"pacletMZ", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"FileExistsQ", "@", "#"}], "&&", 
          RowBox[{
           RowBox[{"FileExtension", "@", "#"}], "\[Equal]", "\"\<mz\>\""}]}], 
         "&"}], ")"}]}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"res", "=", "\n", "\t\t", 
       RowBox[{"pacletSiteUpload", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Replace", "[", 
          RowBox[{"site", ",", "\n", "\t\t\t\t", 
           RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t", 
            RowBox[{"PacletSiteURL", "@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FilterRules", "[", 
              RowBox[{
               RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"Options", "@", "PacletSiteURL"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}]}]}]}], "\n", "\t\t\t\t", "]"}], ",", 
         "\n", "\t\t\t", "pacletMZ", ",", "\n", "\t\t\t", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", 
           RowBox[{"Options", "@", "pacletSiteUpload"}]}], "]"}]}], "\n", 
        "\t\t\t", "]"}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"res", "/;", 
      RowBox[{"!", 
       RowBox[{"MatchQ", "[", 
        RowBox[{"res", ",", "_pacletSiteUpload"}], "]"}]}]}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"pacletMZ", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"FileExistsQ", "@", "#"}], "&&", 
          RowBox[{
           RowBox[{"FileExtension", "@", "#"}], "\[Equal]", "\"\<mz\>\""}]}], 
         "&"}], ")"}]}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{"site", "=", 
       RowBox[{"PacletSiteURL", "@", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", 
          RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}]}]}], "\n", 
      "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"res", "=", "\n", "\t\t\t", 
         RowBox[{"pacletSiteUpload", "[", 
          RowBox[{"site", ",", "pacletMZ", ",", "\n", "\t\t\t\t", 
           RowBox[{"FilterRules", "[", 
            RowBox[{
             RowBox[{"{", "ops", "}"}], ",", 
             RowBox[{"Options", "@", "pacletSiteUpload"}]}], "]"}]}], "\n", 
          "\t\t\t\t", "]"}]}], "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"res", "/;", 
        RowBox[{"!", 
         RowBox[{"MatchQ", "[", 
          RowBox[{"res", ",", "_pacletSiteUpload"}], "]"}]}]}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"site", ":", 
      RowBox[{"Except", "[", 
       RowBox[{
        RowBox[{"{", "}"}], ",", " ", 
        RowBox[{"_String", "|", 
         RowBox[{"_", "?", "OptionQ"}]}]}], "]"}]}], ",", "\n", "\t", 
     RowBox[{"infoFiles", ":", 
      RowBox[{"$PacletFilePatterns", "|", 
       RowBox[{"{", 
        RowBox[{"$PacletFilePatterns", "..."}], "}"}]}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"mz", "=", "\n", "\t\t", 
       RowBox[{"PacletSiteBundle", "[", "\n", "\t\t\t", 
        RowBox[{"infoFiles", ",", "\n", "\t\t\t", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", 
           RowBox[{"Options", "@", "PacletSiteBundle"}]}], "]"}]}], "\n", 
        "\t\t\t", "]"}]}], "\n", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"res", "=", "\n", "\t\t\t", 
         RowBox[{"PacletSiteUpload", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Replace", "[", 
            RowBox[{"site", ",", 
             RowBox[{"Automatic", "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{"Sequence", "@@", 
                RowBox[{"{", "}"}]}], ")"}]}]}], "]"}], ",", "\n", "\t", 
           "\t\t\t", "mz", ",", "\n", "\t\t\t\t", "ops"}], "\n", "\t\t\t\t", 
          "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t\t", 
       RowBox[{"res", "/;", 
        RowBox[{"!", 
         RowBox[{"MatchQ", "[", 
          RowBox[{"res", ",", "_PacletSiteUpload"}], "]"}]}]}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletSiteUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"site", ":", 
      RowBox[{"Except", "[", 
       RowBox[{
        RowBox[{"{", "}"}], ",", " ", 
        RowBox[{"_String", "|", 
         RowBox[{"_", "?", "OptionQ"}]}]}], "]"}]}], ",", "\n", "\t", 
     RowBox[{"PacletManager`PacletSite", "[", 
      RowBox[{"infoFiles", ":", 
       RowBox[{"$PacletFilePatterns", "..."}]}], "]"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"PacletSiteUpload", "[", 
    RowBox[{"site", ",", 
     RowBox[{"{", "infoFiles", "}"}], ",", "ops"}], "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.705690737729303*^9, 3.7056910046208897`*^9}, {
  3.705691041788376*^9, 3.705691101941897*^9}, {3.7056912402715273`*^9, 
  3.705691293061097*^9}, {3.705693115878824*^9, 3.705693286660568*^9}, {
  3.705693376317185*^9, 3.705693414918911*^9}, {3.706195299417529*^9, 
  3.706195368649789*^9}, {3.712808041376189*^9, 3.712808041393293*^9}, {
  3.720577695790904*^9, 3.720577721955456*^9}, {3.720577784655201*^9, 
  3.720577841282976*^9}, {3.720577880993424*^9, 3.720577887362027*^9}, {
  3.720578255634818*^9, 
  3.720578265447036*^9}},ExpressionUUID->"0d1da453-900a-49a4-bd17-\
b39bd1b9c9f0"]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletAPIUpload\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.704663406905427*^9, 3.704663408208989*^9}, {
  3.7047294906241302`*^9, 
  3.7047294965982323`*^9}},ExpressionUUID->"1ab349e9-81bc-4732-862e-\
a5e72bc21434"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$PacletAPIUploadAPIs", "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{
     "\"\<GoogleDrive\>\"", "|", "\"\<Google Drive\>\"", "|", 
      "\"\<googledrive\>\"", "|", "\"\<google drive\>\""}], "->", "\n", 
     "\t\t\t", "\"\<GoogleDrive\>\""}], "\n", "\t\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletAPIUploadAPIQ", "[", "s_String", "]"}], ":=", "\n", "\t", 
  RowBox[{"MatchQ", "[", 
   RowBox[{"PacletAPIUploadAPIQ", ",", 
    RowBox[{"Alternatives", "@@", 
     RowBox[{"Keys", "@", "$PacletAPIUploadAPIs"}]}]}], "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.704663460809868*^9, 3.704663542695606*^9}, {
  3.704663587277426*^9, 
  3.704663607498974*^9}},ExpressionUUID->"907ec8fe-ac8f-4cee-a7c7-\
067546f7855a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletAPIUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"pacletFile", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Not", "@", 
           RowBox[{"DirectoryQ", "@", "#"}]}], "&&", 
          RowBox[{
           RowBox[{"FileExtension", "[", "#", "]"}], "===", 
           "\"\<paclet\>\""}]}], "&"}], ")"}]}]}], ",", "\n", "\t", 
     RowBox[{"apiName_:", "\"\<GoogleDrive\>\""}]}], "\n", "\t", "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"api", "=", 
       RowBox[{"apiName", "/.", "$PacletAPIUploadAPIs"}]}], "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"pac", "=", 
         RowBox[{"pacletAPIUpload", "[", 
          RowBox[{"pacletFile", ",", "api"}], "]"}]}], "}"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"Replace", "[", 
         RowBox[{"pac", ",", "\n", "\t\t\t\t", 
          RowBox[{"url_String", ":>", "\n", "\t\t\t\t\t", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"PacletInfo", "[", "pacletFile", "]"}], "->", "url"}], 
            ")"}]}]}], "\n", "\t\t\t\t", "]"}], "/;", 
        RowBox[{"!", 
         RowBox[{"MatchQ", "[", 
          RowBox[{"pac", ",", "_pacletAPIUpload"}], "]"}]}]}]}], "\n", 
      "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.704663409488193*^9, 3.704663458595353*^9}, {
  3.704663535743999*^9, 3.70466354865993*^9}, {3.7046636091921463`*^9, 
  3.7046636947278023`*^9}, {3.7046688029180927`*^9, 3.7046688242911577`*^9}, {
  3.7046695287391853`*^9, 3.704669534640408*^9}, {3.7046698256562243`*^9, 
  3.704669827181457*^9}, {3.704669858650114*^9, 3.704669860919478*^9}, {
  3.70467003990329*^9, 3.7046700467280416`*^9}, {3.704670384622176*^9, 
  3.704670386079979*^9}},ExpressionUUID->"8718942a-421b-490e-9260-\
f00c75977457"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletAPIUpload", "[", 
   RowBox[{"pacletFile_", ",", "\"\<GoogleDrive\>\""}], "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fil", "=", 
      RowBox[{"GoogleDrive", "[", 
       RowBox[{"\"\<Upload\>\"", ",", "pacletFile"}], "]"}]}], "}"}], ",", 
    "\n", "\t\t", 
    RowBox[{
     RowBox[{"GoogleDrive", "[", 
      RowBox[{"\"\<Publish\>\"", ",", "fil"}], "]"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"Replace", "[", 
        RowBox[{
         RowBox[{"#", "[", "\"\<WebContentLink\>\"", "]"}], ",", 
         RowBox[{
          RowBox[{"URL", "[", "u_", "]"}], "\[RuleDelayed]", "u"}]}], "]"}], 
       "&"}], "@", "\n", "\t\t\t", 
      RowBox[{"GoogleDrive", "[", 
       RowBox[{"\"\<Info\>\"", ",", "fil", ",", 
        RowBox[{"{", 
         RowBox[{"\"\<name\>\"", ",", "\"\<webContentLink\>\""}], "}"}]}], 
       "]"}]}]}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.704663630195767*^9, 3.704663648280416*^9}, {
   3.704663700097271*^9, 3.70466371305507*^9}, {3.704663906719736*^9, 
   3.7046639086454487`*^9}, {3.704664767704112*^9, 3.704664793866068*^9}, {
   3.704664861440291*^9, 3.704664874312825*^9}, {3.704665198827045*^9, 
   3.704665204944874*^9}, 3.704669768727573*^9, {3.704679103364558*^9, 
   3.704679136310454*^9}, {3.7047292519146852`*^9, 
   3.704729254321651*^9}},ExpressionUUID->"0b810711-744c-4a77-ac86-\
a43e063056a2"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletUpload\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.700343595837702*^9, 3.700343624931553*^9}, 
   3.700350637461567*^9, {3.702673788082996*^9, 
   3.702673788409782*^9}},ExpressionUUID->"95373914-3c49-4476-9162-\
d6c06353b93f"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]URL Based Paclets\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7044144673634367`*^9, 
  3.704414471721238*^9}},ExpressionUUID->"e317d5f8-d78d-484e-9eba-\
491033e27065"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"urlBasedPacletQ", "[", "url_String", "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"data", "=", 
       RowBox[{"URLParse", "[", "url", "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"(", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"data", "[", "\"\<Domain\>\"", "]"}], "===", 
         "\"\<drive.google.com\>\""}], "\n", "\t\t\t", "&&", "\n", "\t\t\t", 
        RowBox[{"MemberQ", "[", 
         RowBox[{
          RowBox[{"data", "[", "\"\<Query\>\"", "]"}], ",", 
          RowBox[{"\"\<export\>\"", "\[Rule]", "\"\<download\>\""}]}], 
         "]"}]}], "\n", "\t\t\t", ")"}], "\n", "\t\t\t", "||", "\n", "\t\t\t", 
      RowBox[{"(", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"data", "[", "\"\<Scheme\>\"", "]"}], "=!=", "None"}], "&&", 
        "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"FileExtension", "@", 
          RowBox[{"Last", "@", 
           RowBox[{"data", "[", "\"\<Path\>\"", "]"}]}]}], "===", 
         "\"\<paclet\>\""}]}], "\n", "\t\t\t\t", ")"}]}]}], "\n", "\t\t", 
    "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.704414121276805*^9, 3.704414172179151*^9}, {
  3.704415090707913*^9, 3.704415095401246*^9}, {3.704665260549219*^9, 
  3.7046652875195436`*^9}, {3.704665416905398*^9, 3.704665424318509*^9}, {
  3.704665466438553*^9, 
  3.704665571787579*^9}},ExpressionUUID->"d7ab2d32-840a-4bf8-8310-\
d8e4b34ccd25"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"urlBasedPacletRedirect", "[", "site_", "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"URLParse", "[", 
      RowBox[{"site", ",", "\"\<Path\>\""}], "]"}], "[", 
     RowBox[{"[", 
      RowBox[{"-", "1"}], "]"}], "]"}], "->", 
    RowBox[{"HTTPRedirect", "[", "site", "]"}]}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.7044144857067337`*^9, 3.704414513331067*^9}, {
  3.704414669778428*^9, 3.704414779156831*^9}, {3.7044154663559628`*^9, 
  3.7044155191737213`*^9}, {3.704415786735466*^9, 3.70441579949284*^9}, {
  3.7044159500813293`*^9, 3.704415950254675*^9}, {3.7044166374678288`*^9, 
  3.704416639954809*^9}, {3.704662376731636*^9, 3.704662426309082*^9}, {
  3.704663403424032*^9, 
  3.704663403757291*^9}},ExpressionUUID->"0d2f8595-2dd8-4246-bb94-\
d45768a35ca3"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Built PacletFindBuiltFile\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.704414479169853*^9, 3.704414481081272*^9}, 
   3.720640296176086*^9, 
   3.734138552940875*^9},ExpressionUUID->"66e0b1a2-1556-4d57-a97a-\
c2a772fc6d4c"],

Cell[BoxData[
 RowBox[{"PacletFindBuiltFile", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.712974222726853*^9, 3.7129742234456177`*^9}, 
   3.734138548940398*^9},ExpressionUUID->"90ee7492-7551-46f2-b27a-\
1dea0de07dd0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletFindBuiltFile", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<UseCachedPaclets\>\"", "\[Rule]", "True"}], ",", "\n", 
     "\t\t", 
     RowBox[{"\"\<BuildPaclets\>\"", "\[Rule]", "True"}]}], "\n", "\t\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletFindBuiltFile", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"f", ":", 
      RowBox[{
      "_PacletManager`Paclet", "|", "_String", "|", "_URL", "|", "_File"}]}], 
     ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"With", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"useCached", "=", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "[", "\"\<UseCachedPaclets\>\"", "]"}]}]}], 
       ",", "\n", "\t", "\t\t", 
       RowBox[{"build", "=", 
        RowBox[{"TrueQ", "@", 
         RowBox[{"OptionValue", "@", "\"\<BuildPaclets\>\""}]}]}]}], "\n", 
      "\t", "\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{"Which", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"MatchQ", "[", 
        RowBox[{"f", ",", "_PacletManager`Paclet"}], "]"}], ",", "\n", 
       "\t\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{"We", "'"}], "re", " ", "handed", " ", "a", " ", "Paclet", 
         " ", "expression", " ", "so", " ", "we", " ", "confirm", " ", "that",
          " ", 
         RowBox[{"a", " ", ".", "paclet"}], " ", "file", " ", "exists", " ", 
         "for", " ", "it", " ", "or", " ", "build", " ", "it", " ", 
         "ourselves"}], " ", "*)"}], "\n", "\t\t\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", "\n", "\t\t\t\t\t", 
          RowBox[{"info", "=", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Lookup", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"PacletManager`PacletInformation", "@", "f"}], ",", "\n",
              "\t", "\t\t\t\t\t\t", 
             RowBox[{"{", 
              RowBox[{
              "\"\<Location\>\"", ",", "\"\<Name\>\"", ",", 
               "\"\<Version\>\""}], "}"}]}], "\n", "\t", "\t\t\t\t\t\t", 
            "]"}]}], "}"}], ",", "\n", "\t", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"useCached", "&&", 
            RowBox[{"FileExistsQ", "@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"info", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<.paclet\>\""}], 
              ")"}]}]}], ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"info", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<.paclet\>\""}], ",", 
           "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"PacletFindBuiltFile", "[", 
              RowBox[{
               RowBox[{"info", "[", 
                RowBox[{"[", 
                 RowBox[{"2", ";;", "3"}], "]"}], "]"}], ",", "ops"}], "]"}], 
             ",", "\n", "\t", "\t\t\t\t\t\t", 
             RowBox[{"None", ":>", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"DirectoryQ", "@", 
                 RowBox[{"info", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{"build", ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"PacletBundle", "[", 
                   RowBox[{"info", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", "\n", "\t", 
                  "\t\t\t\t\t\t\t\t\t", "True"}], "\n", "\t", 
                 "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                "\t\t\t\t\t\t\t\t", "None"}], "\n", "\t", "\t\t\t\t\t\t\t\t", 
               "]"}]}]}], "\n", "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
          "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{
        RowBox[{"MatchQ", "[", 
         RowBox[{"f", ",", " ", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"_File", "|", "_String"}], ")"}], "?", "DirectoryQ"}]}], 
         "]"}], "&&", "\n", "\t\t\t\t", 
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"f", ",", "\"\<PacletInfo.m\>\""}], "}"}]}], "]"}]}]}], 
       ",", "\n", "\t\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{"prep", " ", "non"}], "-", 
         RowBox[{"paclet", " ", "directories", " ", "for", " ", "packing"}]}],
         " ", "*)"}], "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{"build", ",", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"PacletInfoExpressionBundle", "[", 
           RowBox[{"Replace", "[", 
            RowBox[{"f", ",", 
             RowBox[{
              RowBox[{"File", "[", "s_", "]"}], "\[RuleDelayed]", "s"}]}], 
            "]"}], "]"}], ";", "\n", "\t\t\t\t\t", 
          RowBox[{"PacletFindBuiltFile", "[", 
           RowBox[{"f", ",", "ops"}], "]"}]}], ",", "\n", "\t\t\t\t\t", 
         "True"}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"MatchQ", "[", 
        RowBox[{"f", ",", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"_String", "|", "_URL"}], ")"}], "?", 
          "urlBasedPacletQ"}]}], "]"}], ",", "\n", "\t\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{"We", "'"}], "re", " ", "handed", " ", "a", " ", "URL", " ", 
         "so", " ", "we", " ", "just", " ", "return", " ", "that"}], " ", 
        "*)"}], "\n", "\t\t\t\t", 
       RowBox[{"First", "@", 
        RowBox[{"Flatten", "[", 
         RowBox[{
          RowBox[{"URL", "[", "f", "]"}], ",", "1", ",", "URL"}], "]"}]}], 
       ",", "\n", "\t", "\t\t", 
       RowBox[{"MatchQ", "[", 
        RowBox[{"f", ",", " ", 
         RowBox[{"_String", "?", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "@", 
              RowBox[{"PacletManager`PacletFind", "[", "#", "]"}]}], ">", 
             "0"}], "&"}], ")"}]}]}], "]"}], ",", "\n", "\t\t\t\t", 
       RowBox[{"(*", " ", 
        RowBox[{
        "found", " ", "a", " ", "paclet", " ", "to", " ", "pack", " ", "by", 
         " ", "name"}], " ", "*)"}], "\n", "\t\t\t\t", 
       RowBox[{"PacletFindBuiltFile", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"First", "@", 
          RowBox[{"PacletManager`PacletFind", "[", "f", "]"}]}], ",", "\n", 
         "\t", "\t\t\t\t", "ops"}], "\n", "\t", "\t\t\t\t", "]"}], ",", "\n", 
       "\t\t\t", 
       RowBox[{"MatchQ", "[", 
        RowBox[{"f", ",", " ", 
         RowBox[{"_File", "|", "_String", "|", "True", "|", "False"}]}], 
        "]"}], ",", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Replace", "[", 
         RowBox[{"{", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"File", "[", "fil_", "]"}], "\[RuleDelayed]", "fil"}], 
          "\n", "\t", "\t\t\t\t", "}"}], "]"}], "@", "\n", "\t", "\t\t\t\t", 
        RowBox[{"SelectFirst", "[", "\n", "\t", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"TrueQ", "@", 
               RowBox[{"DirectoryQ", "@", "f"}]}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"(*", " ", 
               RowBox[{"handed", " ", "a", " ", "directory"}], " ", "*)"}], 
              "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"TrueQ", "@", 
                 RowBox[{"FileExistsQ", "@", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{"f", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}]}], 
                ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                 "if", " ", "f", " ", "is", " ", "a", " ", "paclet", " ", 
                  "directory"}], " ", "*)"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"With", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"a", "=", 
                    RowBox[{"PacletInfoAssociation", "[", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"f", ",", "\"\<PacletInfo.m\>\""}], "}"}]}], 
                    "]"}]}], "}"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"(*", " ", 
                   RowBox[{
                   "check", " ", "again", " ", "for", " ", "the", " ", 
                    "paclet", " ", "file", " ", "by", " ", "version"}], 
                   "*)"}], "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", 
                   RowBox[{
                    RowBox[{"PacletFindBuiltFile", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"a", ",", 
                    RowBox[{"{", 
                    RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}],
                     "]"}], ",", "ops"}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "None", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    "build", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"(*", " ", 
                    RowBox[{"needs", " ", "to", " ", "be", " ", "built"}], 
                    " ", "*)"}], "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"PacletBundle", "[", "f", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "True"}], "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Except", "[", 
                    RowBox[{"_String", "|", "_File"}], "]"}], ":>", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "Nothing"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t\t\t\t\t",
                "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"(*", " ", 
               RowBox[{
               "Only", " ", "thing", " ", "left", " ", "it", " ", "could", 
                " ", "be", " ", "is", " ", "a", " ", "file"}], " ", "*)"}], 
              "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"fname", "=", 
                  RowBox[{
                   RowBox[{"StringTrim", "[", 
                    RowBox[{"f", ",", " ", 
                    RowBox[{"\"\<.\>\"", "<>", 
                    RowBox[{"FileExtension", "[", "f", "]"}]}]}], "]"}], 
                   "<>", "\"\<.paclet\>\""}]}], "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"(*", " ", 
                 RowBox[{
                 "If", " ", "its", " ", "paclet", " ", "file", " ", 
                  "exists"}], " ", "*)"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"FileExistsQ", "@", "fname"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "fname", ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"If", "[", 
                   RowBox[{"build", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"FileExistsQ", "@", "f"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"PacletBundle", "[", "f", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "None"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "True"}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t\t", 
               "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"TrueQ", "@", "useCached"}], ",", "\n", 
              "\t\t\t\t\t\t\t\t", 
              RowBox[{"(*", " ", 
               RowBox[{
               "Check", " ", "for", " ", "default", " ", "cached", " ", 
                "paclet"}], " ", "*)"}], "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                RowBox[{
                "$PacletBuildRoot", ",", "\n", "\t", "\t", "\t", "\t", "\t", 
                 "\t\t\t\t", "$PacletBuildExtension", ",", "\n", "\t", "\t", 
                 "\t", "\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"StringTrim", "[", 
                   RowBox[{"f", ",", 
                    RowBox[{"\"\<.\>\"", "<>", 
                    RowBox[{"FileExtension", "[", "f", "]"}]}]}], "]"}], 
                  "<>", "\"\<.paclet\>\""}]}], "\n", "\t", "\t\t\t\t\t\t\t\t",
                 "}"}]}], ",", "\n", "\t", "\t\t\t\t\t\t\t", "Nothing"}], 
             "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t\t", 
           "}"}], ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"TrueQ", "[", "#", "]"}], "||", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"MatchQ", "[", 
               RowBox[{"#", ",", " ", 
                RowBox[{"_File", "|", "_String"}]}], "]"}], "&&", 
              RowBox[{"FileExistsQ", "[", "#", "]"}]}], ")"}]}], "&"}], ",", 
          "\n", "\t\t\t\t\t\t", "None"}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", 
       "\n", "\t\t", "True", ",", "\n", "\t\t\t", "None"}], "\n", "\t\t\t", 
      "]"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletFindBuiltFile", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"f_String", ",", "v_String"}], "}"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"PacletFindBuiltFile", "[", 
    RowBox[{
     RowBox[{"f", "<>", "\"\<-\>\"", "<>", "v", "<>", "\"\<.paclet\>\""}], 
     ",", "ops"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletFindBuiltFile", "[", 
    RowBox[{
     RowBox[{"Rule", "[", 
      RowBox[{"s_", ",", "p_"}], "]"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Rule", "[", 
    RowBox[{"s", ",", 
     RowBox[{"PacletFindBuiltFile", "[", 
      RowBox[{"p", ",", "ops"}], "]"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletFindBuiltFile", "[", 
    RowBox[{"None", ",", "___"}], "]"}], ":=", "None"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"builtPacletFileQ", "[", 
    RowBox[{"spec_", ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"!", 
    RowBox[{"MatchQ", "[", 
     RowBox[{
      RowBox[{"PacletFindBuiltFile", "[", 
       RowBox[{"spec", ",", 
        RowBox[{"\"\<BuildPaclets\>\"", "\[Rule]", "False"}], ",", "ops"}], 
       "]"}], ",", 
      RowBox[{"None", "|", 
       RowBox[{"(", 
        RowBox[{"_", "->", "None"}], ")"}]}]}], "]"}]}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.703950014215193*^9, 3.703950075070212*^9}, {
   3.703950107513689*^9, 3.7039502531275187`*^9}, {3.703950407747175*^9, 
   3.703950409394073*^9}, {3.703950966181202*^9, 3.703951010457959*^9}, {
   3.704023751522531*^9, 3.70402398085417*^9}, {3.704024026220324*^9, 
   3.704024083506926*^9}, {3.704028093462707*^9, 3.7040281015866528`*^9}, {
   3.704028337719668*^9, 3.704028340565702*^9}, {3.704028412349813*^9, 
   3.7040284488043013`*^9}, {3.704028478959054*^9, 3.704028523939501*^9}, {
   3.70402961042649*^9, 3.704029644993986*^9}, {3.704414040929308*^9, 
   3.704414100916637*^9}, 3.7044141463088417`*^9, {3.704414197190217*^9, 
   3.704414202978806*^9}, {3.704415065992852*^9, 3.7044150729185963`*^9}, {
   3.704481055464431*^9, 3.704481187651052*^9}, {3.704481220328676*^9, 
   3.704481230177148*^9}, {3.704481305968698*^9, 3.704481350102358*^9}, {
   3.7046625642653723`*^9, 3.7046626029397573`*^9}, {3.704665439534807*^9, 
   3.704665443437203*^9}, {3.7046655991179543`*^9, 3.704665608555695*^9}, {
   3.704665796612569*^9, 3.704665892923473*^9}, {3.7046665292245092`*^9, 
   3.704666535085449*^9}, {3.704666577959323*^9, 3.704666592797162*^9}, {
   3.7046669467360907`*^9, 3.7046669607149363`*^9}, {3.705158407669526*^9, 
   3.7051584417203283`*^9}, {3.705158485263097*^9, 3.705158548459791*^9}, 
   3.7051591431812897`*^9, {3.7051595537092133`*^9, 3.70515955647367*^9}, {
   3.705159739503683*^9, 3.705159797610918*^9}, {3.7051609663788424`*^9, 
   3.7051610075695868`*^9}, {3.7051610748353443`*^9, 3.705161112550597*^9}, {
   3.7064573225022306`*^9, 3.706457338384529*^9}, {3.712974213772908*^9, 
   3.7129742204746513`*^9}, {3.712974252759243*^9, 3.712974410510119*^9}, {
   3.712974446288189*^9, 3.7129744660717287`*^9}, {3.712974525145728*^9, 
   3.712974632914981*^9}, {3.712974670346559*^9, 3.71297471105126*^9}, {
   3.712974775693202*^9, 3.712974835912263*^9}, {3.71297495332231*^9, 
   3.712974954241569*^9}, 3.712975006344969*^9, {3.712975092430174*^9, 
   3.712975166265997*^9}, {3.712975236230061*^9, 3.71297524632901*^9}, {
   3.712975337416026*^9, 3.712975482127902*^9}, {3.713115861504973*^9, 
   3.7131160490140057`*^9}, {3.713117854095392*^9, 3.713117863526229*^9}, {
   3.713128884939352*^9, 3.7131289351562023`*^9}, 3.713129330561036*^9, {
   3.713129517772574*^9, 3.7131295406824217`*^9}, 3.713129714161574*^9, {
   3.7205542755705757`*^9, 3.720554333063694*^9}, {3.7205543811239347`*^9, 
   3.720554390697044*^9}, {3.720554469126495*^9, 3.720554536481722*^9}, {
   3.720554586932439*^9, 3.720554640176705*^9}, {3.7206403038654613`*^9, 
   3.720640311039568*^9}, {3.720640385994444*^9, 3.720640436816701*^9}, {
   3.7206405033414087`*^9, 3.7206405247308493`*^9}, {3.720640573778327*^9, 
   3.720640594597438*^9}, {3.7206408780538683`*^9, 3.7206408806077423`*^9}, {
   3.7206409408174953`*^9, 3.720640967525436*^9}, {3.72064103149787*^9, 
   3.7206410544692574`*^9}, {3.720641558883605*^9, 3.720641598844493*^9}, {
   3.7206416757742157`*^9, 3.7206418311536303`*^9}, {3.720641879780792*^9, 
   3.7206419070766068`*^9}, 3.7278938924420223`*^9, {3.7341385489594917`*^9, 
   3.734138549058291*^9}},ExpressionUUID->"1d89d935-baa6-4697-af5c-\
3b21212b34fc"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletUploadPostProcess\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7044161097560987`*^9, 3.7044161106904173`*^9}, {
  3.704667209000149*^9, 3.7046672102385178`*^9}, {3.7205733246925793`*^9, 
  3.7205733260185413`*^9}},ExpressionUUID->"0745fada-9751-4d36-a236-\
85e6879b0aa9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pacletUploadPostProcess", "[", 
    RowBox[{
    "assoc_", ",", " ", "uploadInstallLink_", ",", " ", "site_", ",", " ", 
     "perms_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"Replace", "[", 
      RowBox[{"uploadInstallLink", ",", "\n", "\t", 
       RowBox[{"{", "\n", "\t\t", 
        RowBox[{
         RowBox[{"True", ":>", "\n", "\t\t\t", 
          RowBox[{"Append", "[", 
           RowBox[{"#", ",", "\n", "\t\t\t\t", 
            RowBox[{"\"\<PacletInstallLinks\>\"", "->", "\n", "\t\t\t\t\t", 
             RowBox[{"PacletInstallerLink", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"#", "[", "\"\<PacletFiles\>\"", "]"}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "@", 
                RowBox[{"{", 
                 RowBox[{"site", ",", "\"\<InstallerNotebook.nb\>\""}], 
                 "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"pacletStandardServerPermissions", "@", "perms"}]}]}],
               "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], 
         ",", "\n", "\t\t", 
         RowBox[{"s_String", ":>", "\n", "\t\t\t", 
          RowBox[{"Append", "[", 
           RowBox[{"#", ",", "\n", "\t\t\t\t", 
            RowBox[{"\"\<PacletInstallLinks\>\"", "->", "\n", "\t\t\t\t\t", 
             RowBox[{"PacletInstallerLink", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"#", "[", "\"\<PacletFiles\>\"", "]"}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"URLBuild", "@", 
                RowBox[{"{", 
                 RowBox[{"site", ",", "s"}], "}"}]}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"pacletStandardServerPermissions", "@", "perms"}]}]}],
               "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], 
         ",", "\n", "\t\t", 
         RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
          RowBox[{"Append", "[", 
           RowBox[{"#", ",", "\n", "\t\t\t\t", 
            RowBox[{"\"\<PacletInstallLinks\>\"", "->", "\n", "\t\t\t\t\t", 
             RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Function", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{
                "PacletInstallerLink", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"URLBuild", "@", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"site", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "StringReplace", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"URLParse", "[", 
                    RowBox[{"#", ",", "\"\<Path\>\""}], "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"-", "1"}], "]"}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"\"\<.paclet\>\"", "~~", "EndOfString"}], 
                    "\[Rule]", "\"\<.nb\>\""}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "}"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "Permissions", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "pacletStandardServerPermissions", "@", "perms"}]}]}], 
                 "\n", "\t\t\t\t\t\t\t\t", "]"}], "\n", "\t\t\t\t\t\t\t", 
                "]"}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"#", "[", "\"\<PacletFiles\>\"", "]"}]}], "\n", 
              "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n",
          "\t\t", 
         RowBox[{"_", "\[RuleDelayed]", "#"}]}], "\n", "\t\t", "}"}]}], "\n", 
      "\t\t", "]"}], "&"}], "@", "assoc"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletUploadPostProcess", "[", 
    RowBox[{"uploadInstallLink_", ",", " ", "site_", ",", " ", "perms_"}], 
    "]"}], "[", "assoc_", "]"}], ":=", "\n", "\t", 
  RowBox[{"pacletUploadPostProcess", "[", 
   RowBox[{
   "assoc", ",", " ", "uploadInstallLink", ",", " ", "site", ",", " ", 
    "perms"}], "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.720573232770465*^9, 3.720573302480874*^9}, {
  3.720573338971656*^9, 3.720573386855057*^9}, {3.727894722221822*^9, 
  3.727894725945386*^9}},ExpressionUUID->"143e8ed2-6532-4977-935f-\
8195c931a646"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletUploadBuildPacletFile\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7044161097560987`*^9, 3.7044161106904173`*^9}, {
   3.704667209000149*^9, 3.7046672102385178`*^9}, 
   3.7205736834795933`*^9},ExpressionUUID->"6db96fd7-7f65-4637-9531-\
28adabdb73cd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pacletUploadBuildPacletCloudObject", "[", 
    RowBox[{"url_", ",", " ", "perms_", ",", " ", "v_"}], "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"CloudObject", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"URLBuild", "@", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
       "url", ",", "\n", "\t\t\t", "\"\<Paclets\>\"", ",", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{"v", ",", "\n", "\t\t\t\t", 
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"Rule", "[", 
              RowBox[{"n_PacletManager`Paclet", ",", "_"}], "]"}], 
             "\[RuleDelayed]", "\n", "\t", "\t", "\t\t\t\t", 
             RowBox[{"StringJoin", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"Riffle", "[", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Lookup", "[", 
                 RowBox[{
                  RowBox[{"List", "@@", "n"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], 
                 "]"}], ",", "\n", "\t", "\t", "\t\t\t\t\t\t", 
                RowBox[{"{", 
                 RowBox[{"\"\<-\>\"", ",", "\"\<.paclet\>\""}], "}"}]}], "\n",
                "\t", "\t", "\t\t\t\t\t\t", "]"}]}]}], ",", "\n", "\t", "\t", 
            "\t\t\t", 
            RowBox[{
             RowBox[{"Rule", "[", 
              RowBox[{"n_String", ",", "_"}], "]"}], "\[RuleDelayed]", "\n", 
             "\t", "\t", "\t\t\t\t", "n"}], ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{
             RowBox[{"URL", "[", "u_", "]"}], ":>", "\n", "\t", "\t", 
             "\t\t\t\t", 
             RowBox[{
              RowBox[{"URLParse", "[", 
               RowBox[{"u", ",", "\"\<Path\>\""}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}]}], ",", "\n", "\t", "\t", 
            "\t\t\t", 
            RowBox[{
             RowBox[{"f", ":", 
              RowBox[{"_String", "|", "_File"}]}], ":>", "\n", "\t", "\t", 
             "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"FileExistsQ", "@", "f"}], ",", "\n", "\t", "\t", 
               "\t\t\t\t\t", 
               RowBox[{"FileNameTake", "@", "f"}], ",", "\n", "\t", "\t", 
               "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"f", ",", "\"\<Path\>\""}], "]"}], "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}]}], "\n", "\t", "\t", 
              "\t\t\t\t\t", "]"}]}], ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"_", "\[RuleDelayed]", "$Failed"}]}], "\n", "\t", "\t", 
           "\t\t\t", "}"}]}], "\n", "\t", "\t", "\t\t", "]"}]}], 
       "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t", "\n", "\t\t\t", "}"}]}], ",", "\n", 
     "\t\t", 
     RowBox[{"Permissions", "\[Rule]", "\n", "\t\t\t", 
      RowBox[{"pacletStandardServerPermissions", "@", "perms"}]}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletUploadBuildPacletCloudObject", "[", 
    RowBox[{"url_", ",", " ", "perms_"}], "]"}], "[", "v_", "]"}], ":=", "\n",
   "\t", 
  RowBox[{"pacletUploadBuildPacletCloudObject", "[", 
   RowBox[{"url", ",", " ", "perms", ",", " ", "v"}], "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7205734641462803`*^9, 3.720573517436198*^9}, {
  3.720574168708378*^9, 
  3.7205741725626097`*^9}},ExpressionUUID->"9d02adae-2486-46fc-a8e9-\
739e6bb1897e"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletUploadCloudObjectRouteExport\[RightFloor]", \
"CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7044161097560987`*^9, 3.7044161106904173`*^9}, {
  3.704667209000149*^9, 3.7046672102385178`*^9}, {3.7205736834795933`*^9, 
  3.7205736985291033`*^9}},ExpressionUUID->"7389d04f-4b20-4cc2-ab64-\
5349739fe155"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletUploadCloudObjectRouteExport", "[", 
   RowBox[{"url_", ",", " ", "perms_", ",", " ", "v_"}], "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t", 
     RowBox[{
      RowBox[{"co", "=", "\n", "\t\t\t", 
       RowBox[{"pacletUploadBuildPacletCloudObject", "[", 
        RowBox[{
        "url", ",", "\n", "\t\t\t\t", "perms", ",", "\n", "\t\t\t\t", "v"}], 
        "\n", "\t\t\t\t", "]"}]}], ",", "\n", "\t\t", 
      RowBox[{"fil", "=", "\n", "\t\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"v", ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"_", ",", "f_"}], "]"}], "\[RuleDelayed]", "f"}]}], "\n", 
        "\t", "\t\t\t", "]"}]}]}], "\n", "\t", "\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"Take", "[", 
       RowBox[{"#", ",", " ", "1"}], "]"}], "&"}], "@", "\n", "\t\t\t", 
     RowBox[{"If", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"Switch", "[", 
        RowBox[{"v", ",", "\n", "\t\t\t\t\t", 
         RowBox[{"_File", "|", "_String"}], ",", "\n", "\t\t\t\t\t\t", 
         RowBox[{"FileExistsQ", "@", "v"}], ",", "\n", "\t\t\t\t\t", "_URL", 
         ",", "\n", "\t", "\t\t\t\t\t", "False", ",", "\n", "\t", "\t\t\t\t", 
         "_Rule", ",", "\n", "\t", "\t\t\t\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"Last", "@", "v"}]}]}], "\n", "\t\t\t\t\t", "]"}], ",", 
       "\n", "\t\t\t\t", 
       RowBox[{"CopyFile", "[", "\n", "\t", "\t\t\t\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"MatchQ", "[", 
            RowBox[{"v", ",", "_Rule"}], "]"}], ",", 
           RowBox[{"Last", "@", "v"}], ",", "v"}], "]"}], ",", "\n", 
         "\t\t\t\t\t", "co"}], "]"}], ",", "\n", "\t", "\t\t\t", 
       RowBox[{"CloudDeploy", "[", "\n", "\t", "\t\t\t\t", 
        RowBox[{
         RowBox[{"HTTPRedirect", "@", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{"v", ",", "_Rule"}], "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
            
            RowBox[{"Last", "@", "v"}], ",", "\n", "\t\t\t\t\t\t\t", "v"}], 
           "]"}]}], ",", "\n", "\t\t\t\t\t", "co"}], "]"}]}], "\n", 
      "\t\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7205735816664057`*^9, 3.720573634391029*^9}, {
   3.7205737537940693`*^9, 3.7205737544967823`*^9}, 3.720573819597633*^9, {
   3.7205741324818983`*^9, 
   3.7205741608799543`*^9}},ExpressionUUID->"a7abf688-631d-40f2-8956-\
0b5e70ad9ca0"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletUpload\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.704667204577053*^9, 3.7046672061614733`*^9}, {
  3.720574128658474*^9, 
  3.7205741292964*^9}},ExpressionUUID->"05ddc36c-9fe5-4bcf-8b88-9193dc1d49f2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletUpload", "::", "nosite"}], "=", 
   "\"\<Site `` isn't a string\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "pacletUpload", "]"}], "=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t\t", 
    RowBox[{"Join", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"Options", "[", "PacletSiteURL", "]"}], ",", "\n", "\t\t\t", 
      RowBox[{"{", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<BuildRoot\>\"", "\[RuleDelayed]", "$PacletBuildRoot"}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{"\"\<SiteFile\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<OverwriteSiteFile\>\"", "\[Rule]", "False"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<UploadSiteFile\>\"", "\[Rule]", "False"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<UploadInstaller\>\"", "\[Rule]", "False"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<UploadInstallLink\>\"", "\[Rule]", "False"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<UploadUninstaller\>\"", "\[Rule]", "False"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"\"\<UseCachedPaclets\>\"", "\[Rule]", "True"}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"Permissions", "\[Rule]", "Automatic"}]}], "\n", "\t\t\t\t", 
       "}"}]}], "\n", "\t\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"pacletSpecs", ":", "$PacletUploadPatterns"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{
    RowBox[{"PackageExceptionBlock", "[", "\"\<PacletTools\>\"", "]"}], "@", 
    "\n", "\t", 
    RowBox[{
     RowBox[{"DeleteCases", "[", "Nothing", "]"}], "@", "\n", "\t", 
     RowBox[{"Module", "[", "\n", "\t\t", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"bPFFOps", "=", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", " ", 
            RowBox[{"Options", "[", "PacletFindBuiltFile", "]"}]}], "]"}]}], 
         ",", "\n", "\t\t\t", "base", ",", "\n", "\t\t\t", "site", ",", "\n", 
         "\t\t\t", "pacletFiles", ",", "\n", "\t\t\t", "pacletMZ"}], "\n", 
        "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{
        RowBox[{"base", "=", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"StringQ", "[", "#", "]"}], "&&", 
              RowBox[{"MatchQ", "[", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"#", ",", " ", "\"\<Scheme\>\""}], "]"}], ",", " ", 
                RowBox[{"\"\<http\>\"", "|", "\"\<https\>\""}]}], "]"}]}], 
             ",", "\n", "\t\t\t\t", 
             RowBox[{"Quiet", "@", "\n", "\t\t\t\t\t", 
              RowBox[{"Check", "[", 
               RowBox[{
                RowBox[{"CloudObject", "@", "#"}], ",", " ", "#"}], "]"}]}], 
             ",", "\n", "\t\t\t\t", "#"}], "\n", "\t\t\t\t", "]"}], "&"}], 
          "@", "\n", "\t\t\t\t", 
          RowBox[{"pacletStandardServerBase", "@", 
           RowBox[{"OptionValue", "[", "\"\<ServerBase\>\"", "]"}]}]}]}], ";",
         "\n", "\t\t", 
        RowBox[{"site", "=", "\n", "\t\t\t", 
         RowBox[{"PacletSiteURL", "[", "\n", "\t\t\t\t", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"{", "\n", "\t\t\t\t\t", "ops", "\n", "\t\t\t\t\t", "}"}],
             ",", "\n", "\t\t\t\t\t", 
            RowBox[{"Options", "@", "PacletSiteURL"}]}], "\n", "\t\t\t\t\t", 
           "]"}], "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
        RowBox[{"pacletFiles", "=", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"PacletFindBuiltFile", "[", 
            RowBox[{"#", ",", "bPFFOps"}], "]"}], "&"}], "/@", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "pacletSpecs", "}"}]}]}]}], ";", "\n", "\t\t", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"MatchQ", "[", 
           RowBox[{"site", ",", 
            RowBox[{"Except", "[", "_String", "]"}]}], "]"}], ",", "\n", 
          "\t\t\t", 
          RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t", 
           RowBox[{"Automatic", ",", "\n", "\t\t\t\t", 
            RowBox[{"PacletUpload", "::", "nosite"}], ",", "\n", "\t\t\t\t", 
            "site"}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ";", 
        "\n", "\t\t", 
        RowBox[{"pacletMZ", "=", "\n", "\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"OptionValue", "[", "\"\<UploadSiteFile\>\"", "]"}], "//",
             "TrueQ"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"OptionValue", "[", "\"\<SiteFile\>\"", "]"}], ",", "\n",
              "\t", "\t\t\t\t", 
             RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t", 
              RowBox[{"PacletSiteBundle", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Replace", "[", 
                 RowBox[{"pacletFiles", ",", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"k_", "\[Rule]", "_"}], ")"}], "\[RuleDelayed]", 
                   "k"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<MergePacletInfo\>\"", "->", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "OptionValue", "[", "\"\<OverwriteSiteFile\>\"", "]"}], "//",
                     "TrueQ"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "None", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "site"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Options", "@", "PacletSiteBundle"}]}], "\n", "\t", 
                 "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}],
             "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}], ";", 
        "\n", "\t\t", 
        RowBox[{"Switch", "[", 
         RowBox[{"base", ",", "\n", "\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", 
               RowBox[{"--", 
                RowBox[{"--", 
                 RowBox[{"--", 
                  RowBox[{"--", 
                   RowBox[{"--", 
                    RowBox[{"--", 
                    RowBox[{"-", " ", "Wolfram"}]}]}]}]}]}]}]}]}]}], " ", 
            "Cloud", " ", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Paclets", " ", "--"}], "--"}], "--"}], "--"}], 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", 
               RowBox[{"--", 
                RowBox[{"--", "-"}]}]}]}]}]}], " ", "*)"}], "\n", "\t\t\t", 
          RowBox[{
          "\"\<Cloud\>\"", "|", "CloudObject", "|", "CloudDirectory", "|", 
           "Automatic", "|", "_CloudObject", "|", "_CloudDirectory"}], ",", 
          "\n", "\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"url", "=", "site"}], "}"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"pacletUploadPostProcess", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<UploadInstallLink\>\"", "]"}],
                ",", "\n", "\t\t\t\t\t\t", "site", ",", " ", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"OptionValue", "[", "\"\<Permissions\>\"", "]"}]}], 
              "\n", "\t\t\t\t\t\t", "]"}], "@", "\n", "\t\t\t\t\t", 
             RowBox[{"<|", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"\"\<PacletSiteFile\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                   "OptionValue", "[", "\"\<UploadSiteFile\>\"", "]"}], "//", 
                   "TrueQ"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{"PacletSiteUpload", "[", 
                    RowBox[{
                    RowBox[{"CloudObject", "@", "site"}], ",", "pacletMZ", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", 
                    RowBox[{"Options", "@", "PacletSiteUpload"}]}], "]"}]}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_PacletSiteUpload", "\[Rule]", "$Failed"}]}], 
                   "\n", "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"\"\<PacletFiles\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"pacletUploadCloudObjectRouteExport", "[", 
                    RowBox[{"url", ",", " ", 
                    RowBox[{"OptionValue", "[", "Permissions", "]"}], ",", 
                    " ", "#"}], "]"}], "&"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                  "pacletFiles"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
              "\t\t\t\t\t\t", "|>"}]}]}], "\t", "\n", "\t\t\t\t\t", "]"}], 
          ",", "\n", "\t\t\t", 
          RowBox[{"(*", " ", 
           RowBox[{
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", 
               RowBox[{"--", 
                RowBox[{"--", 
                 RowBox[{"--", 
                  RowBox[{"--", 
                   RowBox[{"--", 
                    RowBox[{"--", 
                    RowBox[{"-", " ", "Local"}]}]}]}]}]}]}]}]}]}], " ", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Paclets", " ", "--"}], "--"}], "--"}], "--"}], 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", 
               RowBox[{"--", 
                RowBox[{"--", "-"}]}]}]}]}]}], " ", "*)"}], "\n", "\t\t\t", 
          RowBox[{"_String", "?", 
           RowBox[{"(", 
            RowBox[{"StringMatchQ", "[", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"$RootDirectory", ",", "\"\<*\>\""}], "}"}]}], "]"}], 
            ")"}]}], ",", "\n", "\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"dir", "=", 
              RowBox[{"URLDecode", "@", 
               RowBox[{"StringTrim", "[", 
                RowBox[{"site", ",", "\"\<file://\>\""}], "]"}]}]}], "}"}], 
            ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"Not", "@", 
                RowBox[{"DirectoryQ", "@", "dir"}]}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"CreateDirectory", "[", 
                RowBox[{"dir", ",", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                 "CreateIntermediateDirectories", "\[Rule]", "True"}]}], "\n",
                 "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}], ";", 
             "\n", "\t\t\t\t\t", 
             RowBox[{"<|", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"\"\<PacletSite\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"MatchQ", "[", 
                   RowBox[{"pacletMZ", ",", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"_String", "|", "_File"}], ")"}], "?", 
                    "FileExistsQ"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"CopyFile", "[", 
                   RowBox[{"pacletMZ", ",", "\n", "\t", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<PacletSite.mz\>\""}], "}"}]}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t",
                   "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"\"\<PacletFiles\>\"", "->", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Quiet", "@", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"CreateFile", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<Paclets\>\"", ",", 
                    RowBox[{"FileNameTake", "@", "#"}]}], "}"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ";", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"CopyFile", "[", 
                    RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dir", ",", "\"\<Paclets\>\"", ",", 
                    RowBox[{"FileNameTake", "@", "#"}]}], "}"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", ")"}], "&"}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t", "pacletFiles"}], "\n", 
                 "\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t", 
              "|>"}]}]}], "\t", "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
          "\t\t\t", 
          RowBox[{"_", "?", "SyncPathQ"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"p", "=", 
              RowBox[{"SyncPath", "@", "base"}]}], "}"}], ",", "\n", 
            "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Quiet", "@", 
              RowBox[{"CreateDirectory", "[", 
               RowBox[{"p", ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                "CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
               "]"}]}], ";", "\n", "\t\t\t\t\t", 
             RowBox[{"PacletUpload", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{"pacletFiles", ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"\"\<ServerBase\>\"", "\[Rule]", "p"}], ",", "\n", 
               "\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n",
            "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t", "_", ",", "\n", 
          "\t\t\t\t", 
          RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t\t", 
           RowBox[{"Automatic", ",", "\n", "\t\t\t\t\t", 
            RowBox[{"PacletUpload", "::", "nobby"}], ",", "\n", "\t\t\t\t\t", 
            "base"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", 
         "]"}]}]}], "\n", "\t\t", "]"}]}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"37031b1f-2d40-42d5-a94b-1615067f71b4"]\

}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Upload  Wrapper\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7044161097560987`*^9, 3.7044161106904173`*^9}, {
  3.704667209000149*^9, 
  3.7046672102385178`*^9}},ExpressionUUID->"a6ec5624-c860-4c6f-810c-\
5d82e6f5a0a8"],

Cell[BoxData[
 RowBox[{"PacletUpload", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.720641971248341*^9, 
  3.720641971917213*^9}},ExpressionUUID->"83bd4ca3-addb-49e7-b2aa-\
03fe65cb6a28"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletUpload", "]"}], "=", "\n", "\t", 
   RowBox[{"Options", "[", "pacletUpload", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletUpload", "::", "nobby"}], "=", 
  "\"\<Unkown site base ``\>\""}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletUpload", "::", "nopac"}], "=", 
   "\"\<Unable to find paclet files ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletUpload", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"pacletSpecs", ":", "$PacletUploadPatterns"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{
    RowBox[{"PackageExceptionBlock", "[", "\"\<PacletTools\>\"", "]"}], "@", 
    "\n", "\t", 
    RowBox[{"Block", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"$PacletBuildRoot", "=", 
         RowBox[{"OptionValue", "[", "\"\<BuildRoot\>\"", "]"}]}], ",", "\n", 
        "\t", "\t\t", 
        RowBox[{"bPFFOps", "=", 
         RowBox[{"FilterRules", "[", 
          RowBox[{
           RowBox[{"{", "ops", "}"}], ",", 
           RowBox[{"Options", "[", "PacletFindBuiltFile", "]"}]}], "]"}]}], 
        ",", "\n", "\t", "\t\t", "files"}], "\n", "\t", "\t\t", "}"}], ",", 
      "\n", "\t\t", 
      RowBox[{
       RowBox[{"files", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"PacletFindBuiltFile", "[", 
           RowBox[{"#", ",", "bPFFOps"}], "]"}], "&"}], "/@", 
         RowBox[{"Flatten", "[", 
          RowBox[{
           RowBox[{"{", "pacletSpecs", "}"}], ",", " ", "1"}], "]"}]}]}], ";",
        "\n", "\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"files", ",", "builtPacletFileQ"}], "]"}]}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t", 
          RowBox[{"Automatic", ",", "\n", "\t\t\t\t", 
           RowBox[{"PacletUpload", "::", "nopac"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"Pick", "[", 
            RowBox[{
             RowBox[{"Flatten", "@", 
              RowBox[{"{", "pacletSpecs", "}"}]}], ",", 
             RowBox[{
              RowBox[{"MatchQ", "[", 
               RowBox[{"None", "|", 
                RowBox[{"(", 
                 RowBox[{"_", "->", "None"}], ")"}]}], "]"}], "/@", 
              "files"}]}], "]"}]}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t",
         "]"}], ";", "\n", "\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"AllTrue", "[", 
          RowBox[{"files", ",", " ", "builtPacletFileQ"}], "]"}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"pacletUpload", "[", 
          RowBox[{"pacletSpecs", ",", "ops"}], "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"PackageRaiseException", "[", 
          RowBox[{
          "Automatic", ",", "\n", "\t\t\t\t", 
           "\"\<files `` aren't all built paclets\>\"", ",", "\n", "\t\t\t\t",
            "files"}], "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}]}], 
     "\n", "\t\t", "]"}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"f31d221d-b94c-4b04-bd87-3c6d6731ab90"]\

}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Remove\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705684958754991*^9, 
  3.705684959673134*^9}},ExpressionUUID->"6250277b-cefe-4264-86a9-\
38606557ce2f"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletRemove\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.705686240587442*^9, 
  3.70568624387499*^9}},ExpressionUUID->"fb4c1ee5-94b0-4322-8cbd-\
1689453cd816"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server_", ",", "siteExpr_", ",", 
     RowBox[{"{", 
      RowBox[{"name_", ",", "version_"}], "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{"file", "=", "\n", "\t\t\t", 
       RowBox[{"StringReplace", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"URLBuild", "@", 
          RowBox[{"{", 
           RowBox[{"server", ",", "\"\<Paclets\>\"", ",", 
            RowBox[{
            "name", "<>", "\"\<-\>\"", "<>", "version", "<>", 
             "\"\<.paclet\>\""}]}], "}"}]}], ",", 
         RowBox[{"{", "\n", "\t", "\t", "\t\t", 
          RowBox[{
           RowBox[{"\"\<file://\>\"", "->", "\"\<file://\>\""}], ",", "\n", 
           "\t", "\t", "\t\t", 
           RowBox[{"\"\<file:\>\"", "\[Rule]", "\"\<file://\>\""}]}], "\n", 
          "\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t", "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"URLParse", "[", 
          RowBox[{"file", ",", "\"\<Scheme\>\""}], "]"}], "===", 
         "\"\<file\>\""}], ",", "\n", "\t\t\t", 
        RowBox[{"Quiet", "[", 
         RowBox[{
          RowBox[{"DeleteFile", "@", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"URLParse", "[", 
             RowBox[{"file", ",", "\"\<Path\>\""}], "]"}]}]}], ",", 
          RowBox[{"DeleteFile", "::", "nffil"}]}], "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"Quiet", "[", 
         RowBox[{
          RowBox[{"DeleteFile", "@", 
           RowBox[{"CloudObject", "[", "file", "]"}]}], ",", 
          RowBox[{"DeleteFile", "::", "nffil"}]}], "]"}]}], "\n", "\t\t\t", 
       "]"}], ";", "\n", "\t\t", 
      RowBox[{"Select", "[", 
       RowBox[{"siteExpr", ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Transpose", "@", 
             RowBox[{"{", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Lookup", "[", 
                RowBox[{
                 RowBox[{"List", "@@", "#"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], 
                "]"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"{", 
                RowBox[{"name", ",", "version"}], "}"}]}], "\n", "\t\t\t\t\t",
               "}"}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"StringMatchQ", "[", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}]}], "\n", 
           "\t\t\t\t", "]"}]}], "&"}]}], "\n", "\t\t\t", "]"}]}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server_", ",", "siteExpr_", ",", 
     RowBox[{"fileExt_String", "?", 
      RowBox[{"(", 
       RowBox[{"StringEndsQ", "[", "\"\<.paclet\>\"", "]"}], ")"}]}]}], "]"}],
    ":=", "\n", "\t", 
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server", ",", "siteExpr", ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"ReplacePart", "[", 
        RowBox[{"#", ",", 
         RowBox[{
          RowBox[{"-", "1"}], "\[Rule]", 
          RowBox[{"StringTrim", "[", 
           RowBox[{
            RowBox[{"Last", "@", "#"}], ",", "\"\<.paclet\>\""}], "]"}]}]}], 
        "]"}], "&"}], "@", "\n", "\t\t\t", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"fileExt", ",", "\"\<-\>\""}], "]"}]}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server_", ",", "siteExpr_", ",", "pacName_String"}], "]"}], ":=",
    "\n", "\t", 
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server", ",", "siteExpr", ",", "\n", "\t\t", 
     RowBox[{"Select", "[", 
      RowBox[{"siteExpr", ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"Lookup", "[", 
           RowBox[{
            RowBox[{"List", "@@", "#"}], ",", "\"\<Name\>\""}], "]"}], ",", 
          "pacName"}], "]"}], "&"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server_", ",", "siteExpr_", ",", "pac_PacletManager`Paclet"}], 
    "]"}], ":=", "\n", "\t", 
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server", ",", "siteExpr", ",", "\n", "\t\t", 
     RowBox[{"Lookup", "[", 
      RowBox[{
       RowBox[{"List", "@@", "pac"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<Name\>\"", ",", "\"\<Version\>\""}], "}"}]}], "]"}]}], 
    "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"pacletRemove", "[", 
    RowBox[{"server_", ",", "siteExpr_", ",", "pacSpecs_List"}], "]"}], ":=", 
   "\n", "\t", 
   RowBox[{"Fold", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"pacletRemove", "[", 
         RowBox[{"server", ",", "#", ",", "#2"}], "]"}], ",", "\n", "\t\t\t", 
        
        RowBox[{"_pacletRemove", "\[Rule]", "#"}]}], "\n", "\t\t\t", "]"}], 
      "&"}], ",", "\n", "\t\t", "siteExpr", ",", "\n", "\t\t", "pacSpecs"}], 
    "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"pacletRemove", "[", 
   RowBox[{"server_", ",", "siteExpr_", ",", 
    RowBox[{"PacletManager`PacletSite", "[", "pacSpecs___", "]"}]}], "]"}], ":=",
   "\n", "\t", 
  RowBox[{"pacletRemove", "[", 
   RowBox[{"server", ",", "siteExpr", ",", 
    RowBox[{"{", "pacSpecs", "}"}]}], "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.705686248012823*^9, 3.7056865114392138`*^9}, {
   3.7056871443438377`*^9, 3.705687152998392*^9}, {3.705687184425267*^9, 
   3.705687550185627*^9}, {3.705691837949922*^9, 3.705691893190954*^9}, {
   3.705691930370537*^9, 3.70569196358335*^9}, {3.7056923738870487`*^9, 
   3.705692426857827*^9}, 3.7056929820385847`*^9, {3.705693014205544*^9, 
   3.7056930327234793`*^9}},ExpressionUUID->"7ac3befc-e78f-4e57-bbf9-\
cfc98017d7c1"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletRemove\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{
  3.705684961310833*^9},ExpressionUUID->"86f8ffc3-b832-4f39-b868-\
deb58c291d72"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$PacletRemoveSpec", ":=", "\n", "\t", 
   RowBox[{"PacletExecuteSettingsLookup", "[", "\n", "\t\t", 
    RowBox[{"\"\<RemovePattern\>\"", ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"_String", ",", "_String"}], "}"}], "|", 
      "PacletManager`Paclet", "|", "_String"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{"$PacletRemovePatterns", ":=", "\n", "\t", 
  RowBox[{"$PacletRemoveSpec", "|", 
   RowBox[{"{", 
    RowBox[{"$PacletRemoveSpec", ".."}], "}"}]}]}]}], "CodeInput",
 CellChangeTimes->{{3.7056875622096367`*^9, 3.705687583677895*^9}, {
  3.712792492599874*^9, 3.712792526346219*^9}, {3.728935715460083*^9, 
  3.72893573735322*^9}},ExpressionUUID->"4cf4af58-b727-44cc-b8d2-\
85efc4677763"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletRemove", "]"}], "=", "\n", "\t", 
   RowBox[{
    RowBox[{"DeleteDuplicatesBy", "[", "First", "]"}], "@", "\n", "\t", 
    RowBox[{"Join", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Options", "[", "PacletSiteURL", "]"}], ",", "\n", "\t\t", 
      RowBox[{"Options", "[", "PacletSiteUpload", "]"}], ",", "\n", "\t\t", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{"\"\<OverwriteSiteFile\>\"", "\[Rule]", "True"}], "\n", 
       "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletRemove", "[", 
   RowBox[{
    RowBox[{"pacSpecs", ":", "$PacletRemovePatterns"}], ",", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"site", "=", 
      RowBox[{"PacletSiteURL", "[", 
       RowBox[{"FilterRules", "[", 
        RowBox[{
         RowBox[{"{", "ops", "}"}], ",", 
         RowBox[{"Options", "@", "PacletSiteURL"}]}], "]"}], "]"}]}], "}"}], 
    ",", "\n", "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"res", "=", "\n", "\t\t\t", 
        RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"pacletRemove", "[", "\n", "\t\t\t\t\t", 
           RowBox[{"site", ",", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"PacletSiteInfo", "[", "site", "]"}], ",", "\n", 
            "\t\t\t\t\t", "pacSpecs"}], "\n", "\t\t\t\t\t", "]"}], ",", 
          RowBox[{"{", "\n", "\t", "\t\t\t", 
           RowBox[{
            RowBox[{"p_PacletManager`PacletSite", "?", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<OverwriteSiteFile\>\"", "]"}],
                "&"}], ")"}]}], ":>", "\n", "\t", "\t\t\t\t", 
            RowBox[{"PacletSiteUpload", "[", 
             RowBox[{
             "site", ",", "\n", "\t\t\t\t\t\t", "p", ",", "\n", 
              "\t\t\t\t\t\t", 
              RowBox[{"FilterRules", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"ops", ",", "\n", "\t\t\t\t\t\t\t\t", 
                  RowBox[{"\"\<MergePacletInfo\>\"", "\[Rule]", "False"}]}], 
                 "\n", "\t\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"Options", "@", "PacletSiteUpload"}]}], "\n", 
               "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n",
            "\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", 
      "\t\t\t", 
      RowBox[{"res", "/;", 
       RowBox[{"!", 
        RowBox[{"MatchQ", "[", 
         RowBox[{"res", ",", "_pacletRemove"}], "]"}]}]}]}], "\n", "\t\t\t", 
     "]"}]}], "\n", "\t\t", "]"}]}]}], "CodeInput",
 CellChangeTimes->{{3.7056849630929937`*^9, 3.705684965785043*^9}, {
   3.705686142137731*^9, 3.7056862330035553`*^9}, {3.7056874052337713`*^9, 
   3.7056874057694273`*^9}, {3.7056875876166487`*^9, 3.705687637411491*^9}, {
   3.705687857979578*^9, 3.7056879231545343`*^9}, {3.705691798078904*^9, 
   3.7056918052492313`*^9}, {3.705691997072976*^9, 3.7056920267820272`*^9}, {
   3.705692320676682*^9, 3.705692345816812*^9}, {3.706195412831791*^9, 
   3.706195424399262*^9}, 3.71279252880125*^9, {3.720577521480651*^9, 
   3.720577527998982*^9}, {3.720577570991989*^9, 3.720577572799735*^9}, {
   3.720577946965478*^9, 3.720578027671731*^9}, {3.720578295549258*^9, 
   3.720578352330866*^9}},ExpressionUUID->"96b46283-0f0d-4385-85e0-\
2e40fe55a137"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Install\[RightFloor]", "CodeSubsection",
 Evaluatable->True,ExpressionUUID->"9f8ecfa7-5ab9-4ccb-b688-c3fc2b1d3e97"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "$PackageDependenciesFile", "=", "\n", "\t", "\"\<DependencyInfo.m\>\""}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.703605685463502*^9, 
  3.7036056978349524`*^9}},ExpressionUUID->"5c6d9452-32a3-4100-bc77-\
b0b039b758d9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "nopac"}], "=", 
   "\"\<Couldn't find paclet at ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "howdo"}], "=", 
   "\"\<Unsure how to pack a paclet from file type ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "laywha"}], "=", 
   "\"\<Couldn't detect package layout from directory ``\>\""}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "dumcode"}], "=", 
   "\"\<Couldn't generate PacletInfo.m for directory ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "badbun"}], "=", 
   "\"\<Not a real directory ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "badgh"}], "=", 
   "\"\<Couldn't download paclet at `` from GitHub\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "::", "norem"}], "=", 
   "\"\<Couldn't find remote paclet `` on server\>\""}], 
  ";"}]}], "CodeInput",ExpressionUUID->"f3b742de-ec47-46c2-b5c2-0008f8e5a428"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]installPacletGenerate\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"3856652d-f1c0-4e09-bc8b-b09a6244b808"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "installPacletGenerate", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{"\"\<Verbose\>\"", "\[Rule]", "False"}], "\n", "\t", "}"}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.703596882451902*^9, 3.703596909310603*^9}, 
   3.703596963629928*^9, {3.703596994206448*^9, 3.70359705828927*^9}, {
   3.703597199232031*^9, 3.7035973214615498`*^9}, {3.703597358388389*^9, 
   3.703597363425683*^9}, {3.703597408818859*^9, 3.703597536252705*^9}, {
   3.703597582467514*^9, 3.7035976933652153`*^9}, {3.703597729799712*^9, 
   3.703597883708735*^9}, {3.7036012003231287`*^9, 3.703601250853359*^9}, {
   3.703601286088584*^9, 3.70360137370816*^9}, 3.7036019760029173`*^9, {
   3.703602074739292*^9, 3.703602082164765*^9}, {3.7036057162743473`*^9, 
   3.703605717681321*^9}, {3.703605755103426*^9, 3.703605775056489*^9}, {
   3.7036094169313393`*^9, 3.7036094250224047`*^9}, {3.7036095179463367`*^9, 
   3.703609518263874*^9}, {3.703761511923973*^9, 3.7037615577086887`*^9}, {
   3.703762138591441*^9, 3.703762139885727*^9}, {3.7037648079831543`*^9, 
   3.7037648318290863`*^9}, {3.703765994785977*^9, 3.703766116005128*^9}, 
   3.704053666030692*^9, 
   3.704451039015747*^9},ExpressionUUID->"cec334b6-ef9e-4fd6-a540-\
bf7a4563d838"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Directory\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.704451045193815*^9, 
  3.704451046857308*^9}},ExpressionUUID->"11343126-c86e-4628-97a2-\
942a8420af23"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"installPacletGenerate", "[", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ",", 
     
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"bundleDir", "=", "dir"}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], ",", "\n", "\t", 
        "\t\t", 
        RowBox[{"DisplayTemporary", "@", "\n", "\t\t\t\t", 
         RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"TemplateApply", "[", 
           RowBox[{"\"\<Bundling paclet for ``\>\"", ",", "dir"}], "]"}], 
          "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}], ";", "\n", 
      "\t\t", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", " ", "Extract"}]}]}]}]}]}], " ", "Archive", " ", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Files", " ", "--"}], "--"}], "--"}], "--"}], "--"}], 
           "--"}], "--"}]}], "-"}], " ", "*)"}], "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"FileExistsQ", "@", "#"}], ",", 
          RowBox[{"Quiet", "@", 
           RowBox[{"ExtractArchive", "[", 
            RowBox[{"#", ",", "dir"}], "]"}]}]}], "]"}], "&"}], "/@", "\n", 
       "\t\t\t", 
       RowBox[{"Map", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "@", "dir"}], "<>", "#"}]}], "}"}]}], 
          "&"}], ",", "\n", "\t\t\t\t", 
         RowBox[{"{", 
          RowBox[{"\"\<.zip\>\"", ",", "\"\<.gz\>\""}], "}"}]}], "\n", 
        "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", " ", "Detect"}]}]}]}]}]}], " ", "Paclet", " ", 
        RowBox[{"Layout", " ", "--"}], 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", "-"}]}]}]}]}]}]}], " ", "*)"}], "\n", "\t\t", 
      RowBox[{"Which", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", "\n",
         "\t\t\t\t", 
        RowBox[{"bundleDir", "=", "dir"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
              "\"\<.m\>\""}]}], "}"}]}]}], "||", "\n", "\t\t\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
              "\"\<.wl\>\""}]}], "}"}]}]}], "||", "\n", "\t\t\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", "\"\<Kernel\>\"", ",", 
             RowBox[{"\"\<init\>\"", "<>", "\"\<.m\>\""}]}], "}"}]}]}], "||", 
         "\n", "\t\t\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", "\"\<Kernel\>\"", ",", 
             RowBox[{"\"\<init\>\"", "<>", "\"\<.wl\>\""}]}], "}"}]}]}]}], 
        ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"bundleDir", "=", "dir"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"PacletInfoExpressionBundle", "[", "bundleDir", "]"}]}], ",",
         "\n", "\t\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}], ",", 
            "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"bundleDir", "=", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}]}], "}"}]}]}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}], ",", 
            RowBox[{
             RowBox[{"FileBaseName", "@", "dir"}], "<>", "\"\<.m\>\""}]}], 
           "}"}]}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"bundleDir", "=", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{"FileBaseName", "@", "dir"}]}], "}"}]}]}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"PacletInfoExpressionBundle", "[", "bundleDir", "]"}]}], ",",
         "\n", "\t\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{
             RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
             "\"\<.nb\>\""}]}], "}"}]}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Export", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dir", ",", 
               RowBox[{
                RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
                "\"\<.m\>\""}]}], "}"}]}], ";", "\n", "\t\t\t\t\t", 
            "\"\<(*Open package notebook*)\nCreateDocument[\n\tImport@\n\t\t\
StringReplace[$InputFileName,\\\".m\\\"->\\\".nb\\\"]\n\t]\>\""}], ",", "\n", 
           "\t\t\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t\t\t", "]"}], ";", 
         "\n", "\t\t\t\t", 
         RowBox[{"bundleDir", "=", "dir"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"PacletInfoExpressionBundle", "[", "bundleDir", "]"}]}], ",",
         "\n", "\t\t\t", "_", ",", "\n", "\t\t\t\t", 
        RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"Automatic", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"PacletInstallPaclet", "::", "laywha"}], ",", "\n", 
          "\t\t\t\t\t", "bundleDir"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
       "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"Which", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"DirectoryQ", "@", "bundleDir"}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"Automatic", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"PacletInstallPaclet", "::", "badbun"}], ",", "\n", 
          "\t\t\t\t\t", "bundleDir"}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"bundleDir", ",", " ", "\"\<PacletInfo.m\>\""}], 
            "}"}]}]}]}], ",", "\n", "\t\t\t\t", 
        RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t\t", 
         RowBox[{"Automatic", ",", "\n", "\t\t\t\t\t", 
          RowBox[{"PacletInstallPaclet", "::", "dumcode"}], ",", "\n", 
          "\t\t\t\t\t", "bundleDir"}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t", "True", ",", "\n", "\t\t\t\t", 
        RowBox[{"PacletBundle", "[", "bundleDir", "]"}]}], "\n", "\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"2d0407ff-6749-430f-b941-af373e03ec6b"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]File\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.704451045193815*^9, 
  3.704451054057048*^9}},ExpressionUUID->"0169c8a6-4725-4aa6-8178-\
81726e76ce36"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"installPacletGenerate", "[", 
    RowBox[{
     RowBox[{"file", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Switch", "[", 
    RowBox[{
     RowBox[{"FileExtension", "[", "file", "]"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ",", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], ",", "\n", 
        "\t\t\t\t", 
        RowBox[{"DisplayTemporary", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"Internal`LoadingPanel", "[", "\n", "\t", "\t\t\t\t\t", 
          RowBox[{"TemplateApply", "[", 
           RowBox[{"\"\<Bundling paclet for ``\>\"", ",", "file"}], "]"}], 
          "\n", "\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t", "]"}], ";", 
      "\n", "\t\t\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dir", "=", "\n", "\t", "\t\t\t", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", "\n", "\t", "\t\t\t\t", 
            RowBox[{"$TemporaryDirectory", ",", "\n", "\t", "\t\t\t\t", 
             RowBox[{"FileBaseName", "@", "file"}]}], "\n", "\t", "\t\t\t\t", 
            "}"}]}]}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"!", 
            RowBox[{"DirectoryQ", "@", "dir"}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"CreateDirectory", "[", "dir", "]"}]}], "\n", "\t\t\t\t\t",
           "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t", 
              RowBox[{
               RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
               "\t\t\t\t\t\t", "$PackageDependenciesFile"}], "\n", 
              "\t\t\t\t\t\t", "}"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"CopyFile", "[", "\n", "\t", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
                "\t\t\t\t\t\t\t", "$PackageDependenciesFile"}], "\n", 
               "\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
               "dir", ",", "\n", "\t\t\t\t\t\t\t", 
                "$PackageDependenciesFile"}], "\n", "\t\t\t\t\t\t\t", 
               "}"}]}]}], "\t", "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
          "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", "\n", "\t", "\t", "\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t", 
              RowBox[{
               RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
               "\t\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], "\n", "\t\t\t\t\t\t",
               "}"}]}]}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"CopyFile", "[", "\n", "\t", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
                "\t\t\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], "\n", 
               "\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
               "dir", ",", "\n", "\t\t\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], 
               "\n", "\t\t\t\t\t\t\t", "}"}]}]}], "\t", "\n", "\t\t\t\t\t\t", 
            "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"CopyFile", "[", 
          RowBox[{"file", ",", "\n", "\t", "\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"dir", ",", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"FileNameTake", "@", "file"}]}], "\n", "\t", 
             "\t\t\t\t\t", "}"}]}], ",", "\n", "\t", "\t\t\t\t", 
           RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", 
          "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"PacletInfoExpressionBundle", "[", 
          RowBox[{"dir", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"\"\<Name\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t", 
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"Except", "[", 
                RowBox[{"WordCharacter", "|", "\"\<$\>\""}], "]"}], 
               "\[Rule]", "\"\<\>\""}]}], "]"}]}]}], "\n", "\t\t\t\t\t\t\t", 
          "]"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"PacletBundle", "[", 
          RowBox[{"dir", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"\"\<BuildRoot\>\"", "\[Rule]", "$TemporaryDirectory"}]}], 
          "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", "\n",
      "\t\t", "\"\<nb\>\"", ",", "\n", "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t\t\t\t", 
           RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t\t", 
            RowBox[{"StringJoin", "@", 
             RowBox[{"RandomSample", "[", 
              RowBox[{
               RowBox[{"Alphabet", "[", "]"}], ",", "10"}], "]"}]}], ",", 
            "\n", "\t\t\t\t\t", 
            RowBox[{"FileBaseName", "@", "file"}]}], "\n", "\t\t\t\t\t", 
           "}"}]}]}], "\n", "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"Quiet", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"DeleteDirectory", "[", 
           RowBox[{"dir", ",", 
            RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], ";", "\n",
           "\t\t\t\t\t", 
          RowBox[{"CreateDirectory", "[", 
           RowBox[{"dir", ",", 
            RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
           "]"}]}], "\n", "\t\t\t\t\t", "]"}], ";", "\n", "\t\t\t\t", 
        RowBox[{"CopyFile", "[", 
         RowBox[{"file", ",", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{"FileNameTake", "@", "file"}]}], "}"}]}]}], "]"}], ";", 
        "\n", "\t\t\t\t", 
        RowBox[{"installPacletGenerate", "[", "dir", "]"}]}]}], "\n", 
      "\t\t\t\t", "]"}], ",", "\n", "\t\t", "\"\<paclet\>\"", ",", "\n", 
     "\t\t\t", "file", ",", "\n", "\t\t", "_", ",", "\n", "\t\t\t", 
     RowBox[{"PackageRaiseException", "[", "\n", "\t\t\t\t", 
      RowBox[{
      "Automatic", ",", "\n", "\t\t\t\t", 
       "\"\<Don't know how to build a paclet for file type ``\>\"", ",", "\n",
        "\t\t\t\t", 
       RowBox[{"FileExtension", "@", "file"}]}], "\n", "\t\t\t\t", "]"}]}], 
    "\n", "\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"40bf45a2-0e4a-49f7-bf9f-7c291de018ff"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]gitPacletPull\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.7035961456249523`*^9, 3.703596153527396*^9}, 
   3.7035996135640783`*^9, 3.703599681187086*^9, {3.703754773337569*^9, 
   3.703754774078949*^9}},ExpressionUUID->"307acfff-5ad0-49c0-935b-\
c7ee843cbdd3"],

Cell[BoxData[
 RowBox[{"gitPacletPull", "//", "Clear"}]], "CodeInput",
 CellChangeTimes->{{3.70376200433486*^9, 
  3.703762005460475*^9}},ExpressionUUID->"2dcea321-6f76-4102-a73e-\
ffe906be4d69"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"gitPacletPull", "[", 
    RowBox[{"loc", ":", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_File", "|", "_URL"}], ")"}], "?", 
      "GitHubPathQ"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"GitHub", "[", 
      RowBox[{"\"\<Clone\>\"", ",", " ", "loc", ",", " ", 
       RowBox[{"OverwriteTarget", "->", "True"}]}], "]"}], ",", "\n", "\t\t", 
     
     RowBox[{"{", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"File", "[", "f_", "]"}], "\[RuleDelayed]", "f"}], "\n", 
      "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"gitPacletPull", "[", 
    RowBox[{"loc", ":", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"_String", "|", "_File", "|", "_URL"}], ")"}], "?", 
      RowBox[{"(", 
       RowBox[{"Not", "@*", "GitHubPathQ"}], ")"}]}]}], "]"}], ":=", "\n", 
   "\t", 
   RowBox[{"Git", "[", 
    RowBox[{"\"\<Clone\>\"", ",", " ", "loc", ",", " ", 
     RowBox[{"OverwriteTarget", "->", "True"}]}], "]"}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"a8498419-bc93-4cf5-abee-6a0c08de8076"]\

}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]wolframLibraryPull\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.70376451939939*^9, 
  3.7037645297433167`*^9}},ExpressionUUID->"ffdc0b62-5da1-4722-a19b-\
947da38e7ef1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wolframLibraryPull", "[", 
   RowBox[{"loc", ":", 
    RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fileURLs", "=", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"URLBuild", "@", "\n", "\t\t\t", 
         RowBox[{"Merge", "[", 
          RowBox[{
           RowBox[{"{", "\n", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"URLParse", "[", "loc", "]"}], ",", "\n", "\t", 
             "\t\t\t\t", 
             RowBox[{"URLParse", "[", "#", "]"}]}], "\n", "\t", "\t", "\t", 
            "\t\t", "}"}], ",", "\n", "\t", "\t", "\t", "\t", 
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"DeleteCases", "[", 
               RowBox[{"#", ",", "None"}], "]"}], ",", 
              RowBox[{"{", "\n", "\t", "\t", "\t", "\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", "s_", "}"}], "\[RuleDelayed]", "s"}], ",", "\n",
                 "\t", "\t", "\t", "\t\t\t", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"___", ",", "l_"}], "}"}], "\[RuleDelayed]", "l"}], 
                ",", "\n", "\t", "\t", "\t", "\t\t\t", 
                RowBox[{
                 RowBox[{"{", "}"}], "\[Rule]", "None"}]}], "\n", "\t", "\t", 
               "\t", "\t\t\t", "}"}]}], "]"}], "&"}]}], "\n", "\t", "\t", 
          "\t", "\t", "]"}]}], "&"}], "/@", "\n", "\t\t\t", 
       RowBox[{"Cases", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"Import", "[", 
          RowBox[{"loc", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<HTML\>\"", ",", "\"\<XMLObject\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"XMLElement", "[", 
           RowBox[{"\"\<a\>\"", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{"___", ",", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"\"\<href\>\"", "\[Rule]", "link_"}], ",", "\n", "\t", 
              "\t", "\t", "\t\t\t", "___"}], "}"}], ",", "\n", "\t", "\t", 
            "\t", "\t\t", 
            RowBox[{"{", 
             RowBox[{"___", ",", "\n", "\t", "\t\t\t\t\t", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<img\>\"", ",", "\n", "\t", "\t\t\t\t\t\t", 
                RowBox[{"{", 
                 RowBox[{"___", ",", 
                  RowBox[{
                  "\"\<src\>\"", "\[Rule]", 
                   "\"\</images/database/download-icon.gif\>\""}], ",", 
                  "___"}], "}"}], ",", "\n", "\t", "\t\t\t\t\t\t", "_"}], 
               "]"}], ",", "\n", "\t", "\t\t\t\t\t", "___"}], "}"}]}], "\n", 
           "\t", "\t\t\t\t", "]"}], "\[RuleDelayed]", "link"}], ",", "\n", 
         "\t\t\t\t", "\[Infinity]"}], "\n", "\t\t\t\t", "]"}]}]}], "\n", 
     "\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"name", "=", "\n", "\t\t\t", 
        RowBox[{"FileBaseName", "@", "\n", "\t\t\t\t", 
         RowBox[{"First", "@", "\n", "\t", "\t\t\t\t", 
          RowBox[{
           RowBox[{"SortBy", "[", "\n", "\t", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Switch", "[", 
              RowBox[{
               RowBox[{"FileExtension", "[", "#", "]"}], ",", "\n", "\t", 
               "\t", "\t\t\t\t\t", "\"\<paclet\>\"", ",", "\n", "\t", "\t", 
               "\t\t\t\t\t\t", "0", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{"\"\<zip\>\"", "|", "\"\<gz\>\""}], ",", "\n", "\t", 
               "\t", "\t\t\t\t\t\t", "1", ",", "\n", "\t", "\t", "\t\t\t\t\t", 
               RowBox[{"\"\<wl\>\"", "|", "\"\<m\>\""}], ",", "\n", "\t", 
               "\t", "\t\t\t\t\t\t", "2", ",", "\n", "\t", "\t", "\t\t\t\t\t",
                "_", ",", "\n", "\t\t\t\t\t\t\t\t", "3"}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], "&"}], "\n", "\t\t\t\t\t\t", "]"}], 
           "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"URLParse", "[", 
               RowBox[{"#", ",", "\"\<Path\>\""}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "&"}], "/@", "fileURLs"}], 
           "]"}]}]}]}], "\n", "\t\t\t\t", "}"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Quiet", "@", "\n", "\t\t\t\t", 
        RowBox[{"DeleteDirectory", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "\n", "\t\t\t\t\t",
          "]"}]}], ";", "\n", "\t\t\t", 
       RowBox[{"CreateDirectory", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}], ";", "\n", 
       "\t\t\t", 
       RowBox[{"MapThread", "[", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"RenameFile", "[", "\n", "\t\t\t\t\t", 
           RowBox[{"#", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"$TemporaryDirectory", ",", "name", ",", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"#2", ",", "\"\<Path\>\""}], "]"}], "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}]}], "}"}]}]}], "\n", 
           "\t\t\t\t\t", "]"}], "&"}], ",", 
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"URLDownload", "[", 
            RowBox[{"fileURLs", ",", "\n", "\t", "\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}], "]"}],
            ",", "\n", "\t\t\t\t", "fileURLs"}], "\n", "\t\t\t\t", "}"}]}], 
        "]"}], ";", "\n", "\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}]}], "\n", 
     "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.703764531655398*^9, 3.703764535752149*^9}, {
   3.703764603502018*^9, 3.703764618673449*^9}, {3.703765344935837*^9, 
   3.7037656330831003`*^9}, {3.703765698979162*^9, 3.703765764531156*^9}, {
   3.703765804278425*^9, 3.703765881593234*^9}, {3.703765930100587*^9, 
   3.703765948953369*^9}, {3.703766430827086*^9, 3.7037664459621153`*^9}, 
   3.7037664816764708`*^9, {3.7037665201374063`*^9, 3.703766523272334*^9}, 
   3.7037665696119556`*^9, {3.703766699598633*^9, 3.703766709741173*^9}, {
   3.7037667442328176`*^9, 3.703766780324774*^9}, {3.7037669636283693`*^9, 
   3.703767034427094*^9}, {3.703767072850956*^9, 
   3.703767082584444*^9}},ExpressionUUID->"8380934a-83bc-45de-9583-\
be2c21be1151"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]downloadURLIfExists\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703604404614912*^9, 3.703604407485958*^9}, 
   3.7036052489502363`*^9},ExpressionUUID->"c72a1145-dd5e-4c71-b58f-\
455f738726e0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"downloadURLIfExists", "[", 
   RowBox[{"urlBase_", ",", 
    RowBox[{"{", "files__", "}"}], ",", "dir_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"MatchQ", "[", 
        RowBox[{"0", "|", "200"}], "]"}], "@", "\n", "\t", "\t\t", 
       RowBox[{"URLSave", "[", "\n", "\t", "\t\t\t", 
        RowBox[{
         RowBox[{"URLBuild", "@", 
          RowBox[{"{", 
           RowBox[{"urlBase", ",", "#"}], "}"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t", "\t", "\t\t\t", 
           RowBox[{"dir", ",", "\n", "\t", "\t", "\t\t\t", "#"}], "\n", "\t", 
           "\t", "\t\t\t", "}"}]}], ",", "\n", "\t", "\t", "\t\t", 
         "\"\<StatusCode\>\""}], "\n", "\t", "\t\t\t", "]"}]}], ",", "\n", 
      "\t\t", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"dir", ",", "\n", "\t\t\t", "#"}], "\n", "\t\t\t", "}"}]}], 
      ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"Quiet", "@", "\n", "\t\t\t", 
        RowBox[{"DeleteFile", "@", "\n", "\t\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t", "\t\t\t\t", 
           RowBox[{"dir", ",", "\n", "\t\t\t\t\t", "#"}], "\n", "\t\t\t\t\t", 
           "}"}]}]}]}], ";", "\n", "\t\t", "Nothing"}]}], "\n", "\t\t", "]"}],
     "&"}], "/@", 
   RowBox[{"{", "files", "}"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.703604474512422*^9, 3.703604533541312*^9}, {
   3.703604590595153*^9, 3.703604623579116*^9}, {3.703604716113121*^9, 
   3.703604906079907*^9}, {3.7036050306407557`*^9, 3.703605084180829*^9}, {
   3.703605125991049*^9, 3.703605250636724*^9}, 
   3.7037666379439697`*^9},ExpressionUUID->"54dbd848-2ca1-4edb-9a6c-\
a1d395796c60"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]pacletSiteDownload\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"652f7c7e-aafb-4740-a85b-7867a4bb7217"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "pacletDownloadFromSite", "]"}], "=", "\n", "\t", 
   RowBox[{"Append", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Options", "[", "PacletManager`PacletFindRemote", "]"}], ",", 
     "\n", "\t\t", 
     RowBox[{"\"\<Site\>\"", "\[Rule]", "None"}]}], "\n", "\t\t", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"pacletDownloadFromSite", "[", "\n", "\t", 
   RowBox[{"paclet_", ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Block", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{"pfrData", ",", "\n", "\t\t\t", 
      RowBox[{"fromSite", "=", 
       RowBox[{"OptionValue", "[", "\"\<Site\>\"", "]"}]}], ",", "\n", 
      "\t\t\t", "newSiteQ", ",", "\n", "\t\t\t", "pacToLoad", ",", "\n", 
      "\t\t\t", "pacFile", ",", "\n", "\t\t\t", "targetFile"}], "\n", 
     "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Internal`WithLocalSettings", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"StringQ", "@", "fromSite"}], ",", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"newSiteQ", "=", "\n", "\t\t\t\t\t", 
          RowBox[{"!", 
           RowBox[{"MemberQ", "[", 
            RowBox[{
             RowBox[{"PacletManager`PacletSites", "[", "]"}], ",", " ", 
             RowBox[{"PacletManager`PacletSite", "[", 
              RowBox[{"fromSite", ",", "__"}], "]"}]}], "]"}]}]}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{"newSiteQ", ",", " ", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"PacletManager`PacletSiteAdd", "@", "fromSite"}], ";", 
            "\n", "\t\t\t\t\t", 
            RowBox[{"PacletManager`PacletSiteUpdate", "@", "fromSite"}], 
            ";"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}], 
      ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"pfrData", "=", "\n", "\t\t\t\t", 
        RowBox[{"PacletManager`PacletFindRemote", "[", 
         RowBox[{"paclet", ",", " ", "\n", "\t", "\t\t\t\t", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", " ", 
            RowBox[{"Options", "@", "PacletManager`PacletFindRemote"}]}], 
           "]"}]}], "\n", "\t", "\t\t\t\t", "]"}]}], ";", "\n", "\t", "\t\t", 
       
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "@", "pfrData"}], "==", "0"}], ",", "\n", "\t", 
         "\t\t\t", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"PacletDownloadPaclet", "::", "norem"}], ",", " ", 
            "paclet"}], "]"}], ";", "\n", "\t", "\t\t\t", "$Failed"}], ",", 
         "\n", "\t", "\t\t\t", 
         RowBox[{
          RowBox[{"pacToLoad", "=", 
           RowBox[{"pfrData", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", "\t\t\t\t", 
          RowBox[{"targetFile", "=", "\n", "\t\t\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t\t", 
             RowBox[{"$TemporaryDirectory", ",", " ", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"pacToLoad", "[", "\"\<Name\>\"", "]"}], "<>", 
               "\"\<-\>\"", "<>", 
               RowBox[{"pacToLoad", "[", "\"\<Version\>\"", "]"}], "<>", 
               "\"\<.paclet\>\""}]}], "\n", "\t\t\t\t\t\t", "}"}]}]}], ";", 
          "\n", "\t\t\t\t", 
          RowBox[{"pacFile", "=", "\n", "\t\t\t\t\t", 
           RowBox[{"URLDownload", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"URLBuild", "@", "\n", "\t", "\t", "\t\t\t\t\t", 
              RowBox[{"{", "\n", "\t", "\t", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"pacToLoad", "[", "\"\<Location\>\"", "]"}], ",", " ",
                 "\n", "\t", "\t", "\t\t\t\t\t\t", "\"\<Paclets\>\"", ",", 
                " ", "\n", "\t\t\t\t\t\t\t\t", 
                RowBox[{"FileNameTake", "[", "targetFile", "]"}]}], "\n", 
               "\t\t\t\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t\t\t", 
             "targetFile"}], "\n", "\t\t\t\t\t\t", "]"}]}], ";", "\n", 
          "\t\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t", 
           RowBox[{"pacFile", ",", "\n", "\t", "\t\t\t\t", 
            RowBox[{
             RowBox[{"File", "[", "p_", "]"}], "\[RuleDelayed]", "p"}]}], 
           "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", "]"}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"If", "[", 
       RowBox[{"newSiteQ", ",", " ", "\n", "\t\t\t\t", 
        RowBox[{
         RowBox[{"PacletManager`PacletSiteRemove", "@", "fromSite"}], ";"}]}],
        "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", 
   "]"}]}]}], \
"CodeInput",ExpressionUUID->"47b38855-5e80-4782-89c5-c89ac1e85dd0"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletDownloadPaclet\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"f623e357-05e9-4714-849e-6b27f3c7d9f6"],

Cell[BoxData[
 RowBox[{"PacletDownloadPaclet", "//", 
  "Clear"}]], \
"CodeInput",ExpressionUUID->"ae45f3e4-f6ed-49f4-84e5-8783a48224bc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Options", "[", "PacletDownloadPaclet", "]"}], "=", "\n", "\t", 
  RowBox[{"Join", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"\"\<Verbose\>\"", "\[Rule]", "True"}], ",", "\n", "\t", "\t\t", 
      RowBox[{"\"\<Log\>\"", "\[Rule]", "True"}]}], "\n", "\t\t\t", "}"}], 
    ",", "\n", "\t\t", 
    RowBox[{"Options", "[", "pacletDownloadFromSite", "]"}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"0c07317e-baf0-4021-9fb6-c7895121483c"],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Server\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"2d9650e6-8cfb-46b2-beb8-27391727b879"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"pacletDownloadVersionPattern", "=", "\n", "\t", 
   RowBox[{"DigitCharacter", "~~", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"DigitCharacter", "|", "\"\<.\>\""}], ")"}], "..."}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"pacletDownloadNamePattern", "=", "\n", "\t", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}], "~~", "\n", 
    "\t\t", 
    RowBox[{"(", 
     RowBox[{"\"\<\>\"", "|", 
      RowBox[{"(", 
       RowBox[{"\"\<-\>\"", "~~", "pacletDownloadVersionPattern"}], ")"}]}], 
     ")"}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"7a42937c-86db-475c-b967-4814b2e4bd4f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PacletDownloadPaclet", "[", "\n", "\t", 
   RowBox[{
    RowBox[{"pacletName", ":", "\n", "\t\t", 
     RowBox[{
      RowBox[{"_String", "?", 
       RowBox[{"(", 
        RowBox[{"StringMatchQ", "[", "pacletDownloadNamePattern", "]"}], 
        ")"}]}], "|", "\n", "\t\t", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{"StringMatchQ", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}], 
           "]"}], ")"}]}], ",", " ", "\n", "\t\t\t", 
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{"StringMatchQ", "[", "pacletDownloadVersionPattern", "]"}], 
          ")"}]}]}], "\n", "\t\t\t", "}"}]}]}], ",", "\n", "\t", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"With", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"pname", "=", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ListQ", "@", "pacletName"}], ",", " ", 
         RowBox[{"pacletName", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", " ", "\n", "\t", "\t", 
         "\t\t\t", 
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{"pacletName", ",", " ", "\"\<-\>\""}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], "\n", "\t\t\t\t\t", "]"}]}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"pvers", "=", "\n", "\t\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ListQ", "@", "pacletName"}], ",", " ", "\n", "\t\t\t\t\t", 
         RowBox[{"pacletName", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", " ", "\n", "\t\t\t\t\t", 
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"StringSplit", "[", 
            RowBox[{"pacletName", ",", " ", "\"\<-\>\""}], "]"}], ",", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"{", 
               RowBox[{"_", ",", " ", "v_"}], "}"}], "\[RuleDelayed]", "v"}], 
             ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"{", "_", "}"}], "\[RuleDelayed]", "None"}]}], "\n", 
            "\t\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"OptionValue", "[", "\"\<Verbose\>\"", "]"}], ",", "\n", "\t", 
       "\t\t", 
       RowBox[{"Function", "[", 
        RowBox[{"Null", ",", " ", "\n", "\t", "\t\t\t", 
         RowBox[{"Monitor", "[", "\n", "\t\t\t\t\t", 
          RowBox[{"#", ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Internal`LoadingPanel", "@", "\n", "\t\t\t\t\t\t", 
            RowBox[{"TemplateApply", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
             "\"\<Downloading paclet `` from server\>\"", ",", "\n", 
              "\t\t\t\t\t\t\t", "pname"}], "\n", "\t\t\t\t\t\t\t", "]"}]}]}], 
          "\n", "\t\t\t\t\t", "]"}], ",", " ", "\n", "\t\t\t\t", "HoldAll"}], 
        "\n", "\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t", "Identity"}], "\n", 
      "\t", "\t\t", "]"}], "@", "\n", "\t\t\t", 
     RowBox[{"pacletDownloadFromSite", "[", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"pvers", "===", "None"}], ",", "\n", "\t\t\t\t\t", "pname", 
         ",", "\n", "\t\t\t\t\t", 
         RowBox[{"{", 
          RowBox[{"pname", ",", " ", "pvers"}], "}"}]}], "\n", "\t\t\t\t\t", 
        "]"}], ",", "\n", "\t\t\t\t", 
       RowBox[{"FilterRules", "[", 
        RowBox[{
         RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"Options", "[", "pacletDownloadFromSite", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"287bf772-27ad-4e7d-9523-b98950903db0"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Directory\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"237471fa-8a41-4c67-8adf-20676a5cd443"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"installPacletGenerate", "[", 
    RowBox[{"loc", ",", " ", "ops"}], "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"ffcda80c-8330-48e9-b340-c0017a445ec6"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]URL\[RightFloor]", "CodeSubsubsubsection",
 Evaluatable->True,ExpressionUUID->"7868bc83-110e-4b84-bfeb-b0126732f13a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PacletDownloadPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"URLParse", "[", 
             RowBox[{"#", ",", "\"\<Scheme\>\""}], "]"}], "=!=", "None"}], 
           "&"}], ")"}]}], "|", "_URL"}], ")"}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{"Which", "[", "\n", "\t\t", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"URLParse", "[", 
        RowBox[{"loc", ",", " ", "\"\<Domain\>\""}], "]"}], "===", 
       "\"\<github.com\>\""}], "||", "\n", "\t\t", 
      RowBox[{
       RowBox[{"URLParse", "[", 
        RowBox[{"loc", ",", " ", "\"\<Scheme\>\""}], "]"}], "\[Equal]", 
       "\"\<github\>\""}], "||", "\n", "\t\t", 
      RowBox[{
       RowBox[{"URLParse", "[", 
        RowBox[{"loc", ",", " ", "\"\<Scheme\>\""}], "]"}], "\[Equal]", 
       "\"\<github-release\>\""}]}], ",", "\n", "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"FileExistsQ", "@", "#"}]}], ",", " ", "\n", 
             "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Message", "[", 
               RowBox[{
                RowBox[{"PacletDownloadPaclet", "::", "badgh"}], ",", " ", 
                "loc"}], "]"}], ";", "\n", "\t\t\t\t\t", "$Failed"}], ",", 
             "\n", "\t\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Head", "[", "#", "]"}], "===", "File"}], ",", " ", 
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", " ", "#"}], "]"}]}], 
            "\n", "\t\t\t\t\t", "]"}], "&"}], "@", "\n", "\t\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], "//", "TrueQ"}],
             ",", "\n", "\t\t\t\t\t\t", 
            RowBox[{"Monitor", "[", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"gitPacletPull", "[", "loc", "]"}], ",", "\n", 
              "\t\t\t\t\t\t\t", 
              RowBox[{"Which", "[", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"StringQ", "@", "loc"}], "&&", 
                   RowBox[{"StringStartsQ", "[", 
                    RowBox[{"loc", ",", " ", "\"\<github-release\>\""}], 
                    "]"}]}], ")"}], "||", "\n", "\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"GitHubReleaseQ", "@", "loc"}]}], ",", "\n", "\t", 
                "\t", "\t", "\t\t\t\t\t\t\t", 
                RowBox[{
                "Internal`LoadingPanel", "[", "\n", "\t", "\t", "\t", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"TemplateApply", "[", 
                  RowBox[{"\"\<Pulling release at ``\>\"", ",", "loc"}], 
                  "]"}], "\n", "\t", "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n",
                 "\t\t\t\t\t\t\t\t", 
                RowBox[{"GitHubRepoQ", "@", "loc"}], ",", "\n", "\t", "\t", 
                "\t", "\t\t\t\t\t\t", 
                RowBox[{
                "Internal`LoadingPanel", "[", "\n", "\t", "\t", "\t", 
                 "\t\t\t\t\t\t\t", 
                 RowBox[{"TemplateApply", "[", 
                  RowBox[{"\"\<Cloning repository at ``\>\"", ",", "loc"}], 
                  "]"}], "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t", "True", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                "Internal`LoadingPanel", "[", "\n", "\t", "\t", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"TemplateApply", "[", 
                  RowBox[{"\"\<Downloading from ``\>\"", ",", "loc"}], "]"}], 
                 "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t", 
               "\t", "\t\t\t\t\t\t", "]"}]}], "\n", "\t", "\t", "\t\t\t\t\t", 
             "]"}], ",", "\n", "\t", "\t", "\t\t\t\t", 
            RowBox[{"gitPacletPull", "[", "loc", "]"}]}], "\n", "\t", "\t", 
           "\t\t\t\t", "]"}]}]}], "\n", "\t", "\t\t\t", "}"}], ",", "\n", 
       "\t\t\t\t", 
       RowBox[{"PacletDownloadPaclet", "@", "dir"}]}], "\n", "\t\t\t\t", 
      "]"}], ",", "\n", "\t", "\t\t", 
     RowBox[{
      RowBox[{"URLParse", "[", 
       RowBox[{"loc", ",", "\"\<Domain\>\""}], "]"}], "===", 
      "\"\<library.wolfram.com\>\""}], ",", "\n", "\t", "\t\t\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t", "\t", "\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], "//", "TrueQ"}], 
           ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"Monitor", "[", "\n", "\t", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"wolframLibraryPull", "[", "loc", "]"}], ",", "\n", "\t",
              "\t\t\t\t\t\t", 
             RowBox[{
             "Internal`LoadingPanel", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{
               "\"\<Downloading from library.wolfram.com ``\>\"", ",", 
                "loc"}], "]"}], "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}], "\n", 
            "\t", "\t\t\t\t\t\t", "]"}], ",", "\n", "\t", "\t\t\t\t\t", 
           RowBox[{"gitPacletPull", "[", "loc", "]"}]}], "\n", "\t", "\t", 
          "\t\t\t\t", "]"}]}], "\n", "\t", "\t", "\t\t\t", "}"}], ",", "\n", 
       "\t\t\t\t\t", 
       RowBox[{"PacletDownloadPaclet", "@", "dir"}]}], "\n", "\t\t\t\t\t", 
      "]"}], ",", "\n", "\t\t\t", "True", ",", "\n", "\t\t\t\t", 
     RowBox[{"Switch", "[", "\n", "\t\t\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"URLParse", "[", 
         RowBox[{"loc", ",", "\"\<Path\>\""}], "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"-", "1"}], "]"}], "]"}], ",", "\n", "\t", "\t\t\t\t", 
       RowBox[{"_", "?", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExtension", "[", "#", "]"}], "\[Equal]", 
           "\"\<paclet\>\""}], "&"}], ")"}]}], ",", "\n", "\t\t\t\t\t\t", 
       RowBox[{"URLDownload", "[", "loc", "]"}], ",", "\n", "\t\t\t\t\t", 
       RowBox[{"_", "?", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"MatchQ", "[", 
           RowBox[{
            RowBox[{"FileExtension", "[", "#", "]"}], ",", " ", 
            RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}]}], "]"}], "&"}], ")"}]}],
        ",", "\n", "\t\t\t\t\t\t", 
       RowBox[{"PacletDownloadPaclet", "@", "\n", "\t\t\t\t\t\t\t", 
        RowBox[{"downloadURLIfExists", "[", "\n", "\t", "\t\t\t\t\t\t\t", 
         RowBox[{
          RowBox[{"URLBuild", "[", "\n", "\t", "\t\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"ReplacePart", "[", 
              RowBox[{"#", ",", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t", 
               RowBox[{
               "\"\<Path\>\"", "->", "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Drop", "[", 
                 RowBox[{"#Path", ",", 
                  RowBox[{"-", "1"}]}], "]"}]}]}], "\n", "\t", "\t", 
              "\t\t\t\t\t\t\t\t", "]"}], "&"}], "@", 
            RowBox[{"URLParse", "[", "loc", "]"}]}], "\n", 
           "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
          RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{
             RowBox[{"URLParse", "[", 
              RowBox[{"loc", ",", "\"\<Path\>\""}], "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"-", "1"}], "]"}], "]"}], ",", "\n", "\t", "\t", 
            "\t\t\t\t\t\t\t", "$PackageDependenciesFile", ",", "\n", "\t", 
            "\t", "\t\t\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], "\n", "\t", 
           "\t\t\t\t\t\t\t\t", "}"}]}], "\n", "\t", "\t\t\t\t\t\t\t", "]"}]}],
        ",", "\n", "\t\t\t\t\t", "_", ",", "\n", "\t\t\t\t\t\t", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{
          RowBox[{"PacletDownloadPaclet", "::", "nopac"}], ",", " ", "loc"}], 
         "]"}], ";", "\n", "\t\t\t\t\t\t", "$Failed"}]}], "\n", 
      "\t\t\t\t\t\t", 
      RowBox[{"(*", 
       RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Quiet", "@", 
          RowBox[{"Normal", "@", 
           RowBox[{"PacletSiteInfoDataset", "[", "loc", "]"}]}]}], ",", "\n", 
         "\t\t\t\t\t", 
         RowBox[{"{", "\n", "\t\t\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"Except", "[", 
             RowBox[{"{", "__Association", "}"}], "]"}], ":>", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"(", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"Message", "[", 
               RowBox[{
                RowBox[{"PacletDownloadPaclet", "::", "nopac"}], ",", " ", 
                "loc"}], "]"}], ";", "\n", "\t\t\t\t\t\t\t\t", "$Failed"}], 
             "\n", "\t\t\t\t\t\t\t\t", ")"}]}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{
            RowBox[{"a", ":", 
             RowBox[{"{", "__Association", "}"}]}], ":>", "\n", 
            "\t\t\t\t\t\t\t", 
            RowBox[{"PacletDownloadPaclet", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{
              RowBox[{"URLBuild", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                 RowBox[{"loc", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"StringJoin", "@", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"Last", "@", 
                    RowBox[{"SortBy", "[", 
                    RowBox[{"a", ",", " ", 
                    RowBox[{"#Version", "&"}]}], "]"}]}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<Name\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<Version\>\""}], "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<.paclet\>\""}], "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t\t\t", "}"}]}]}], ",", 
              "\n", "\t\t\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t\t\t", 
             "]"}]}]}], "\n", "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", 
        "]"}], "*)"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}]}], 
  ";"}]], "CodeInput",ExpressionUUID->"5802cbbc-de9d-4169-a004-ef5d0f627059"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]InstallDeps\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,ExpressionUUID->"f5aeee49-8b45-4acb-9504-edc5d958e3e3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"PacletInstallProcessDependencies", "[", 
   RowBox[{"p_", ",", " ", "deps_", ",", " ", "ops___"}], "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"MatchQ", "[", 
     RowBox[{"deps", ",", 
      RowBox[{"_List", "|", "All"}]}], "]"}], ",", "\n", "\t\t\t", 
    RowBox[{"Flatten", "@", 
     RowBox[{"{", "\n", "\t\t\t\t", 
      RowBox[{"p", ",", "\n", "\t\t\t\t", 
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"l", "=", 
           RowBox[{"PacletLookup", "[", 
            RowBox[{"p", ",", " ", "\"\<Location\>\""}], "]"}]}], "}"}], ",", 
         "\n", "\t\t\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"l", ",", " ", "$PackageDependenciesFile"}], "}"}]}]}], 
           ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Import", "[", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"l", ",", " ", "$PackageDependenciesFile"}], "}"}]}], 
              "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"a_Association", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Switch", "[", 
                 RowBox[{
                 "deps", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "All", ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Map", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"PacletInstallPaclet", "[", 
                    RowBox[{"#", ",", " ", "ops"}], "]"}], "&"}], ",", " ", 
                    "#"}], "]"}], "&"}], ",", " ", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "a"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t", "_", ",", "\n", 
                  "\t\t\t\t\t\t\t\t\t\t\t", 
                  RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"PacletInstallPaclet", "[", 
                    RowBox[{"#", ",", " ", "ops"}], "]"}], "&"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{"a", ",", " ", "deps", ",", " ", 
                    RowBox[{"{", "}"}]}], "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
               "\t\t\t\t\t\t\t\t", 
               RowBox[{"l_List", ":>", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"Map", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"PacletInstallPaclet", "[", 
                    RowBox[{"#", ",", " ", "ops"}], "]"}], "&"}], ",", "l"}], 
                 "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t", 
               RowBox[{"_", "->", "\n", "\t\t\t\t\t\t\t\t\t", 
                RowBox[{"{", "}"}]}]}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], 
            "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
           RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t",
     "p"}], "\n", "\t\t\t", 
   "]"}]}]], \
"CodeInput",ExpressionUUID->"760f952d-778e-4583-bd01-3c57a7da660b"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]PacletInstallPaclet\[RightFloor]", "CodeSubsubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.703752419075889*^9, 3.7037524195453663`*^9}, 
   3.705590377243359*^9},ExpressionUUID->"71ff89de-fefb-4109-84a9-\
08fdd2d82810"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PacletInstallPaclet", "]"}], "=", "\n", "\t", 
   RowBox[{"{", "\n", "\t\t", 
    RowBox[{
     RowBox[{"\"\<Verbose\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{"\"\<InstallSite\>\"", "\[Rule]", "True"}], ",", "\n", "\t\t", 
     RowBox[{
     "\"\<InstallDependencies\>\"", "->", "\n", "\t\t\t", "Automatic"}], ",", 
     "\n", "\t\t", 
     RowBox[{"\"\<Log\>\"", "\[Rule]", "True"}]}], "\n", "\t\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PacletInstallPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"loc", ":", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}], "|", 
       "\n", "\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"_String", "?", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"URLParse", "[", 
              RowBox[{"#", ",", "\"\<Scheme\>\""}], "]"}], "=!=", "None"}], 
            "&"}], ")"}]}], "|", "_URL"}], ")"}]}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n",
    "\t", 
   RowBox[{
    RowBox[{"PackageExceptionBlock", "[", "\"\<PacletTools\>\"", "]"}], "@", 
    "\n", "\t\t", 
    RowBox[{"If", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"And", "[", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"OptionValue", "[", "\"\<InstallSite\>\"", "]"}], "//", 
         "TrueQ"}], ",", "\n", "\t", "\t\t\t", 
        RowBox[{"MatchQ", "[", "\n", "\t", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Quiet", "@", 
           RowBox[{"PacletSiteInfo", "[", "loc", "]"}]}], ",", "\n", "\t", 
          "\t\t\t\t", 
          RowBox[{
          "PacletManager`PacletSite", "[", "__PacletManager`Paclet", "]"}]}], 
         "\n", "\t", "\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t", "]"}], ",", 
      "\n", "\t", "\t\t", 
      RowBox[{"PacletSiteInstall", "[", "loc", "]"}], ",", "\n", "\t", 
      "\t\t\t", 
      RowBox[{"Replace", "[", "\n", "\t", "\t\t\t\t", 
       RowBox[{
        RowBox[{"PacletDownloadPaclet", "[", 
         RowBox[{"loc", ",", " ", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"{", "ops", "}"}], ",", " ", 
            RowBox[{"Options", "[", "PacletDownloadPaclet", "]"}]}], "]"}]}], 
         "]"}], ",", "\n", "\t", "\t\t\t\t", 
        RowBox[{"{", "\n", "\t", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"File", "[", "f_", "]"}], "|", 
            RowBox[{"(", 
             RowBox[{"f_String", "?", "FileExistsQ"}], ")"}]}], ":>", "\n", 
           "\t", "\t", "\t", "\t\t\t\t", 
           RowBox[{"Replace", "[", 
            RowBox[{
             RowBox[{"PacletManager`PacletInstall", "@", "f"}], ",", "\n", 
             "\t", "\t", "\t", "\t\t\t\t\t", 
             RowBox[{
             "p_PacletManager`Paclet", "\[RuleDelayed]", "\n", "\t", "\t", 
              "\t", "\t\t\t\t\t\t", 
              RowBox[{"With", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "deps", "=", "\n", "\t", "\t", "\t", "\t", "\t\t\t\t\t\t", 
                  RowBox[{"Replace", "[", 
                   RowBox[{
                    RowBox[{
                    "OptionValue", "[", "\"\<InstallDependencies\>\"", "]"}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Automatic", "\[Rule]", 
                    RowBox[{"{", "\"\<Standard\>\"", "}"}]}], ",", "\n", "\t",
                     "\t", "\t", "\t", "\t", "\t\t\t\t\t\t\t", 
                    RowBox[{"True", "\[Rule]", "All"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "}"}]}], "\n", 
                   "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t\t\t\t", "}"}], ",", "\n", 
                "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{"PacletInstallProcessDependencies", "[", 
                 RowBox[{"p", ",", " ", "deps", ",", " ", "ops"}], "]"}]}], 
               "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
            "\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t\t\t", 
          RowBox[{"_", "\[Rule]", "$Failed"}]}], "\n", "\t\t\t\t\t\t", 
         "}"}]}], "\n", "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], 
  ";"}]}], "CodeInput",ExpressionUUID->"627b9902-c8b5-4a07-9623-f0f559e48ab0"]\

}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]Format\[RightFloor]", "CodeSubsection",
 Evaluatable->True,
 CellChangeTimes->{{3.712947814660972*^9, 
  3.7129478152277613`*^9}},ExpressionUUID->"dfc88903-5707-4dab-9b6f-\
59fd497ba4ca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"!", 
     RowBox[{"AssociationQ", "@", "$pacletIconCache"}]}], ",", " ", 
    RowBox[{"$pacletIconCache", "=", 
     RowBox[{"<|", "|>"}]}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"pacletGetIcon", "[", "a_", "]"}], ":=", "\n", "\t", 
    RowBox[{"Replace", "[", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringQ", "@", 
          RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], "&&", 
         RowBox[{
          RowBox[{"StringLength", "[", 
           RowBox[{"a", "[", "\"\<Location\>\"", "]"}], "]"}], ">", "0"}]}], 
        ",", "\n", "\t\t\t", 
        RowBox[{"FileNames", "[", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t", 
           RowBox[{
           "a", ",", "\n", "\t", "\t\t\t\t", "\"\<Thumbnail\>\"", ",", "\n", 
            "\t", "\t\t\t\t", 
            RowBox[{"Lookup", "[", "\n", "\t", "\t\t\t\t\t", 
             RowBox[{
             "a", ",", "\n", "\t", "\t\t\t\t\t", "\"\<Icon\>\"", ",", "\n", 
              "\t", "\t\t\t\t\t", 
              RowBox[{
              "\"\<PacletIcon.m\>\"", "|", "\"\<PacletIcon.png\>\""}]}], "\n",
              "\t", "\t\t\t\t\t", "]"}]}], "\n", "\t", "\t\t\t\t", "]"}], ",",
           "\n", "\t", "\t\t\t", 
          RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], "\n", "\t\t\t\t", 
         "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"{", "}"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
      RowBox[{"{", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"f_", ",", " ", "___"}], "}"}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Lookup", "[", 
            RowBox[{"$pacletIconCache", ",", " ", "f", ",", " ", 
             RowBox[{
              RowBox[{"$pacletIconCache", "[", "f", "]"}], " ", "=", " ", 
              RowBox[{"Import", "[", "f", "]"}]}]}], "]"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"i_", "?", "ImageQ"}], ":>", 
            RowBox[{"Image", "[", 
             RowBox[{"i", ",", " ", 
              RowBox[{"ImageSize", "\[Rule]", "28"}]}], "]"}]}]}], "\n", 
          "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"{", "}"}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"f", "=", 
             RowBox[{"PackageFilePath", "[", 
              RowBox[{
              "\"\<Resources\>\"", ",", " ", "\"\<Icons\>\"", ",", " ", 
               "\"\<PacletIcon.png\>\""}], "]"}]}], "}"}], ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"Image", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Lookup", "[", 
              RowBox[{"$pacletIconCache", ",", " ", "f", ",", " ", 
               RowBox[{
                RowBox[{"$pacletIconCache", "[", "f", "]"}], " ", "=", " ", 
                RowBox[{"Import", "[", "f", "]"}]}]}], "]"}], ",", "\n", 
             "\t\t\t\t\t\t", 
             RowBox[{"ImageSize", "\[Rule]", "28"}]}], "\n", "\t\t\t\t\t\t", 
            "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
       RowBox[{"(*", 
        RowBox[{"Pane", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"Last", "@", 
             RowBox[{"StringSplit", "[", 
              RowBox[{
               RowBox[{"a", "[", "\"\<Name\>\"", "]"}], ",", "\"\<_\>\""}], 
              "]"}]}], ",", "\"\<Input\>\""}], "]"}], ",", "\n", "\t", "\t", 
          "\t\t\t", 
          RowBox[{"{", 
           RowBox[{"Automatic", ",", "28"}], "}"}], ",", "\n", "\t", "\t", 
          "\t\t\t", 
          RowBox[{"Alignment", "\[Rule]", "Center"}]}], "\n", "\t\t\t\t\t", 
         "]"}], "*)"}], "\n", "\t\t\t", "}"}]}], "\n", "\t\t", "]"}]}], ";"}],
   "\t\t\t"}]}], "CodeInput",
 CellChangeTimes->{{3.725146646396017*^9, 3.725146675097763*^9}, {
   3.7251480164374247`*^9, 3.725148045698143*^9}, {3.725148206299155*^9, 
   3.725148217855503*^9}, {3.725152424874259*^9, 3.725152427717165*^9}, {
   3.725153227030428*^9, 3.725153228513445*^9}, {3.7251865255520973`*^9, 
   3.7251865549434233`*^9}, 3.725186619132217*^9, {3.7251871905863457`*^9, 
   3.7251871930832243`*^9}, {3.7289657583928127`*^9, 3.728965831409219*^9}, {
   3.729731878130578*^9, 3.729731879045908*^9}, 3.729732063111823*^9, {
   3.729732114916567*^9, 3.729732172138776*^9}, {3.729744064162877*^9, 
   3.7297440797266493`*^9}},ExpressionUUID->"c3c02ba4-6c4b-4130-b627-\
d67c9294d12d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletSiteIcon", "[", "_", "]"}], ":=", "\n", "\t", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"f", "=", 
      RowBox[{"PackageFilePath", "[", 
       RowBox[{
       "\"\<Resources\>\"", ",", " ", "\"\<Icons\>\"", ",", " ", 
        "\"\<PacletSiteIcon.png\>\""}], "]"}]}], "}"}], ",", "\n", "\t\t\t", 
    RowBox[{"Image", "[", "\n", "\t\t\t\t", 
     RowBox[{
      RowBox[{"Lookup", "[", 
       RowBox[{"$pacletIconCache", ",", " ", "f", ",", " ", 
        RowBox[{
         RowBox[{"$pacletIconCache", "[", "f", "]"}], " ", "=", " ", 
         RowBox[{"Import", "[", "f", "]"}]}]}], "]"}], ",", "\n", "\t\t\t\t", 
      
      RowBox[{"ImageSize", "\[Rule]", "28"}]}], "\n", "\t\t\t\t", "]"}]}], 
   "\n", "\t\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.729742797229683*^9, 3.729742806132574*^9}, {
  3.729744045479417*^9, 
  3.729744045876916*^9}},ExpressionUUID->"f38c3a5d-d4d5-4b21-ac51-\
92513df2b85a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletGetDocsLink", "[", "a_", "]"}], ":=", "\n", "\t", 
  RowBox[{"\"\<paclet:\>\"", "<>", "\n", "\t\t", 
   RowBox[{"StringReplace", "[", 
    RowBox[{
     RowBox[{"a", "[", "\"\<Name\>\"", "]"}], ",", " ", "\n", "\t\t\t", 
     RowBox[{"{", "\n", "\t\t\t\t", 
      RowBox[{
       RowBox[{
       "\"\<ServiceConnection_\>\"", "\[Rule]", "\"\<ref/service\>\""}], ",", 
       "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"\"\<Documentation_\>\"", "~~", "n__"}], ":>", "n"}]}], "\n", 
      "\t\t\t\t", "}"}]}], "\n", "\t\t\t", "]"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.7251865173721437`*^9, 3.725186522093802*^9}, {
  3.7251866220811167`*^9, 3.7251866679919043`*^9}, {3.73065403559732*^9, 
  3.730654072139571*^9}, {3.730655461096396*^9, 
  3.730655466150161*^9}},ExpressionUUID->"e83ce7ed-5830-43bb-bf89-\
643ed40ec0a2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pacletMakeSummaryItem", "[", 
   RowBox[{"k_", ",", " ", "v_"}], "]"}], ":=", "\n", "\t", 
  RowBox[{"BoxForm`MakeSummaryItem", "[", "\n", "\t\t", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Row", "[", 
       RowBox[{"{", 
        RowBox[{"k", ",", " ", "\"\<: \>\""}], "}"}], "]"}], ",", " ", 
      RowBox[{"Short", "@", "v"}]}], "}"}], ",", "\n", "\t\t", 
    "StandardForm"}], "\n", "\t\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.7251867946248703`*^9, 3.7251868177245417`*^9}, {
  3.7262854777783337`*^9, 
  3.7262854794542103`*^9}},ExpressionUUID->"1a21eaab-f4fb-45b2-be52-\
e2246134a91b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"pacletSummaryDynamic", "[", 
    RowBox[{"expr_", ",", " ", "a_"}], "]"}], ":=", "\n", "\t", 
   RowBox[{
    RowBox[{"Dynamic", "[", 
     RowBox[{
      RowBox[{"Refresh", "[", 
       RowBox[{"expr", ",", " ", "None"}], "]"}], ",", " ", 
      RowBox[{"TrackedSymbols", "\[RuleDelayed]", 
       RowBox[{"{", "}"}]}], ",", " ", 
      RowBox[{"UpdateInterval", "\[Rule]", "Infinity"}]}], "]"}], "/.", "\n", 
    "\t\t", 
    RowBox[{
     RowBox[{"Key", "[", "k_String", "]"}], "\[RuleDelayed]", 
     RowBox[{"RuleCondition", "[", 
      RowBox[{
       RowBox[{"a", "[", "k", "]"}], ",", " ", "True"}], "]"}]}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"pacletSummaryDynamic", "~", "SetAttributes", "~", "HoldFirst"}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.729733087035448*^9, 3.729733147293741*^9}, {
  3.729733214049919*^9, 3.729733220804298*^9}, {3.729741845293467*^9, 
  3.7297418536683207`*^9}},ExpressionUUID->"c88a0846-1a37-4af7-9ff5-\
d41af0766581"],

Cell[BoxData[
 RowBox[{
  RowBox[{"validPacletToFormat", "[", "p_", "]"}], ":=", "\n", "\t", 
  RowBox[{
   RowBox[{"MatchQ", "[", 
    RowBox[{"p", ",", " ", 
     RowBox[{"PacletManager`Paclet", "[", "__Rule", "]"}]}], "]"}], "&&", 
   "\n", "\t\t", 
   RowBox[{"StringQ", "@", 
    RowBox[{"p", "[", "\"\<Name\>\"", "]"}]}]}]}]], "CodeInput",
 CellChangeTimes->{{3.72896598049734*^9, 
  3.72896599662125*^9}},ExpressionUUID->"41967ff3-7eef-4fba-9687-\
61760b5661d7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SetPacletFormatting", "[", "]"}], ":=", "\n", "\t", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"BooleanQ", "@", "$FormatPaclets"}]}], ",", " ", 
       RowBox[{"$FormatPaclets", "=", "True"}]}], "]"}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Format", "[", 
       RowBox[{"p_PacletManager`Paclet", "/;", "\n", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{"$FormatPaclets", "&&", 
          RowBox[{"validPacletToFormat", "[", "p", "]"}]}], ")"}]}], "]"}], ":=",
       "\n", "\t\t\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"a", "=", 
          RowBox[{"PacletInfoAssociation", "[", "p", "]"}]}], "}"}], ",", 
        "\n", "\t\t\t", 
        RowBox[{"RawBoxes", "@", "\n", "\t\t\t\t", 
         RowBox[{
         "BoxForm`ArrangeSummaryBox", "[", "\n", "\t", "\t", "\t", "\t\t", 
          RowBox[{
          "\"\<Paclet\>\"", ",", "\n", "\t\t\t\t\t", "p", ",", "\n", 
           "\t\t\t\t\t", 
           RowBox[{"pacletGetIcon", "[", "a", "]"}], ",", "\n", "\t\t\t\t\t", 
           
           RowBox[{"{", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"pacletMakeSummaryItem", "[", 
              RowBox[{"\"\<Name\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"With", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"dl", "=", 
                    RowBox[{"pacletGetDocsLink", "[", "a", "]"}]}], ",", " ", 
                   
                   RowBox[{"n", "=", 
                    RowBox[{"a", "[", "\"\<Name\>\"", "]"}]}]}], "}"}], ",", 
                 "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{
                 "pacletSummaryDynamic", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"StringQ", "@", 
                    RowBox[{"Documentation`ResolveLink", "[", "dl", "]"}]}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Hyperlink", "[", 
                    RowBox[{
                    RowBox[{"Key", "[", "\"\<Name\>\"", "]"}], ",", " ", 
                    "dl"}], "]"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Key", "[", "\"\<Name\>\"", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t\t", "a"}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "]"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"pacletMakeSummaryItem", "[", 
              RowBox[{"\"\<Version\>\"", ",", " ", 
               RowBox[{"a", "[", "\"\<Version\>\"", "]"}]}], "]"}]}], "\n", 
            "\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t", 
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"StringQ", "[", 
                   RowBox[{"a", "[", "\"\<Location\>\"", "]"}], "]"}], "&&", 
                  RowBox[{"DirectoryQ", "@", 
                   RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}]}], ",", "\n",
                  "\t\t\t\t\t\t\t\t", 
                 RowBox[{"pacletMakeSummaryItem", "[", 
                  RowBox[{"\"\<Location\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"With", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"l", "=", 
                    RowBox[{"a", "[", "\"\<Location\>\"", "]"}]}], "}"}], ",",
                     "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Button", "[", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Hyperlink", "[", "l", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"SystemOpen", "[", "l", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Appearance", "\[Rule]", "None"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"BaseStyle", "\[Rule]", "\"\<Hyperlink\>\""}]}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 
                 RowBox[{
                 "pacletMakeSummaryItem", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Installed\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{
                   "pacletSummaryDynamic", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"PacletInstalledQ", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Key", "[", "\"\<Name\>\"", "]"}], ",", " ", 
                    RowBox[{"Key", "[", "\"\<Version\>\"", "]"}]}], "}"}], 
                    "]"}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "True", ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"PacletExistsQ", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Key", "[", "\"\<Name\>\"", "]"}], ",", " ", 
                    RowBox[{"Key", "[", "\"\<Version\>\"", "]"}]}], "}"}], 
                    "]"}], ",", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "Button", "[", "\n", "\t", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "Mouseover", "[", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{
                    "\"\<Click to install\>\"", ",", " ", 
                    "\"\<Hyperlink\>\""}], "]"}], ",", "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Style", "[", 
                    RowBox[{
                    "\"\<Click to install\>\"", ",", " ", 
                    "\"\<HyperlinkActive\>\""}], "]"}]}], "\n", "\t", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"PacletInstall", "[", 
                    RowBox[{"Key", "[", "\"\<Name\>\"", "]"}], "]"}], ",", 
                    "\n", "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Appearance", "\[Rule]", "None"}], ",", "\n", 
                    "\t", "\t", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"BaseStyle", "\[Rule]", "\"\<Hyperlink\>\""}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Method", "\[Rule]", "\"\<Queued\>\""}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "False"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "a"}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t\t", 
                "]"}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"KeyMemberQ", "[", 
                  RowBox[{"a", ",", "\"\<URL\>\""}], "]"}], ",", "\n", 
                 "\t\t\t\t\t\t\t\t", 
                 RowBox[{"pacletMakeSummaryItem", "[", 
                  RowBox[{"\"\<URL\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                   RowBox[{"Hyperlink", "[", 
                    RowBox[{"a", "[", "\"\<URL\>\"", "]"}], "]"}]}], "\n", 
                  "\t\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                 "Nothing"}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t", 
              RowBox[{"pacletMakeSummaryItem", ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"KeyDrop", "[", 
                RowBox[{"a", ",", "\n", "\t\t\t\t\t\t\t\t", 
                 RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Name\>\"", ",", " ", "\"\<Version\>\"", ",", " ", "\n",
                    "\t\t\t\t\t\t\t\t\t", "\"\<Location\>\"", ",", " ", 
                   "\"\<URL\>\"", ",", " ", "\n", "\t\t\t\t\t\t\t\t\t", 
                   "\"\<Extensions\>\""}], "\n", "\t\t\t\t\t\t\t\t\t", 
                  "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
              "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"Sequence", "@@", 
              RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"With", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"k", "=", "#"}], ",", " ", 
                    RowBox[{"asso", "=", "#2"}]}], "}"}], ",", "\n", 
                   "\t\t\t\t\t\t\t\t", 
                   RowBox[{"KeyValueMap", "[", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "pacletMakeSummaryItem", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"KeyMap", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "<>", "#"}], "&"}], ",", " ", 
                    RowBox[{"KeySelect", "[", 
                    RowBox[{"asso", ",", " ", "StringQ"}], "]"}]}], "]"}]}], 
                    "\n", "\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                  "\t\t\t\t\t\t\t\t", "]"}], "&"}], ",", "\n", 
                "\t\t\t\t\t\t\t", 
                RowBox[{"Lookup", "[", 
                 RowBox[{"a", ",", " ", "\"\<Extensions\>\"", ",", " ", 
                  RowBox[{"<|", "|>"}]}], "]"}]}], "\n", "\t\t\t\t\t\t\t", 
               "]"}]}]}], "\n", "\t\t\t\t\t\t", "]"}], ",", "\n", 
           "\t\t\t\t\t", "StandardForm"}], "\n", "\t\t\t\t\t", "]"}]}]}], 
       "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"Format", "[", 
       RowBox[{
        RowBox[{"site", ":", 
         RowBox[{
         "PacletManager`PacletSite", "[", "p__PacletManager`Paclet", "]"}]}], 
        "/;", "\n", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{"$FormatPaclets", "&&", 
          RowBox[{"AllTrue", "[", 
           RowBox[{
            RowBox[{"{", "p", "}"}], ",", " ", "validPacletToFormat"}], 
           "]"}]}], ")"}]}], "]"}], ":=", "\n", "\t\t\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"a", "=", 
          RowBox[{"PacletLookup", "[", 
           RowBox[{
            RowBox[{"{", "p", "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"\"\<Name\>\"", ",", " ", "\"\<Version\>\""}], "}"}]}], 
           "]"}]}], "}"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"RawBoxes", "@", "\n", "\t\t\t\t\t", 
         RowBox[{"BoxForm`ArrangeSummaryBox", "[", "\n", "\t\t\t\t\t\t", 
          RowBox[{
          "\"\<PacletSite\>\"", ",", "\n", "\t\t\t\t\t\t", "site", ",", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"pacletSiteIcon", "[", "site", "]"}], ",", "\n", 
           "\t\t\t\t\t\t", 
           RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
            RowBox[{"pacletMakeSummaryItem", "[", "\n", "\t\t\t\t\t\t\t\t", 
             RowBox[{"\"\<Paclets\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
              RowBox[{"Short", "@", "\n", "\t\t\t\t\t\t\t\t\t", 
               RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"StringRiffle", "[", 
                   RowBox[{"#", ",", " ", "\"\<-\>\""}], "]"}], "&"}], ",", 
                 "\n", "\t\t\t\t\t\t\t\t\t\t", "a"}], "\n", 
                "\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t", 
             "]"}], "\n", "\t\t\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t\t\t", 
           
           RowBox[{"{", "\n", "\t\t\t\t\t\t\t", "}"}], ",", "\n", 
           "\t\t\t\t\t\t", "StandardForm"}], "\n", "\t\t\t\t\t\t", "]"}]}]}], 
       "\n", "\t\t\t\t", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{
      RowBox[{"FormatValues", "[", "PacletManager`Paclet", "]"}], "=", "\n", 
      "\t", "\t\t", 
      RowBox[{"SortBy", "[", "\n", "\t", "\t\t\t", 
       RowBox[{
        RowBox[{"FormatValues", "[", "PacletManager`Paclet", "]"}], ",", "\n",
         "\t", "\t\t\t", 
        RowBox[{"FreeQ", "[", 
         RowBox[{"HoldPattern", "[", "$FormatPaclets", "]"}], "]"}]}], "\n", 
       "\t\t\t\t", "]"}]}], ";"}], "\n", "\t\t", ")"}]}], ";"}], "\n", 
 RowBox[{"If", "[", 
  RowBox[{"$TopLevelLoad", ",", " ", 
   RowBox[{"SetPacletFormatting", "[", "]"}]}], "]"}]}], "CodeInput",
 CellChangeTimes->{{3.712944032814577*^9, 3.7129441662832193`*^9}, {
   3.71294422218996*^9, 3.712944321616054*^9}, {3.7129443551373587`*^9, 
   3.712944428801499*^9}, {3.712944484293857*^9, 3.712944577669609*^9}, {
   3.712944945344235*^9, 3.712944948531549*^9}, {3.7129462550159883`*^9, 
   3.712946270862316*^9}, {3.712946785029882*^9, 3.71294687784936*^9}, {
   3.712946937979149*^9, 3.712947047812746*^9}, {3.712947312753086*^9, 
   3.712947366877483*^9}, {3.712947405902129*^9, 3.71294740904606*^9}, {
   3.712947493266972*^9, 3.712947511894709*^9}, {3.71294771383284*^9, 
   3.7129477189351397`*^9}, {3.712947760191946*^9, 3.71294776846213*^9}, {
   3.712947820951871*^9, 3.7129478504851723`*^9}, {3.713057183489625*^9, 
   3.7130571873914337`*^9}, {3.713581497687078*^9, 3.713581525638887*^9}, {
   3.713582044777235*^9, 3.713582048187145*^9}, {3.71360887779596*^9, 
   3.7136089639796658`*^9}, {3.713609035525119*^9, 3.713609089138006*^9}, {
   3.720306369353182*^9, 3.72030638324354*^9}, {3.720494722508541*^9, 
   3.720494726912051*^9}, {3.7248911461401653`*^9, 3.724891204975421*^9}, {
   3.724891258719541*^9, 3.724891386389223*^9}, {3.724892009134224*^9, 
   3.724892009851631*^9}, {3.7251465676278353`*^9, 3.72514657348246*^9}, {
   3.725146627272151*^9, 3.725146644637917*^9}, {3.725146683743582*^9, 
   3.725146684203424*^9}, {3.725186705565412*^9, 3.725186786822826*^9}, {
   3.725186822181774*^9, 3.725186848399119*^9}, {3.72518691393779*^9, 
   3.7251870203854113`*^9}, {3.72518725109795*^9, 3.725187291254468*^9}, {
   3.7256729080332937`*^9, 3.725672918605073*^9}, {3.726285512078*^9, 
   3.726285539519747*^9}, {3.726285572219057*^9, 3.726285589323958*^9}, {
   3.726285629611068*^9, 3.7262857507590017`*^9}, {3.7262857976814137`*^9, 
   3.726285827622203*^9}, {3.728932171705339*^9, 3.7289321717107353`*^9}, {
   3.7289658829648457`*^9, 3.72896589637011*^9}, {3.728966006925251*^9, 
   3.728966008536598*^9}, 3.728966051121829*^9, {3.728966114033717*^9, 
   3.7289661290421467`*^9}, {3.7297286238984222`*^9, 3.72972862906457*^9}, {
   3.729732606424794*^9, 3.7297328515402*^9}, {3.729732945879023*^9, 
   3.7297329765969677`*^9}, {3.729733230917528*^9, 3.729733281720518*^9}, 
   3.7297334291002617`*^9, {3.729741707339534*^9, 3.7297417645832357`*^9}, {
   3.729741803200815*^9, 3.729742044824376*^9}, {3.729742348047995*^9, 
   3.729742383777564*^9}, {3.729742418789281*^9, 3.729742425029903*^9}, {
   3.729742457277772*^9, 3.729742462330492*^9}, {3.729744988540288*^9, 
   3.729745058827819*^9}, {3.729745459931777*^9, 3.7297454618687973`*^9}, {
   3.729745499041134*^9, 3.7297455012855797`*^9}, 3.729745586049182*^9, {
   3.729745618408091*^9, 3.729745690647727*^9}, {3.729745747667948*^9, 
   3.729745773571948*^9}, 3.734137216985326*^9, {3.734138606527295*^9, 
   3.734138615762566*^9}},ExpressionUUID->"c5404695-c0bd-4554-90d6-\
5eb5a43fccd4"]
}, Closed]],

Cell[BoxData[
 RowBox[{
  RowBox[{"End", "[", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"c6b464bd-de29-45de-a01b-\
93f6e6c77742"]
}, Open  ]],

Cell["", "SectionSeparator",ExpressionUUID->"da815cab-e579-48bc-a264-\
f175938d2794"]
},
WindowSize->{815, 780},
WindowMargins->{{Automatic, 27}, {Automatic, 0}},
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, \
2018)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"BTools"}, "CodePackage.nb", CharacterEncoding -> 
       "UTF-8"]]]}, Visible -> False, FrontEndVersion -> 
  "11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 5, 2018)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

