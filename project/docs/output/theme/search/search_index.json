{
	"pages":[
		{
			"title":"SimpleDocs",
			"text":"‌   SimpleDocs  \nSimpleDocs is a paclet that implements simple documentation building. It has a stylesheet that should be cross-version compatible going back quite a while. It also provides facilities for automatic export to Markdown and for building of a website off that Markdown.   \n\n \n SimpleDocs provides a collection of functions for creating notebooks and the like  \nCreateTemplateNotebook - creates a template notebook (like this) to fill out  \nSampleTemplateNotebook - ...  \n$NotebookTemplates - ...   \n\n \n SimpleDocs provides a collection of functions for working with documentation and paclets  \nSetNotebookPaclet - ...  \nSaveNotebookToPaclet - ...  \nSaveNotebookToPacletProject - ...   \n\n \n SimpleDocs also provides some function for working with Markdown and websites  \nSaveNotebookMarkdown - ...  \nInitializeDocsSite - ...  \nOpenDocsSiteConfig - ...  \nBuildDocsSite - ...  \nBuildNotebookDocsSite - ...   \n\n  ‌   Related Tutorials  \n  SimpleDocs     Batch Documentation     ‌   Related Links  \n  SimpleDocs     BTools     Ems    \n\n \n Made with SimpleDocs",
			"tags":"",
			"url":"guide\/SimpleDocs.html",
			"note":""
		},
		{
			"title":"SampleTutorial",
			"text":"‌   SimpleDocs Usage  \nSimpleDocs package can't do crazy things. It won't make the most interactive and beautiful docs you could ever want. What it can do is make simple documentation that can be nicely converted to other platforms and is more than adequate for 90% of cases.  \nAs an example, we'll write documentation for the simple docs package here, demonstrating the full extent of its limited features.  \nFirst let's install the package, if it's not installed already:   ‌   Installing the Package     Needs[\"PacletManager`\"] PacletInstall[\"SimpleDocs\", \"Site\" -> \"http:\/\/www.wolframcloud.com\/objects\/b3m2a1.paclets\/PacletServer\" ] (*Out:*)        ‌   Creating Function Templates  \nNext we'll create some templates for the functions in the package. First we get the functions:      << SimpleDocs`Package` fns = Names[\"SimpleDocs`Package`*\"] (*Out:*) {\"BuildDocsSite\",\"BuildNotebookDocsSite\",\"CreateTemplateNotebook\",\"InitializeDocsSite\",\"OpenDocsSiteConfig\",\"SampleTemplateNotebook\",\"SaveNotebookMarkdown\",\"SaveNotebookToPaclet\",\"SaveNotebookToPacletProject\",\"SetNotebookPaclet\",\"$DockedCell\",\"$HamburgerMenu\",\"$InsertionMenu\",\"$MetadataEditor\",\"$NotebookTemplates\"}    \nThen we use CreateTemplateNotebook to make templates for these. To start we'll just make a template for the first one or something:      CreateTemplateNotebook@First@fns (*Out:*)           ‌   Building Function Documentation  \nAt this point we have a template notebook to work with. Before we go on with anything we'll probably want to save this to our as a template. The place SimpleDocs saves these is to a subfolder of a paclet. It can be saved anywhere, but by using the SimpleDocs code we can get a website out automatically. The way to do this is to go to the hamburger menu in the top-right corner (incidentally this is called $HamburgerMenu in the package) and to the Save To Project item there. This'll pop up a little dialog:     \nJust press Enter and it'll save to a project subfolder of the paclet and will also initialize content necessary to build the website later.  \nOne note on the time required to do this: SimpleDocs loads a few dependencies from a server, and so the first time you run these commands it will check for updates and download the source (if necessary) which can take a while. In a future version these dependencies will be bundled in with the package and so this download won't be necessary.    Metadata  \nNext notice the thing in the DockedCell that says Metadata . This is stuff we should edit to help Mathematica do stuff with the docs finding. This thing works as a cascade of menus and InputFields that we play with. It's also just the $MetadataEditor object in the package:      $MetadataEditor       \nThe biggest thing to edit is the Basics menu. Here's a look at that:      $MetadataEditor[[2, 1, 1, 2, 2, 2, 1, 1, 1, 2]]       \nThe big thing to change here is the \"URI\" . We'd rather have this be \"SimpleDocs\/ref\/BuildDocsSite\" , so that Mathematica can find that URI. The \"Context\" might need to edited to be in line with this, too, but I'm not sure.  \nWe have many other types of metadata to fill, too, especially in the Location tab, which help Mathematica locate the documentation notebook.    Usage\/Details\/Examples  \nWe also have some things to edit in the documentation body itself. One quick thing is we'll probably want to change that SIMPLEDOCSPACKAGE SYMBOL to SIMPLEDOCS SYMBOL to be consistent with how we're thinking about this.  \nNext, we basically just type what we want. For the usage, we just type a usage message or a function declaration, as we see fit. If we want to add more sections we just copy the previous two or go to Insert » Usage in the docked cell and it'll make a template for us to fill out, too.  \nFor the details, there are a few little things set, but for the most part we just add new \"Item\" cells and type. Honestly pretty much any cell will work, but in the name of simplicity and extensibility grids should be done as cascades of, \"Item\" , \"Subitem\" and \"Subsubitem\" cells.  \nExamples work similarly, where we can just write things and evaluate and all will work as expected. The one thing to be careful with it that we should be sure to add a call in to Needs for the package at hand so that all the code will work as expected.    See Also\/Related Sections  \nIn general it's hard to figure out what things to relate, so there aren't really any related things that may be autofilled. There may sometimes be a few functions filled out, but that's pretty much it.  \nWith these sections there are only a few things to be careful with. First off, when there will be lots of related things (as with functions) I tend to use | as the separator between items. Secondly, when working with these, we'll want to use two different types of links.   Function\/Guide\/Tutorial Links  \nFor any content that references piece of docs within the paclet or in another paclet (or in the system docs), we use a special type of link that looks like \"paclet:PkgName\/type\/ContentName\" . This is also how the \"URI\" in the metadata should look. type will be any of \"ref\" , \"guide\" , or \"tutorial\" , the \"PkgName\" will be dropped altogether if the context is \"System`\" .    External Links  \nThese links are normal links. It probably makes sense to collect a set of links with the first page of docs and copy these over    Saving to Paclet  \nWe save the documentation from the hamburger menu by going to Save Documentation . This will ensure the metadata is there, change the notebook mode to working instead of editing, and save to the approrpriate location in the paclet we said the notebook was part of initially. After we do that it mostly looks like normal docs:     \nNext we add the necessary things to the \"PacletInfo.m\" file by using the Update PacletInfo menu item:     \nWe only really need to do this once (or whenever we add new things to the paclet that we want to be accounted for here).  \nAt this point, once the documentation indices get rebuilt (in 11.2+ this is immediate and automatic, in earlier versions we need to do a bit of work) we should be able to find our new function via search.   ‌   Markdown and Websites  \nAt this point we can also do things to get a website out of our notebook. The key benefit of the simplistic nature of these docs pages is it's possible to directly map them over to other formats. The \"intermediate representation\" we'll use here is called Markdown and is a popular format these days for representing documents. Many sites process it naturally, including GitHub , StackExchange , and many others. Lots of documentation systems (e.g. sphinx ) use Markdown as their base content, too.    Markdown Export  \nAs far as what we'll need to do, we can simply use the Save to Markdown menu item and it will save the Markdown automatically, exporting any images, links, etc. as we need them.     \nOne big thing is, absent any type of specializations, be certain that images aren't in Input\/Code cells . Input exports as a plain-text representation by default and the box structures can become huge and slow everything down. Images in any other type of cells are fine.    Customization  \nOn the topic of customization, we finally come to the a cell I ignored up at the top, which is that cell that says \"Markdown metadata\"     \nThis is a cell where we can add special parameters to the Markdown. This might be flags to be used within the website export process, or, as is commented out, whether to use images for all input as is done in the standard web documentation.  \nThe listing of options is extensive and will depend on the use case, and we'll get into that in other tutorials    Building the Website  \nThe last thing to do, after we've amassed our content, is to build the actual website. Amusingly, the function we've been documenting, BuildDocsSite , is the function used for this export process too. All we do though is go to the Build Site menu item and the site will be built for us automatically.     \nIt'll open through python, if possible, but in general the website is just in the output folder a few up from the current notebook directory:      FileNameJoin@{Nest[ParentDirectory, NotebookDirectory[], 2], \"output\"} (*Out:*) \"~\/Documents\/Wolfram Mathematica\/Applications\/SimpleDocs\/project\/docs\/output\"    \n\n  ‌   Related Guides  \n  SimpleDocs     ‌   Related Tutorials  \n  Batch Documentation     ‌   Related Links  \n  SimpleDocs     BTools     Ems    \n\n \n Made with SimpleDocs",
			"tags":"",
			"url":"tutorial\/SimpleDocs.html",
			"note":""
		},
		{
			"title":"Making Batch Documentation",
			"text":"‌   Making Batch Documentation  \nOne of the big benefits of having code to generate documentation like this (and having simple documentation to work with) is that we can deal with it programatically. That's not to say that we can do everything perfectly, but we can get the basic superstructure up and working and handle most of the boiler plate.  \nFor this demo, we'll first figure out what functions still need to be documented:      << SimpleDocs`Package` fns = Names[\"SimpleDocs`Package`*\"] (*Out:*) {\"BuildDocsSite\",\"BuildNotebookDocsSite\",\"CreateTemplateNotebook\",\"InitializeDocsSite\",\"OpenDocsSiteConfig\",\"SampleTemplateNotebook\",\"SaveNotebookMarkdown\",\"SaveNotebookToPaclet\",\"SaveNotebookToPacletProject\",\"SetNotebookPaclet\",\"SetPacletInfo\",\"$DockedCell\",\"$HamburgerMenu\",\"$InsertionMenu\",\"$MetadataEditor\",\"$NotebookTemplates\"} needDocs= Select[fns, !FileExistsQ@ FileNameJoin@{ParentDirectory@NotebookDirectory[], \"ref\", StringSplit[#, \"`\"]<>\".nb\"}& ] (*Out:*) {\"BuildNotebookDocsSite\",\"InitializeDocsSite\",\"OpenDocsSiteConfig\",\"SampleTemplateNotebook\",\"SaveNotebookMarkdown\",\"SaveNotebookToPaclet\",\"SaveNotebookToPacletProject\",\"SetNotebookPaclet\",\"SetPacletInfo\",\"$DockedCell\",\"$HamburgerMenu\",\"$InsertionMenu\",\"$MetadataEditor\",\"$NotebookTemplates\"}    \nAt this point we'll think about what we did in the basic SimpleDocs Usage tutorial and just write code to do most of it:  \nGenerate function template with CreateTemplateNotebook Save notebook to paclet Edit metadata to get the context and URI parts correct Change the little label bar to be correct Save the documentation notebook Save the Markdown  \nAs an additional step, we'll add the related links I've been adding to all of the pages, which look like this:     \nAnd then we'll just loop over the functions and do that at each step. So let's start. First, the function to make a template and get the NotebookObject reference. Well that's already basically there, so let's move to the next part, which is correcting the metadata:      correctMetadata[nb_]:= ( CurrentValue[nb, {TaggingRules, \"Metadata\", \"context\"}]= \"SimpleDocs`\"; CurrentValue[nb, {TaggingRules, \"Metadata\", \"uri\"}]= StringReplace[ CurrentValue[nb, {TaggingRules, \"Metadata\", \"uri\"}], \"SimpleDocsPackage\"->\"SimpleDocs\" ]; )    \nThat was easy. Okay. Next step is correcting the label cell. I called the cell style \"TitleBar\" so we'll just find the first of that type of cell and change the body:      correctTitleBar[nb_]:= With[{c=Cells[nb, CellStyle->\"TitleBar\"][[1]]}, NotebookWrite[c, Cell[\"SimpleDocs Symbol\", \"TitleBar\"]]; ]    \nThen we'll replace the related bits. Let's just say I saved the collection of cells to a variable called $relatedCells :      correctRelatedStuff[nb_]:= Module[{cells, firstCell}, firstCell=Cells[nb, CellStyle->\"SeeAlso\"][[1]]; cells= Cells[nb, CellStyle->\"SeeAlso\"|\"Related\"|\"RelatedLinks\"|\"Footer\"|\"Text\"|\"Item\" ]; cells=Join@@SplitBy[cells, #=!=firstCell&][[2;;]]; SelectionMove[cells[[-1]], After, Cell]; NotebookDelete@cells; NotebookWrite[nb, $relatedCells] ];    \nAlso easy. Finally, the saving steps are basically just functions in the package so we'll just chain this all together as:      doTemplateDocs[fn_]:= Module[{nb, file, docs, md}, nb=CreateTemplateNotebook@fn; CurrentValue[nb, {TaggingRules, \"Paclet\"}]=\"SimpleDocs\"; SaveNotebookToPacletProject[nb]; file = NotebookFileName@nb; correctMetadata[nb]; correctTitleBar[nb]; correctRelatedStuff[nb]; NotebookSave@nb; docs = SaveNotebookToPaclet[nb]; md = SaveNotebookMarkdown[nb]; NotebookClose@nb; <| \"Notebook\"->file, \"Documentation\"->docs, \"Markdown\"->md |> ]    \nLet's just check that this works cleanly on the first of our undocumented functions:      doTemplateDocs@needDocs[[1]] (*Out:*) <|\"Notebook\"->\"~\/Documents\/Wolfram Mathematica\/Applications\/SimpleDocs\/project\/docs\/content\/ref\/BuildNotebookDocsSite.nb\",\"Documentation\"->\"~\/Documents\/Wolfram Mathematica\/Applications\/SimpleDocs\/Documentation\/English\/ReferencePages\/Symbols\/BuildNotebookDocsSite.nb\",\"Markdown\"->\"~\/Documents\/Wolfram Mathematica\/Applications\/SimpleDocs\/project\/docs\/content\/ref\/BuildNotebookDocsSite.md\"|>    \nSeems clean. Now let's do this for all of the rest of them (where they aren't just objects, which a) don't work well with the templates and b) aren't going to be worth documenting really):      doTemplateDocs\/@ Select[Rest@needDocs, Length@ToExpression[#, StandardForm, OwnValues]==0&];    \n\n \n\n  ‌   Related Guides  \n  SimpleDocs     ‌   Related Tutorials  \n  SimpleDocs     ‌   Related Links  \n  SimpleDocs     BTools     Ems    \n\n \n Made with SimpleDocs",
			"tags":"",
			"url":"tutorial\/BatchDocs.html",
			"note":""
		}
	]
}